{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/common/model/appearance/AppearanceSlot.ts","webpack:///./src/slimes-the-game/data/character/characters sync nonrecursive \\.ts$","webpack:///./src/slimes-the-game/data/character/characters/dummy.ts","webpack:///./src/slimes-the-game/data/items/families sync nonrecursive \\.ts$","webpack:///./src/slimes-the-game/data/items/families/HumanFamily.ts","webpack:///./src/slimes-the-game/data/items/items/player sync nonrecursive \\.ts$","webpack:///./src/slimes-the-game/data/items/items/player/armLeft.ts","webpack:///./src/slimes-the-game/data/items/items/player/armLeft/defaultArmLeft.png","webpack:///./src/slimes-the-game/data/items/items/player/armRight.ts","webpack:///./src/slimes-the-game/data/items/items/player/armRight/defaultArmRight.png","webpack:///./src/slimes-the-game/data/items/items/player/expression.ts","webpack:///./src/slimes-the-game/data/items/items/player/expression/defaultExpression.png","webpack:///./src/slimes-the-game/data/items/items/player/hairBack.ts","webpack:///./src/slimes-the-game/data/items/items/player/hairBack/defaultHairBack.png","webpack:///./src/slimes-the-game/data/items/items/player/hairFront.ts","webpack:///./src/slimes-the-game/data/items/items/player/hairFront/defaultHairFront.png","webpack:///./src/slimes-the-game/data/items/items/player/head.ts","webpack:///./src/slimes-the-game/data/items/items/player/head/defaultHead.png","webpack:///./src/slimes-the-game/data/items/items/player/hips.ts","webpack:///./src/slimes-the-game/data/items/items/player/hips/plainPanties.png","webpack:///./src/slimes-the-game/data/items/items/player/legs.ts","webpack:///./src/slimes-the-game/data/items/items/player/legs/defaultLegs.png","webpack:///./src/slimes-the-game/data/items/items/player/pubicHair.ts","webpack:///./src/slimes-the-game/data/items/items/player/pubicHair/defaultPubicHair.png","webpack:///./src/slimes-the-game/data/items/items/player/shadow.ts","webpack:///./src/slimes-the-game/data/items/items/player/shadow/defaultShadow.png","webpack:///./src/slimes-the-game/data/items/items/player/torso.ts","webpack:///./src/slimes-the-game/data/items/items/player/torso/defaultTorso.png","webpack:///./src/slimes-the-game/data/items/items/player/torso/plainBra.png","webpack:///./src/common/redux/app/appActions.ts","webpack:///./src/common/redux/app/appPixiAppReducer.ts","webpack:///./src/common/redux/app/appPositionReducer.ts","webpack:///./src/common/redux/app/appState.ts","webpack:///./src/common/redux/app/appViewReducer.ts","webpack:///./src/common/redux/app/appReducer.ts","webpack:///./src/common/util/Log.ts","webpack:///./src/common/redux/item/itemActions.ts","webpack:///./src/common/redux/item/itemByIdReducer.ts","webpack:///./src/common/redux/character/characterActions.ts","webpack:///./src/common/redux/item/itemSelectors.ts","webpack:///./src/common/redux/commonSelectors.ts","webpack:///./src/common/redux/itemFamily/itemFamilySelectors.ts","webpack:///./src/common/redux/character/playerSelectors.ts","webpack:///./src/common/redux/character/characterSelectors.ts","webpack:///./src/common/redux/character/playerActions.ts","webpack:///./src/common/redux/character/characterPlayerReducer.ts","webpack:///./src/common/redux/character/characterByIdReducer.ts","webpack:///./src/common/redux/character/characterReducer.ts","webpack:///./src/common/redux/item/itemByFamilyReducer.ts","webpack:///./src/common/redux/item/itemReducer.ts","webpack:///./src/common/redux/itemFamily/itemFamilyActions.ts","webpack:///./src/common/redux/itemFamily/itemFamilyByTypeReducer.ts","webpack:///./src/common/redux/itemFamily/itemFamilyReducer.ts","webpack:///./src/slimes-the-game/redux/rootReducer.ts","webpack:///./src/slimes-the-game/redux/store.ts","webpack:///./src/common/components/PixiAppView/PixiAppView.tsx","webpack:///./src/slimes-the-game/components/Sidebar/Sidebar.tsx","webpack:///./src/common/components/ContainerLinkedComponent/ContainerLinkedComponent.tsx","webpack:///./src/common/hocs/withAppPosition.ts","webpack:///./src/common/hocs/withPixiApp.tsx","webpack:///./src/common/pixi/PixiAppUpdateManager.ts","webpack:///./src/common/pixi/containers/LayoutContainer.ts","webpack:///./src/common/pixi/containers/DomTrackingContainer.ts","webpack:///./src/slimes-the-game/containers/CharacterContainer.ts","webpack:///./src/slimes-the-game/components/windows/CharacterWindow/CharacterWindowContainer.ts","webpack:///./src/slimes-the-game/config/config.ts","webpack:///./src/slimes-the-game/components/windows/CharacterWindow/CharacterWindow.tsx","webpack:///./src/slimes-the-game/components/windows/MapWindow/MapWindow.tsx","webpack:///./src/slimes-the-game/components/windows/NPCWindow/NPCWindow.tsx","webpack:///./src/slimes-the-game/components/windows/TextWindow/TextWindow.tsx","webpack:///./src/slimes-the-game/components/common/Tabs/Tab.tsx","webpack:///./src/slimes-the-game/components/common/Tabs/TabHeader.tsx","webpack:///./src/slimes-the-game/components/common/Tabs/Tabs.tsx","webpack:///./src/slimes-the-game/components/windows/DressingRoomControlsWindow/DressingRoomSlotSelect.tsx","webpack:///./src/slimes-the-game/components/windows/DressingRoomControlsWindow/DressingRoomControlsWindow.tsx","webpack:///./src/common/pixi/PixiApp.ts","webpack:///./src/common/redux/app/appSelectors.ts","webpack:///./src/common/components/PixiAppComponent/PixiAppComponent.tsx","webpack:///./src/slimes-the-game/components/views/DefaultView/DefaultView.tsx","webpack:///./src/slimes-the-game/components/views/DressingRoomView/DressingRoomView.tsx","webpack:///./src/slimes-the-game/components/CheatMenu/CheatMenu.tsx","webpack:///./src/slimes-the-game/data/dataLoaderUtils.ts","webpack:///./src/slimes-the-game/data/character/player.ts","webpack:///./src/slimes-the-game/data/character/characterLoader.ts","webpack:///./src/slimes-the-game/data/items/itemLoader.ts","webpack:///./src/slimes-the-game/SlimesTheGame.tsx","webpack:///./src/index.tsx","webpack:///./src/common/model/appearance/ItemCategory.ts","webpack:///./src/common/model/appearance/ItemFamily.ts","webpack:///./src/slimes-the-game/data/items/items/itemDefUtils.ts","webpack:///./src/common/functions.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","3","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","AppearanceSlotType","AppearanceSlotTypeValues","values","AppearanceSlotNames","HEAD","TORSO","HIPS","LEGS","FEET","ARM_LEFT","ARM_RIGHT","HAIR_BACK","EXPRESSION","HAIR_FRONT","PUBIC_HAIR","SHADOW","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","dummyCharacter","appearance","family","HUMAN","categories","humanFamily","type","slots","canEquip","UNDERWEAR","CLOTHES","ARMOUR","BODY","bodyItems","createBodyItem","displayName","priority","assets","url","underwearItems","createUnderwearItem","description","AppAction","reducers","SET_PIXI_APP","view","action","payload","SET_POSITION","position","x","y","AppView","SET_VIEW","appReducer","DEFAULT","reducer","pixiApp","app","LogLevel","log","logColors","ERROR","WARNING","INFO","DEBUG","TRACE","message","this","console","error","warn","logFunction","level","style","format","Date","serialiseData","String","ItemAction","registerItemReducer","state","Array","isArray","forEach","itemDef","itemIdFromItem","REGISTER_ITEMS","itemByIdReducer","item","itemId","slot","CharacterAction","getItemByIdState","byId","getItemById","max","getItemCategoryMappings","byFamily","props","itemsById","itemIdsByFamily","familyIds","categoryMapping","ItemCategory","category","slotMapping","getItemFamilyByTypeState","itemFamily","byType","getPlayerId","character","player","getNormalizedPlayer","playerId","charactersById","getNormalizedPlayerAppearance","normalizedPlayer","getPlayerAppearance","normalizedAppearance","itemFamiliesByType","mapAppearance","getPlayerAppearanceItems","appearanceItems","sort","i1","i2","mapCategories","ncm","reduce","ccm","nsm","AppearanceSlot","csm","mapSlots","PlayerAction","registerPlayerReducer","REGISTER","characterPlayerReducer","normalizeCharacter","registerCharacterReducer","setCharacterAppearanceItemReducer","characterId","REGISTER_CHARACTER","SET_APPEARANCE_ITEM","characterByIdReducer","def","scm","ssm","characterReducer","itemByFamilyReducer","itemReducer","ItemFamilyAction","registerItemFamilyReducer","REGISTER_FAMILY","itemFamilyByTypeReducer","itemFamilyReducer","rootReducer","store","className","super","ref","getInitialState","containerAdded","container","createContainer","addContainerToApp","prevProps","appPosition","width","height","setProps","getContainerProps","destroy","currentRef","current","getBoundingClientRect","stage","addChild","setState","withAppPosition","withPixiApp","PixiAppUpdateManager","listener","updateListeners","index","indexOf","delta","dirty","assignProps","tick","addUpdateListener","layout","shouldContainerUpdate","removeChildren","clear","newProps","highlight","set","border","lineStyle","beginFill","drawRect","endFill","setPropsFromState","subscribe","asset","sprite","from","getState","addCharacterContainer","scaleX","scaleY","scale","Math","min","characterContainer","CharacterWindow","withResizeDetector","parentState","MapWindow","NPCWindow","children","onSelect","tab","selected","onClick","defaultProps","onSelectTab","tabs","child","selectedTab","find","onChange","options","target","renderCategory","includes","renderSlotSelect","itemCategoryMapping","availableItems","onItemSet","DressingRoomControlsWindow","ItemFamily","dispatch","setCharacterAppearanceItem","setPlayerAppearanceItem","getCurrentView","pixiStageRef","element","clientWidth","clientHeight","transparent","onResize","appendChild","onPixiAppSet","ticker","add","updateApp","View","resizeTo","onAppResize","viewMapping","DRESSING_ROOM","PixiAppComponent","appSetPixiApp","open","onKeyDown","addEventListener","renderModal","onViewSwitch","CheatMenu","appSetView","loadContext","context","moduleLoader","loadCharacterModule","default","loadItemModule","items","registerItems","loadFamilyModule","debug","info","appRoot","document","getElementById","ItemCategoryValues","ItemCategoryNames","ItemFamilyType","itemDefinitionGenerator","noop","args","memoize"],"mappings":"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","file":"index.af9c78fb2752101ec1b8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t3: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/slimes-the-game/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([179,0,1,5]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { ItemCategory } from './ItemCategory';\r\n\r\nexport enum AppearanceSlotType {\r\n    HEAD = 'head',\r\n    TORSO = 'torso',\r\n    HIPS = 'hips',\r\n    LEGS = 'legs',\r\n    FEET = 'feet',\r\n    ARM_LEFT = 'armLeft',\r\n    ARM_RIGHT = 'armRight',\r\n    HAIR_BACK = 'hairBack',\r\n    EXPRESSION = 'expression',\r\n    HAIR_FRONT = 'hairFront',\r\n    PUBIC_HAIR = 'pubicHair',\r\n    SHADOW = 'shadow',\r\n}\r\n\r\nexport const AppearanceSlotTypeValues: AppearanceSlotType[] = Object.values(AppearanceSlotType);\r\n\r\nexport const AppearanceSlotNames: Record<AppearanceSlotType, string> = {\r\n    [AppearanceSlotType.HEAD]: 'Head',\r\n    [AppearanceSlotType.TORSO]: 'Torso',\r\n    [AppearanceSlotType.HIPS]: 'Hips',\r\n    [AppearanceSlotType.LEGS]: 'Legs',\r\n    [AppearanceSlotType.FEET]: 'Feet',\r\n    [AppearanceSlotType.ARM_LEFT]: 'Left Arm',\r\n    [AppearanceSlotType.ARM_RIGHT]: 'Right Arm',\r\n    [AppearanceSlotType.HAIR_BACK]: 'Back Hair',\r\n    [AppearanceSlotType.EXPRESSION]: 'Expression',\r\n    [AppearanceSlotType.HAIR_FRONT]: 'Front Hair',\r\n    [AppearanceSlotType.PUBIC_HAIR]: 'Pubic Hair',\r\n    [AppearanceSlotType.SHADOW]: 'Shadow',\r\n};\r\n\r\nexport interface AppearanceSlot {\r\n    type: AppearanceSlotType;\r\n    canEquip: boolean;\r\n    categories?: ItemCategory[];\r\n}\r\n","var map = {\n\t\"./dummy.ts\": 151\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 150;","import { ItemFamilyType } from '../../../../common/model/appearance/ItemFamily';\r\nimport { CharacterDefinition } from '../../../../common/model/character/CharacterDefinition';\r\n\r\nconst dummyCharacter: CharacterDefinition = {\r\n    appearance: {\r\n        family: ItemFamilyType.HUMAN,\r\n        categories: {},\r\n    },\r\n};\r\n\r\nexport default dummyCharacter;\r\n","var map = {\n\t\"./HumanFamily.ts\": 153\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 152;","import { AppearanceSlotType } from '../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamily, ItemFamilyType } from '../../../../common/model/appearance/ItemFamily';\r\n\r\nconst humanFamily: ItemFamily = {\r\n    type: ItemFamilyType.HUMAN,\r\n    slots: [\r\n        {\r\n            type: AppearanceSlotType.HEAD,\r\n            canEquip: true,\r\n        },\r\n        {\r\n            type: AppearanceSlotType.TORSO,\r\n            canEquip: true,\r\n        },\r\n        {\r\n            type: AppearanceSlotType.HIPS,\r\n            canEquip: true,\r\n            categories: [ItemCategory.UNDERWEAR, ItemCategory.CLOTHES, ItemCategory.ARMOUR],\r\n        },\r\n        {\r\n            type: AppearanceSlotType.LEGS,\r\n            canEquip: true,\r\n        },\r\n        {\r\n            type: AppearanceSlotType.FEET,\r\n            canEquip: true,\r\n            categories: [ItemCategory.UNDERWEAR, ItemCategory.CLOTHES, ItemCategory.ARMOUR],\r\n        },\r\n        {\r\n            type: AppearanceSlotType.ARM_LEFT,\r\n            canEquip: true,\r\n        },\r\n        {\r\n            type: AppearanceSlotType.ARM_RIGHT,\r\n            canEquip: true,\r\n        },\r\n        {\r\n            type: AppearanceSlotType.HAIR_BACK,\r\n            canEquip: false,\r\n            categories: [ItemCategory.BODY],\r\n        },\r\n        {\r\n            type: AppearanceSlotType.EXPRESSION,\r\n            canEquip: false,\r\n            categories: [ItemCategory.BODY],\r\n        },\r\n        {\r\n            type: AppearanceSlotType.HAIR_FRONT,\r\n            canEquip: false,\r\n            categories: [ItemCategory.BODY],\r\n        },\r\n        {\r\n            type: AppearanceSlotType.PUBIC_HAIR,\r\n            canEquip: false,\r\n            categories: [ItemCategory.BODY],\r\n        },\r\n        {\r\n            type: AppearanceSlotType.SHADOW,\r\n            canEquip: false,\r\n            categories: [ItemCategory.BODY],\r\n        },\r\n    ],\r\n};\r\n\r\nexport default humanFamily;\r\n","var map = {\n\t\"./armLeft.ts\": 155,\n\t\"./armRight.ts\": 157,\n\t\"./expression.ts\": 159,\n\t\"./hairBack.ts\": 161,\n\t\"./hairFront.ts\": 163,\n\t\"./head.ts\": 165,\n\t\"./hips.ts\": 167,\n\t\"./legs.ts\": 169,\n\t\"./pubicHair.ts\": 171,\n\t\"./shadow.ts\": 173,\n\t\"./torso.ts\": 175\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 154;","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.ARM_LEFT,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultArmLeft',\r\n        displayName: 'Default Left Arm',\r\n        priority: 30,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./armLeft/defaultArmLeft.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/ec443cce74498751a3cbb43a21719299.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.ARM_RIGHT,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultArmRight',\r\n        displayName: 'Default Right Arm',\r\n        priority: 50,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./armRight/defaultArmRight.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/331d46c72ab2add55af911a9db9c1e81.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.EXPRESSION,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultExpression',\r\n        displayName: 'Default Expression',\r\n        priority: 90,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./expression/defaultExpression.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/9db05836bd766008fe77a7666e4685be.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.HAIR_BACK,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultHairBack',\r\n        displayName: 'Default Back Hair',\r\n        priority: 70,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./hairBack/defaultHairBack.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/293931d54da437ea0371afdc57e1eea9.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.HAIR_FRONT,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultHairFront',\r\n        displayName: 'Default Front Hair',\r\n        priority: 100,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./hairFront/defaultHairFront.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/5117f2851efb243bafc25294758918fc.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.HEAD,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultHead',\r\n        displayName: 'Default Head',\r\n        priority: 80,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./head/defaultHead.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/7b680c824703557d11fd4f5200c1fb5a.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createUnderwearItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.HIPS,\r\n    ItemCategory.UNDERWEAR\r\n);\r\n\r\nconst underwearItems: AppearanceItemDefinition[] = [\r\n    createUnderwearItem({\r\n        name: 'plainPanties',\r\n        displayName: 'Plain Panties',\r\n        description: 'A simple pair of panties',\r\n        priority: 200,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./hips/plainPanties.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...underwearItems];\r\n","module.exports = __webpack_public_path__ + \"assets/101dfe13680d7c31475e158a48d578a0.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.LEGS,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultLegs',\r\n        displayName: 'Default Legs',\r\n        priority: 20,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./legs/defaultLegs.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/3876cac8706370c1374ac0c785a1e53c.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.PUBIC_HAIR,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultPubicHair',\r\n        displayName: 'Default Pubic Hair',\r\n        priority: 60,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./pubicHair/defaultPubicHair.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/341f0b6e59168b0379f95878ab6b12b6.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.SHADOW,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultShadow',\r\n        displayName: 'Default Shadow',\r\n        priority: 10,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./shadow/defaultShadow.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/96b9ed2f34d8e302b7a206c17f7b2399.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.TORSO,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst createUnderwearItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.TORSO,\r\n    ItemCategory.UNDERWEAR\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultTorso',\r\n        displayName: 'Default Torso',\r\n        priority: 40,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./torso/defaultTorso.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nconst underwearItems: AppearanceItemDefinition[] = [\r\n    createUnderwearItem({\r\n        name: 'plainBra',\r\n        displayName: 'Plain Bra',\r\n        description: 'A simple bra',\r\n        priority: 210,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./torso/plainBra.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems, ...underwearItems];\r\n","module.exports = __webpack_public_path__ + \"assets/e81994b2f5ffff2d0916d7d545941483.png\";","module.exports = __webpack_public_path__ + \"assets/21449c696b86185ae6eb652db5ce0634.png\";","import { IPointData } from 'pixi.js';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { PixiApp } from '../../pixi/PixiApp';\r\nimport { AppView } from './appState';\r\n\r\nexport enum AppAction {\r\n    SET_VIEW = 'app/set-view',\r\n    SET_PIXI_APP = 'app/set-pixi-app',\r\n    SET_POSITION = 'app/set-position',\r\n}\r\n\r\nexport function appSetView(view: AppView): PayloadAction<AppView> {\r\n    return { type: AppAction.SET_VIEW, payload: view };\r\n}\r\n\r\nexport function appSetPixiApp(app: PixiApp): PayloadAction<PixiApp> {\r\n    return { type: AppAction.SET_PIXI_APP, payload: app };\r\n}\r\n\r\nexport function appSetPosition(p: IPointData): PayloadAction<IPointData> {\r\n    return { type: AppAction.SET_POSITION, payload: p };\r\n}\r\n","import { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { PixiApp } from '../../pixi/PixiApp';\r\nimport { AppAction } from './appActions';\r\n\r\nconst reducers: Record<string, Reducer<PixiApp>> = {\r\n    [AppAction.SET_PIXI_APP]: setPixiAppReducer,\r\n};\r\n\r\nexport function appPixiAppReducer(app: PixiApp = null, action: Action): PixiApp {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(app, action) : app;\r\n}\r\n\r\nfunction setPixiAppReducer(view: PixiApp, action: PayloadAction<PixiApp>): PixiApp {\r\n    return action.payload;\r\n}\r\n","import { IPointData } from 'pixi.js';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { AppAction } from './appActions';\r\n\r\nconst reducers: Record<string, Reducer<IPointData>> = {\r\n    [AppAction.SET_POSITION]: setPositionReducer,\r\n};\r\n\r\nexport function appPositionReducer(\r\n    position: IPointData = { x: 0, y: 0 },\r\n    action: Action\r\n): IPointData {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(position, action) : position;\r\n}\r\n\r\nfunction setPositionReducer(\r\n    position: IPointData,\r\n    { payload }: PayloadAction<IPointData>\r\n): IPointData {\r\n    const { x, y } = position;\r\n    if (x !== payload.x || y !== payload.y) {\r\n        return { ...payload };\r\n    }\r\n    return position;\r\n}\r\n","import { IPointData } from 'pixi.js';\r\nimport { PixiApp } from '../../pixi/PixiApp';\r\n\r\nexport enum AppView {\r\n    DEFAULT = 'default',\r\n    DRESSING_ROOM = 'dressingRoom',\r\n}\r\n\r\nexport interface AppState {\r\n    view: AppView;\r\n    pixiApp: PixiApp;\r\n    position: IPointData;\r\n}\r\n\r\nexport interface WithAppState {\r\n    app: AppState;\r\n}\r\n","import { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { AppAction } from './appActions';\r\nimport { AppView } from './appState';\r\n\r\nconst reducers: Record<string, Reducer<AppView>> = {\r\n    [AppAction.SET_VIEW]: setViewReducer,\r\n};\r\n\r\nexport function appViewReducer(view = AppView.DEFAULT, action: Action): AppView {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(view, action) : view;\r\n}\r\n\r\nfunction setViewReducer(view: AppView, action: PayloadAction<AppView>): AppView {\r\n    return action.payload;\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { appPixiAppReducer } from './appPixiAppReducer';\r\nimport { appPositionReducer } from './appPositionReducer';\r\nimport { AppState } from './appState';\r\nimport { appViewReducer } from './appViewReducer';\r\n\r\nexport const appReducer = combineReducers<AppState>({\r\n    view: appViewReducer,\r\n    pixiApp: appPixiAppReducer,\r\n    position: appPositionReducer,\r\n});\r\n","import { format } from 'date-fns';\r\n\r\nexport enum LogLevel {\r\n    ERROR = 0,\r\n    WARNING = 1,\r\n    INFO = 2,\r\n    DEBUG = 3,\r\n    TRACE = 4,\r\n}\r\n\r\nexport type ConsoleLogFunction = (message?: any, ...args: any[]) => void;\r\n\r\nexport class Log {\r\n    private logColors: Record<LogLevel, string> = {\r\n        [LogLevel.ERROR]: '#f44336',\r\n        [LogLevel.WARNING]: '#ffa000',\r\n        [LogLevel.INFO]: '#039be5',\r\n        [LogLevel.DEBUG]: '#689f38',\r\n        [LogLevel.TRACE]: '#90a4ae',\r\n    };\r\n\r\n    public error(message: string, data?: any): void {\r\n        this.log(console.error, LogLevel.ERROR, `[ERROR] ${message}`, data);\r\n    }\r\n\r\n    public warn(message: string, data?: any): void {\r\n        this.log(console.warn, LogLevel.WARNING, `[WARN]  ${message}`, data);\r\n    }\r\n\r\n    public info(message: string, data?: any): void {\r\n        this.log(console.log, LogLevel.INFO, `[INFO]  ${message}`, data);\r\n    }\r\n\r\n    public debug(message: string, data?: any): void {\r\n        this.log(console.log, LogLevel.DEBUG, `[DEBUG] ${message}`, data);\r\n    }\r\n\r\n    public trace(message: string, data?: any): void {\r\n        this.log(console.log, LogLevel.TRACE, `[TRACE] ${message}`, data);\r\n    }\r\n\r\n    public log(\r\n        logFunction: ConsoleLogFunction,\r\n        level: LogLevel,\r\n        message: string,\r\n        data?: any\r\n    ): void {\r\n        const color = this.logColors[level];\r\n        const style = `color: ${color};`;\r\n        logFunction(\r\n            `%c${format(new Date(), 'HH:mm:ss.SSS')} ${message}${this.serialiseData(data)}`,\r\n            style\r\n        );\r\n    }\r\n\r\n    private serialiseData(data?: any): string {\r\n        if (data == null) {\r\n            return '';\r\n        }\r\n        return String(data);\r\n    }\r\n}\r\n\r\nexport const log = new Log();\r\n","import { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { AppearanceItemDefinition } from '../../model/appearance/AppearanceItem';\r\n\r\nexport enum ItemAction {\r\n    REGISTER_ITEMS = 'item/register-items',\r\n}\r\n\r\nexport function registerItems(\r\n    ...items: AppearanceItemDefinition[]\r\n): PayloadAction<AppearanceItemDefinition[]> {\r\n    return { type: ItemAction.REGISTER_ITEMS, payload: items };\r\n}\r\n","import produce from 'immer';\r\nimport objectHash from 'object-hash';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { ItemFamilyType } from '../../model/appearance/ItemFamily';\r\nimport { AppearanceItemDefinition } from '../../model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../model/appearance/AppearanceSlot';\r\nimport { ItemAction } from './itemActions';\r\nimport { ItemByIdState } from './itemState';\r\n\r\nconst registerItemReducer = produce(\r\n    (state: ItemByIdState, { payload }: PayloadAction<AppearanceItemDefinition[]>) => {\r\n        if (!Array.isArray(payload)) {\r\n            return state;\r\n        }\r\n        payload.forEach((itemDef) => {\r\n            const id = itemIdFromItem(itemDef);\r\n            state[id] = { ...itemDef, id };\r\n        });\r\n        return state;\r\n    },\r\n    {}\r\n);\r\n\r\nconst reducers: Record<string, Reducer<ItemByIdState>> = {\r\n    [ItemAction.REGISTER_ITEMS]: registerItemReducer,\r\n};\r\n\r\nexport const itemByIdReducer = produce((state: ItemByIdState, action: Action) => {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(state, action) : state;\r\n}, {});\r\n\r\nexport function itemIdFromItem(item: AppearanceItemDefinition): string {\r\n    return itemId(item.family, item.slot, item.name);\r\n}\r\n\r\nexport function itemId(family: ItemFamilyType, slot: AppearanceSlotType, name: string): string {\r\n    return objectHash([family, slot, name]);\r\n}\r\n","import cuid from 'cuid';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { AppearanceItem } from '../../model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../model/appearance/ItemCategory';\r\nimport { CharacterDefinition } from '../../model/character/CharacterDefinition';\r\nimport { WithId } from '../../types';\r\n\r\nexport enum CharacterAction {\r\n    REGISTER_CHARACTER = 'character/register-character',\r\n    SET_APPEARANCE_ITEM = 'character/set-appearance-item',\r\n}\r\n\r\nexport interface SetCharacterAppearanceItemPayload {\r\n    characterId: string;\r\n    category: ItemCategory;\r\n    slot: AppearanceSlotType;\r\n    item: AppearanceItem;\r\n}\r\n\r\nexport function registerCharacter(\r\n    def: CharacterDefinition\r\n): PayloadAction<WithId<CharacterDefinition>> {\r\n    return { type: CharacterAction.REGISTER_CHARACTER, payload: { ...def, id: cuid() } };\r\n}\r\n\r\nexport function setCharacterAppearanceItem(\r\n    characterId: string,\r\n    category: ItemCategory,\r\n    slot: AppearanceSlotType,\r\n    item: AppearanceItem\r\n): PayloadAction<SetCharacterAppearanceItemPayload> {\r\n    return {\r\n        type: CharacterAction.SET_APPEARANCE_ITEM,\r\n        payload: { characterId, category, slot, item },\r\n    };\r\n}\r\n","import { createSelector } from 'reselect';\r\nimport { State } from '../../../slimes-the-game/redux/store';\r\nimport { memoize } from '../../functions';\r\nimport { AppearanceItem } from '../../model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../model/appearance/AppearanceSlot';\r\nimport { ItemCategory, ItemCategoryValues } from '../../model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../model/appearance/ItemFamily';\r\nimport { PartialRecord } from '../../types';\r\nimport { getProps } from '../commonSelectors';\r\nimport { itemId } from './itemByIdReducer';\r\nimport { ItemByFamilyState, ItemByIdState, WithItemState } from './itemState';\r\n\r\nexport type ItemSlotMapping = PartialRecord<AppearanceSlotType, AppearanceItem[]>;\r\nexport type ItemCategoryMapping = PartialRecord<ItemCategory, ItemSlotMapping>;\r\n\r\nexport function getItemByIdState(state: WithItemState): ItemByIdState {\r\n    return state.item.byId;\r\n}\r\n\r\nexport function getItemByFamilyState(state: WithItemState): ItemByFamilyState {\r\n    return state.item.byFamily;\r\n}\r\n\r\nexport function getItemById(state: WithItemState, id: string): AppearanceItem {\r\n    return state.item.byId[id] ?? null;\r\n}\r\n\r\nexport const getItemByFamilySlotName = memoize(\r\n    (\r\n        state: WithItemState,\r\n        family: ItemFamilyType,\r\n        slot: AppearanceSlotType,\r\n        name: string\r\n    ): AppearanceItem => {\r\n        const id = itemId(family, slot, name);\r\n        return getItemById(state, id);\r\n    },\r\n    { max: 50 }\r\n);\r\n\r\nexport const getItemCategoryMappings = createSelector<\r\n    State,\r\n    ItemFamilyType,\r\n    ItemByIdState,\r\n    ItemByFamilyState,\r\n    ItemFamilyType,\r\n    ItemCategoryMapping\r\n>(\r\n    [getItemByIdState, getItemByFamilyState, getProps],\r\n    (\r\n        itemsById: ItemByIdState,\r\n        itemIdsByFamily: ItemByFamilyState,\r\n        family: ItemFamilyType\r\n    ): ItemCategoryMapping => {\r\n        const familyIds = itemIdsByFamily[family] ?? [];\r\n        const categoryMapping: ItemCategoryMapping = {};\r\n        ItemCategoryValues.forEach((category) => (categoryMapping[category] = {}));\r\n        familyIds.forEach((id) => {\r\n            const item = itemsById[id];\r\n            if (item) {\r\n                const slotMapping = (categoryMapping[item.category] ??= {});\r\n                (slotMapping[item.slot] ??= []).push(item);\r\n            }\r\n        });\r\n        return categoryMapping;\r\n    }\r\n);\r\n","export function getProps<P>(state: any, props: P): P {\r\n    return props;\r\n}\r\n","import { memoize } from '../../functions';\r\nimport { ItemFamily, ItemFamilyType } from '../../model/appearance/ItemFamily';\r\nimport { ItemFamilyByTypeState, WithItemFamilyState } from './itemFamilyState';\r\n\r\nexport function getItemFamilyByTypeState(state: WithItemFamilyState): ItemFamilyByTypeState {\r\n    return state.itemFamily.byType;\r\n}\r\n\r\nexport const getItemFamilyByType = memoize(\r\n    (state: ItemFamilyByTypeState, family: ItemFamilyType): ItemFamily => {\r\n        return state[family] ?? null;\r\n    }\r\n);\r\n","import { createSelector } from 'reselect';\r\nimport { AppearanceItem } from '../../model/appearance/AppearanceItem';\r\nimport { AppearanceSlotTypeValues } from '../../model/appearance/AppearanceSlot';\r\nimport { ItemCategoryValues } from '../../model/appearance/ItemCategory';\r\nimport {\r\n    CharacterAppearance,\r\n    CharacterCategoryMapping,\r\n    CharacterSlotMapping,\r\n} from '../../model/character/Character';\r\nimport {\r\n    NormalizedCategoryMapping,\r\n    NormalizedCharacterAppearance,\r\n    NormalizedSlotMapping,\r\n} from '../../model/character/NormalizedCharacter';\r\nimport { NormalizedPlayer, Player } from '../../model/character/Player';\r\nimport { log } from '../../util/Log';\r\nimport { getItemByIdState } from '../item/itemSelectors';\r\nimport { ItemByIdState } from '../item/itemState';\r\nimport { getItemFamilyByTypeState } from '../itemFamily/itemFamilySelectors';\r\nimport { ItemFamilyByTypeState } from '../itemFamily/itemFamilyState';\r\nimport { getCharacterByIdState } from './characterSelectors';\r\nimport { CharacterByIdState, WithCharacterState } from './characterState';\r\n\r\nexport function getPlayerId(state: WithCharacterState): string {\r\n    return state.character.player;\r\n}\r\n\r\nexport const getNormalizedPlayer = createSelector(\r\n    [getPlayerId, getCharacterByIdState],\r\n    (playerId: string, charactersById: CharacterByIdState): NormalizedPlayer => {\r\n        return charactersById[playerId];\r\n    }\r\n);\r\n\r\nexport const getNormalizedPlayerAppearance = createSelector(\r\n    [getNormalizedPlayer],\r\n    (normalizedPlayer): NormalizedCharacterAppearance => {\r\n        return normalizedPlayer?.appearance ?? null;\r\n    }\r\n);\r\n\r\nexport const getPlayerAppearance = createSelector(\r\n    [getNormalizedPlayerAppearance, getItemFamilyByTypeState, getItemByIdState],\r\n    (\r\n        normalizedAppearance: NormalizedCharacterAppearance,\r\n        itemFamiliesByType: ItemFamilyByTypeState,\r\n        itemsById: ItemByIdState\r\n    ): CharacterAppearance => {\r\n        if (!normalizedAppearance || !itemsById) {\r\n            log.warn(`Player appearance is not defined. This is probably an error`);\r\n            return null;\r\n        }\r\n        return mapAppearance(normalizedAppearance, itemFamiliesByType, itemsById);\r\n    }\r\n);\r\n\r\nexport const getPlayerAppearanceItems = createSelector(\r\n    [getNormalizedPlayerAppearance, getItemByIdState],\r\n    (appearance: NormalizedCharacterAppearance, itemsById: ItemByIdState): AppearanceItem[] => {\r\n        if (!appearance || !itemsById) {\r\n            return [];\r\n        }\r\n        const appearanceItems: AppearanceItem[] = [];\r\n        Object.values(appearance.categories).forEach((slotMapping: NormalizedSlotMapping) => {\r\n            Object.values(slotMapping).forEach((itemId) => {\r\n                const item = itemsById[itemId];\r\n                if (item) {\r\n                    appearanceItems.push(item);\r\n                }\r\n            });\r\n        });\r\n        return appearanceItems.sort((i1, i2) => i1.priority - i2.priority);\r\n    }\r\n);\r\n\r\nexport const getPlayer = createSelector(\r\n    [getNormalizedPlayer, getItemFamilyByTypeState, getItemByIdState],\r\n    (normalizedPlayer, itemFamiliesByType: ItemFamilyByTypeState, itemsById): Player => {\r\n        if (!normalizedPlayer) {\r\n            return null;\r\n        }\r\n        const { appearance } = normalizedPlayer;\r\n        return {\r\n            ...normalizedPlayer,\r\n            appearance: mapAppearance(appearance, itemFamiliesByType, itemsById),\r\n        };\r\n    }\r\n);\r\n\r\nfunction mapAppearance(\r\n    normalizedAppearance: NormalizedCharacterAppearance,\r\n    itemFamiliesByType: ItemFamilyByTypeState,\r\n    itemsById: ItemByIdState\r\n): CharacterAppearance {\r\n    return {\r\n        family: itemFamiliesByType[normalizedAppearance.family],\r\n        categories: mapCategories(normalizedAppearance.categories, itemsById),\r\n    };\r\n}\r\n\r\nfunction mapCategories(\r\n    ncm: NormalizedCategoryMapping,\r\n    itemsById: ItemByIdState\r\n): CharacterCategoryMapping {\r\n    return ItemCategoryValues.reduce((ccm, category) => {\r\n        ccm[category] = ncm[category] ? mapSlots(ncm[category], itemsById) : {};\r\n        return ccm;\r\n    }, {} as CharacterCategoryMapping);\r\n}\r\n\r\nfunction mapSlots(nsm: NormalizedSlotMapping, itemsById: ItemByIdState): CharacterSlotMapping {\r\n    return AppearanceSlotTypeValues.reduce((csm, slot) => {\r\n        if (nsm[slot]) {\r\n            csm[slot] = itemsById[nsm[slot]];\r\n        }\r\n        return csm;\r\n    }, {} as CharacterSlotMapping);\r\n}\r\n","import { CharacterByIdState, WithCharacterState } from './characterState';\r\n\r\nexport function getCharacterByIdState(state: WithCharacterState): CharacterByIdState {\r\n    return state.character.byId;\r\n}\r\n","import cuid from 'cuid';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { store } from '../../../slimes-the-game/redux/store';\r\nimport { AppearanceItem } from '../../model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../model/appearance/ItemCategory';\r\nimport { CharacterDefinition } from '../../model/character/CharacterDefinition';\r\nimport { NormalizedPlayer } from '../../model/character/Player';\r\nimport { setCharacterAppearanceItem, SetCharacterAppearanceItemPayload } from './characterActions';\r\nimport { getPlayerId } from './playerSelectors';\r\n\r\nexport enum PlayerAction {\r\n    REGISTER = 'player/register',\r\n}\r\n\r\nexport function registerPlayer(def: CharacterDefinition): PayloadAction<NormalizedPlayer> {\r\n    return { type: PlayerAction.REGISTER, payload: { ...def, id: cuid() } };\r\n}\r\n\r\nexport function setPlayerAppearanceItem(\r\n    category: ItemCategory,\r\n    slot: AppearanceSlotType,\r\n    item: AppearanceItem\r\n): PayloadAction<SetCharacterAppearanceItemPayload> {\r\n    const playerId = getPlayerId(store.getState());\r\n    return setCharacterAppearanceItem(playerId, category, slot, item);\r\n}\r\n","import produce from 'immer';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { NormalizedPlayer, PlayerDefinition } from '../../model/character/Player';\r\nimport { WithId } from '../../types';\r\nimport { log } from '../../util/Log';\r\nimport { normalizeCharacter } from './characterByIdReducer';\r\nimport { PlayerAction } from './playerActions';\r\n\r\nconst registerPlayerReducer = produce(\r\n    (state: string, { payload }: PayloadAction<WithId<PlayerDefinition>>) => {\r\n        if (state) {\r\n            log.warn('Attempted to register the player twice. This is probably an error.');\r\n        }\r\n        return payload.id;\r\n    },\r\n    null\r\n);\r\n\r\nconst reducers: Record<string, Reducer<string>> = {\r\n    [PlayerAction.REGISTER]: registerPlayerReducer,\r\n};\r\n\r\nexport const characterPlayerReducer = produce((state: string, action: Action) => {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(state, action) : state;\r\n}, null);\r\n\r\nexport function normalizePlayer(def: WithId<PlayerDefinition>): NormalizedPlayer {\r\n    return normalizeCharacter(def);\r\n}\r\n","import produce from 'immer';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { AppearanceSlotTypeValues } from '../../model/appearance/AppearanceSlot';\r\nimport { ItemCategoryValues } from '../../model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../model/appearance/ItemFamily';\r\nimport {\r\n    CharacterDefinition,\r\n    SerialisedCategoryMapping,\r\n    SerialisedSlotMapping,\r\n} from '../../model/character/CharacterDefinition';\r\nimport {\r\n    NormalizedCategoryMapping,\r\n    NormalizedCharacter,\r\n    NormalizedSlotMapping,\r\n} from '../../model/character/NormalizedCharacter';\r\nimport { PlayerDefinition } from '../../model/character/Player';\r\nimport { WithId } from '../../types';\r\nimport { log } from '../../util/Log';\r\nimport { itemId } from '../item/itemByIdReducer';\r\nimport { CharacterAction, SetCharacterAppearanceItemPayload } from './characterActions';\r\nimport { normalizePlayer } from './characterPlayerReducer';\r\nimport { CharacterByIdState } from './characterState';\r\nimport { PlayerAction } from './playerActions';\r\n\r\nconst registerPlayerReducer = produce(\r\n    (state: CharacterByIdState, { payload }: PayloadAction<WithId<PlayerDefinition>>) => {\r\n        if (state[payload.id]) {\r\n            log.warn(`Attempted to register player character with duplicate id \"${payload.id}\"`);\r\n        }\r\n        state[payload.id] = normalizePlayer(payload);\r\n    },\r\n    {}\r\n);\r\n\r\nconst registerCharacterReducer = produce(\r\n    (state: CharacterByIdState, { payload }: PayloadAction<WithId<CharacterDefinition>>) => {\r\n        if (state[payload.id]) {\r\n            log.warn(`Attempted to register a character with duplicate id \"${payload.id}\"`);\r\n        }\r\n        state[payload.id] = normalizeCharacter(payload);\r\n    },\r\n    {}\r\n);\r\n\r\nconst setCharacterAppearanceItemReducer = produce(\r\n    (\r\n        state: CharacterByIdState,\r\n        {\r\n            payload: { characterId, category, slot, item },\r\n        }: PayloadAction<SetCharacterAppearanceItemPayload>\r\n    ) => {\r\n        const character = state[characterId];\r\n        if (character) {\r\n            const categoryMapping = (character.appearance.categories ??= {});\r\n            const slotMapping = (categoryMapping[category] ??= {});\r\n            slotMapping[slot] = item?.id ?? null;\r\n        }\r\n        return state;\r\n    }\r\n);\r\n\r\nconst reducers: Record<string, Reducer<CharacterByIdState>> = {\r\n    [PlayerAction.REGISTER]: registerPlayerReducer,\r\n    [CharacterAction.REGISTER_CHARACTER]: registerCharacterReducer,\r\n    [CharacterAction.SET_APPEARANCE_ITEM]: setCharacterAppearanceItemReducer,\r\n};\r\n\r\nexport const characterByIdReducer = produce((state: CharacterByIdState, action: Action) => {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(state, action) : state;\r\n}, {});\r\n\r\nexport function normalizeCharacter(def: WithId<CharacterDefinition>): NormalizedCharacter {\r\n    return {\r\n        ...def,\r\n        appearance: {\r\n            ...def.appearance,\r\n            categories: mapCategories(def.appearance.categories, def.appearance.family),\r\n        },\r\n    };\r\n}\r\n\r\nfunction mapCategories(\r\n    scm: SerialisedCategoryMapping,\r\n    family: ItemFamilyType\r\n): NormalizedCategoryMapping {\r\n    return ItemCategoryValues.reduce((ncm, category) => {\r\n        if (scm[category]) {\r\n            ncm[category] = mapSlots(scm[category], family);\r\n        }\r\n        return ncm;\r\n    }, {} as NormalizedCategoryMapping);\r\n}\r\n\r\nfunction mapSlots(ssm: SerialisedSlotMapping, family: ItemFamilyType): NormalizedSlotMapping {\r\n    return AppearanceSlotTypeValues.reduce((nsm, slot) => {\r\n        if (ssm[slot]) {\r\n            nsm[slot] = itemId(family, slot, ssm[slot]);\r\n        }\r\n        return nsm;\r\n    }, {} as NormalizedSlotMapping);\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { characterByIdReducer } from './characterByIdReducer';\r\nimport { characterPlayerReducer } from './characterPlayerReducer';\r\nimport { CharacterState } from './characterState';\r\n\r\nexport const characterReducer = combineReducers<CharacterState>({\r\n    player: characterPlayerReducer,\r\n    byId: characterByIdReducer,\r\n});\r\n","import produce from 'immer';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { AppearanceItemDefinition } from '../../model/appearance/AppearanceItem';\r\nimport { ItemAction } from './itemActions';\r\nimport { itemIdFromItem } from './itemByIdReducer';\r\nimport { ItemByFamilyState } from './itemState';\r\n\r\nconst registerItemReducer = produce(\r\n    (state: ItemByFamilyState, { payload }: PayloadAction<AppearanceItemDefinition[]>) => {\r\n        if (!Array.isArray(payload)) {\r\n            return state;\r\n        }\r\n        payload.forEach((itemDef) => {\r\n            const { family } = itemDef;\r\n            const id = itemIdFromItem(itemDef);\r\n            (state[family] ??= []).push(id);\r\n        });\r\n        return state;\r\n    },\r\n    {}\r\n);\r\n\r\nconst reducers: Record<string, Reducer<ItemByFamilyState>> = {\r\n    [ItemAction.REGISTER_ITEMS]: registerItemReducer,\r\n};\r\n\r\nexport const itemByFamilyReducer = produce((state: ItemByFamilyState, action: Action) => {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(state, action) : state;\r\n}, {});\r\n","import { combineReducers } from 'redux';\r\nimport { itemByFamilyReducer } from './itemByFamilyReducer';\r\nimport { itemByIdReducer } from './itemByIdReducer';\r\nimport { ItemState } from './itemState';\r\n\r\nexport const itemReducer = combineReducers<ItemState>({\r\n    byId: itemByIdReducer,\r\n    byFamily: itemByFamilyReducer,\r\n});\r\n","import { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { ItemFamily } from '../../model/appearance/ItemFamily';\r\n\r\nexport enum ItemFamilyAction {\r\n    REGISTER_FAMILY = 'itemFamily/register-family',\r\n}\r\n\r\nexport function registerItemFamily(family: ItemFamily): PayloadAction<ItemFamily> {\r\n    return { type: ItemFamilyAction.REGISTER_FAMILY, payload: family };\r\n}\r\n","import produce from 'immer';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { ItemFamily } from '../../model/appearance/ItemFamily';\r\nimport { ItemFamilyAction } from './itemFamilyActions';\r\nimport { ItemFamilyByTypeState } from './itemFamilyState';\r\n\r\nconst registerItemFamilyReducer = produce(\r\n    (state: ItemFamilyByTypeState, { payload }: PayloadAction<ItemFamily>) => {\r\n        state[payload.type] = payload;\r\n        return state;\r\n    }\r\n);\r\n\r\nconst reducers: Record<string, Reducer<ItemFamilyByTypeState>> = {\r\n    [ItemFamilyAction.REGISTER_FAMILY]: registerItemFamilyReducer,\r\n};\r\n\r\nexport const itemFamilyByTypeReducer = produce((state: ItemFamilyByTypeState, action: Action) => {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(state, action) : state;\r\n}, {});\r\n","import { combineReducers } from 'redux';\r\nimport { itemFamilyByTypeReducer } from './itemFamilyByTypeReducer';\r\nimport { ItemFamilyState } from './itemFamilyState';\r\n\r\nexport const itemFamilyReducer = combineReducers<ItemFamilyState>({\r\n    byType: itemFamilyByTypeReducer,\r\n});\r\n","import { combineReducers } from 'redux';\r\nimport { appReducer } from '../../common/redux/app/appReducer';\r\nimport { characterReducer } from '../../common/redux/character/characterReducer';\r\nimport { itemReducer } from '../../common/redux/item/itemReducer';\r\nimport { itemFamilyReducer } from '../../common/redux/itemFamily/itemFamilyReducer';\r\nimport { State } from './store';\r\n\r\nexport const rootReducer = combineReducers<State>({\r\n    app: appReducer,\r\n    itemFamily: itemFamilyReducer,\r\n    item: itemReducer,\r\n    character: characterReducer,\r\n});\r\n","import { createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { WithAppState } from '../../common/redux/app/appState';\r\nimport { WithCharacterState } from '../../common/redux/character/characterState';\r\nimport { WithItemState } from '../../common/redux/item/itemState';\r\nimport { WithItemFamilyState } from '../../common/redux/itemFamily/itemFamilyState';\r\nimport { rootReducer } from './rootReducer';\r\n\r\nexport interface State\r\n    extends WithAppState,\r\n        WithItemFamilyState,\r\n        WithItemState,\r\n        WithCharacterState {}\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools());\r\n","import { Component } from 'react';\r\nimport { PixiApp } from '../../pixi/PixiApp';\r\n\r\nexport interface PixiAppViewProps {\r\n    app: PixiApp;\r\n}\r\n\r\nexport abstract class PixiAppView<S = {}> extends Component<PixiAppViewProps, S> {}\r\n","import React, { Component, ReactElement } from 'react';\r\nimport './Sidebar.scss';\r\n\r\nexport class Sidebar extends Component {\r\n    public render(): ReactElement {\r\n        return <div className=\"Sidebar\">Sidebar</div>;\r\n    }\r\n}\r\n","import { IPointData, ISize } from 'pixi.js';\r\nimport { createRef, PureComponent } from 'react';\r\nimport { WithAppPositionProps } from '../../hocs/withAppPosition';\r\nimport {\r\n    DomTrackingContainer,\r\n    DomTrackingContainerProps,\r\n} from '../../pixi/containers/DomTrackingContainer';\r\nimport { PixiApp } from '../../pixi/PixiApp';\r\n\r\nexport interface ContainerLinkedComponentProps extends WithAppPositionProps, ISize {\r\n    app: PixiApp;\r\n}\r\n\r\nexport interface ContainerLinkedComponentState {\r\n    containerAdded: boolean;\r\n}\r\n\r\nexport abstract class ContainerLinkedComponent<\r\n    C extends DomTrackingContainerProps = DomTrackingContainerProps,\r\n    R extends HTMLElement = HTMLDivElement,\r\n    P extends ContainerLinkedComponentProps = ContainerLinkedComponentProps,\r\n    S extends ContainerLinkedComponentState = ContainerLinkedComponentState\r\n> extends PureComponent<P, S> {\r\n    protected container: DomTrackingContainer<C>;\r\n    protected ref = createRef<R>();\r\n\r\n    public constructor(props: P) {\r\n        super(props);\r\n        this.state = this.getInitialState({ containerAdded: false });\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        this.container = this.createContainer(this.props);\r\n        this.addContainerToApp();\r\n    }\r\n\r\n    public componentDidUpdate(prevProps: Readonly<P>): void {\r\n        const { appPosition, width, height } = this.props;\r\n        if (\r\n            width !== prevProps.width ||\r\n            height !== prevProps.height ||\r\n            appPosition !== prevProps.appPosition\r\n        ) {\r\n            this.container.setProps(this.getContainerProps());\r\n        }\r\n        this.addContainerToApp();\r\n    }\r\n\r\n    public componentWillUnmount() {\r\n        this.container.destroy();\r\n    }\r\n\r\n    protected getContainerProps(): IPointData & ISize {\r\n        const currentRef = this.ref.current;\r\n        if (!currentRef) {\r\n            return { x: 0, y: 0, width: this.props.width, height: this.props.height };\r\n        }\r\n        const appPosition = this.props.appPosition;\r\n        const { x, y, width, height } = currentRef.getBoundingClientRect();\r\n        return { x: x - appPosition.x, y: y - appPosition.y, width, height };\r\n    }\r\n\r\n    protected addContainerToApp(): void {\r\n        if (!this.state.containerAdded && this.props.app) {\r\n            this.props.app.stage.addChild(this.container);\r\n            this.setState({ containerAdded: true });\r\n        }\r\n    }\r\n\r\n    protected abstract createContainer(props: P): DomTrackingContainer<C>;\r\n\r\n    protected abstract getInitialState(parentState: ContainerLinkedComponentState): S;\r\n}\r\n","import { IPointData } from 'pixi.js';\r\nimport { connect } from 'react-redux';\r\nimport { State } from '../../slimes-the-game/redux/store';\r\n\r\nexport interface WithAppPositionProps {\r\n    appPosition: IPointData;\r\n}\r\n\r\nfunction mapStateToProps<P extends WithAppPositionProps>(\r\n    state: State\r\n): Pick<P, keyof WithAppPositionProps> {\r\n    return { appPosition: state.app.position };\r\n}\r\n\r\nexport const withAppPosition = connect(mapStateToProps);\r\n","import { connect } from 'react-redux';\r\nimport { State } from '../../slimes-the-game/redux/store';\r\nimport { PixiApp } from '../pixi/PixiApp';\r\n\r\nexport interface WithPixiAppProps {\r\n    app: PixiApp;\r\n}\r\n\r\nfunction mapStateToProps<P extends WithPixiAppProps>(\r\n    state: State\r\n): Pick<P, keyof WithPixiAppProps> {\r\n    return { app: state.app.pixiApp };\r\n}\r\n\r\nexport const withPixiApp = connect(mapStateToProps);\r\n","import { Callback } from '../functions';\r\n\r\nexport class PixiAppUpdateManager {\r\n    private static readonly updateListeners: Array<Callback<number>> = [];\r\n\r\n    public static addUpdateListener(listener: Callback<number>): void {\r\n        this.updateListeners.push(listener);\r\n    }\r\n\r\n    public static removeUpdateListener(listener: Callback<number>): void {\r\n        const index = this.updateListeners.indexOf(listener);\r\n        if (index !== -1) {\r\n            this.updateListeners.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    public static updateApp(delta: number): void {\r\n        this.updateListeners.forEach((listener) => listener(delta));\r\n    }\r\n}\r\n","import { Container } from 'pixi.js';\r\nimport { memoize } from '../../functions';\r\nimport { PixiAppUpdateManager } from '../PixiAppUpdateManager';\r\n\r\nexport abstract class LayoutContainer<P = {}> extends Container {\r\n    protected dirty = false;\r\n\r\n    public constructor(protected props?: P) {\r\n        super();\r\n        this.assignProps = memoize(this.assignProps);\r\n        this.tick = this.tick.bind(this);\r\n        PixiAppUpdateManager.addUpdateListener(this.tick);\r\n        this.setProps(props);\r\n        this.layout();\r\n    }\r\n\r\n    public setProps<K extends keyof P>(props: Pick<P, K>): void {\r\n        const prevProps = this.props;\r\n        this.props = this.assignProps(prevProps, props);\r\n        if (this.shouldContainerUpdate(prevProps)) {\r\n            this.dirty = true;\r\n        }\r\n    }\r\n\r\n    public clear(): void {\r\n        this.removeChildren();\r\n    }\r\n\r\n    public abstract layout(): void;\r\n\r\n    protected tick(delta: number): void {\r\n        if (this.dirty) {\r\n            this.clear();\r\n            this.layout();\r\n            this.dirty = false;\r\n        }\r\n    }\r\n\r\n    protected shouldContainerUpdate(prevProps: Readonly<P>): boolean {\r\n        return this.props !== prevProps;\r\n    }\r\n\r\n    protected assignProps<K extends keyof P>(props: P, newProps: Pick<P, K>): P {\r\n        return { ...props, ...newProps };\r\n    }\r\n}\r\n","import { Graphics } from 'pixi.js';\r\nimport { LayoutContainer } from './LayoutContainer';\r\n\r\nexport interface DomTrackingContainerProps {\r\n    highlight?: boolean;\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nexport class DomTrackingContainer<P extends DomTrackingContainerProps> extends LayoutContainer<P> {\r\n    public layout(): void {\r\n        const { highlight = false, x, y, width, height } = this.props;\r\n        this.position.set(x, y);\r\n        if (highlight) {\r\n            const border = new Graphics();\r\n            border.lineStyle(3, 0x8bc34a);\r\n            border.beginFill(0x8bc34a, 0.25);\r\n            border.drawRect(1.5, 1.5, width - 3, height - 3);\r\n            border.endFill();\r\n            this.addChild(border);\r\n        }\r\n    }\r\n}\r\n","import { Sprite } from 'pixi.js';\r\nimport { AppearanceItem } from '../../common/model/appearance/AppearanceItem';\r\nimport { LayoutContainer } from '../../common/pixi/containers/LayoutContainer';\r\nimport { getPlayerAppearanceItems } from '../../common/redux/character/playerSelectors';\r\nimport { store } from '../redux/store';\r\n\r\nexport interface CharacterContainerProps {\r\n    appearance: AppearanceItem[];\r\n}\r\n\r\nexport class CharacterContainer extends LayoutContainer<CharacterContainerProps> {\r\n    public constructor(props?: CharacterContainerProps) {\r\n        super(props);\r\n        this.setPropsFromState = this.setPropsFromState.bind(this);\r\n        this.setPropsFromState();\r\n        store.subscribe(this.setPropsFromState);\r\n    }\r\n\r\n    public layout(): void {\r\n        const { appearance } = this.props;\r\n        if (!Array.isArray(appearance)) {\r\n            return;\r\n        }\r\n\r\n        appearance.forEach((item) => {\r\n            if (item) {\r\n                item.assets.forEach((asset) => {\r\n                    if (asset) {\r\n                        const sprite = Sprite.from(asset.url);\r\n                        this.addChild(sprite);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private setPropsFromState(): void {\r\n        const state = store.getState();\r\n        const appearance = getPlayerAppearanceItems(state);\r\n        const props = { appearance };\r\n        this.setProps(props);\r\n    }\r\n}\r\n","import {\r\n    DomTrackingContainer,\r\n    DomTrackingContainerProps,\r\n} from '../../../../common/pixi/containers/DomTrackingContainer';\r\nimport { CHARACTER_ASSET_HEIGHT, CHARACTER_ASSET_WIDTH } from '../../../config/config';\r\nimport { CharacterContainer } from '../../../containers/CharacterContainer';\r\n\r\nexport interface CharacterWindowContainerProps extends DomTrackingContainerProps {}\r\n\r\nexport class CharacterWindowContainer extends DomTrackingContainer<CharacterWindowContainerProps> {\r\n    public layout(): void {\r\n        super.layout();\r\n        this.addCharacterContainer();\r\n    }\r\n\r\n    private addCharacterContainer(): void {\r\n        const { width, height } = this.props;\r\n        const scaleX = width / CHARACTER_ASSET_WIDTH;\r\n        const scaleY = height / CHARACTER_ASSET_HEIGHT;\r\n        const scale = Math.min(scaleX, scaleY);\r\n        const x = (width - CHARACTER_ASSET_WIDTH * scale) / 2;\r\n        const y = (height - CHARACTER_ASSET_HEIGHT * scale) / 2;\r\n        const characterContainer = new CharacterContainer();\r\n        characterContainer.position.set(x, y);\r\n        characterContainer.scale.set(scale);\r\n        this.addChild(characterContainer);\r\n    }\r\n}\r\n","export const GAME_NAME = process.env.GAME_NAME;\r\nexport const CHARACTER_ASSET_WIDTH = 1800;\r\nexport const CHARACTER_ASSET_HEIGHT = 1500;\r\n","import React, { ReactElement } from 'react';\r\nimport { withResizeDetector } from 'react-resize-detector';\r\nimport {\r\n    ContainerLinkedComponent,\r\n    ContainerLinkedComponentProps,\r\n    ContainerLinkedComponentState,\r\n} from '../../../../common/components/ContainerLinkedComponent/ContainerLinkedComponent';\r\nimport { withAppPosition } from '../../../../common/hocs/withAppPosition';\r\nimport { withPixiApp } from '../../../../common/hocs/withPixiApp';\r\nimport {\r\n    DomTrackingContainer,\r\n    DomTrackingContainerProps,\r\n} from '../../../../common/pixi/containers/DomTrackingContainer';\r\nimport { CharacterWindowContainer } from './CharacterWindowContainer';\r\n\r\nexport interface CharacterWindowProps extends ContainerLinkedComponentProps {}\r\n\r\nexport class CharacterWindowClass extends ContainerLinkedComponent {\r\n    public render(): ReactElement {\r\n        return <div ref={this.ref} className=\"Window CharacterWindow\" />;\r\n    }\r\n\r\n    protected getInitialState(\r\n        parentState: ContainerLinkedComponentState\r\n    ): ContainerLinkedComponentState {\r\n        return parentState;\r\n    }\r\n\r\n    protected createContainer(\r\n        props: ContainerLinkedComponentProps\r\n    ): DomTrackingContainer<DomTrackingContainerProps> {\r\n        const { x, y, width, height } = this.ref.current.getBoundingClientRect();\r\n        return new CharacterWindowContainer({\r\n            highlight: true,\r\n            x,\r\n            y,\r\n            width,\r\n            height,\r\n        });\r\n    }\r\n}\r\n\r\nexport const CharacterWindow = withResizeDetector(\r\n    withAppPosition(withPixiApp(CharacterWindowClass))\r\n);\r\n","import React, { ReactElement } from 'react';\r\nimport { withResizeDetector } from 'react-resize-detector';\r\nimport {\r\n    ContainerLinkedComponent,\r\n    ContainerLinkedComponentProps,\r\n    ContainerLinkedComponentState,\r\n} from '../../../../common/components/ContainerLinkedComponent/ContainerLinkedComponent';\r\nimport { withAppPosition } from '../../../../common/hocs/withAppPosition';\r\nimport { withPixiApp } from '../../../../common/hocs/withPixiApp';\r\nimport {\r\n    DomTrackingContainer,\r\n    DomTrackingContainerProps,\r\n} from '../../../../common/pixi/containers/DomTrackingContainer';\r\n\r\nexport class MapWindowClass extends ContainerLinkedComponent {\r\n    public render(): ReactElement {\r\n        return (\r\n            <div ref={this.ref} className=\"Window MapWindow\">\r\n                Map Window\r\n            </div>\r\n        );\r\n    }\r\n\r\n    protected getInitialState(\r\n        parentState: ContainerLinkedComponentState\r\n    ): ContainerLinkedComponentState {\r\n        return parentState;\r\n    }\r\n\r\n    protected createContainer(\r\n        props: ContainerLinkedComponentProps\r\n    ): DomTrackingContainer<DomTrackingContainerProps> {\r\n        const { x, y, width, height } = this.ref.current.getBoundingClientRect();\r\n        return new DomTrackingContainer<DomTrackingContainerProps>({\r\n            highlight: true,\r\n            x,\r\n            y,\r\n            width,\r\n            height,\r\n        });\r\n    }\r\n}\r\n\r\nexport const MapWindow = withResizeDetector(withAppPosition(withPixiApp(MapWindowClass)));\r\n","import React, { ReactElement } from 'react';\r\nimport { withResizeDetector } from 'react-resize-detector';\r\nimport {\r\n    ContainerLinkedComponent,\r\n    ContainerLinkedComponentProps,\r\n    ContainerLinkedComponentState,\r\n} from '../../../../common/components/ContainerLinkedComponent/ContainerLinkedComponent';\r\nimport { withAppPosition } from '../../../../common/hocs/withAppPosition';\r\nimport { withPixiApp } from '../../../../common/hocs/withPixiApp';\r\nimport {\r\n    DomTrackingContainer,\r\n    DomTrackingContainerProps,\r\n} from '../../../../common/pixi/containers/DomTrackingContainer';\r\n\r\nexport class NPCWindowClass extends ContainerLinkedComponent {\r\n    public render(): ReactElement {\r\n        return (\r\n            <div ref={this.ref} className=\"Window NPCWindow\">\r\n                NPC Window\r\n            </div>\r\n        );\r\n    }\r\n\r\n    protected getInitialState(\r\n        parentState: ContainerLinkedComponentState\r\n    ): ContainerLinkedComponentState {\r\n        return parentState;\r\n    }\r\n\r\n    protected createContainer(\r\n        props: ContainerLinkedComponentProps\r\n    ): DomTrackingContainer<DomTrackingContainerProps> {\r\n        const { x, y, width, height } = this.ref.current.getBoundingClientRect();\r\n        return new DomTrackingContainer<DomTrackingContainerProps>({\r\n            highlight: true,\r\n            x,\r\n            y,\r\n            width,\r\n            height,\r\n        });\r\n    }\r\n}\r\n\r\nexport const NPCWindow = withResizeDetector(withAppPosition(withPixiApp(NPCWindowClass)));\r\n","import React, { Component, ReactElement } from 'react';\r\n\r\nexport class TextWindow extends Component {\r\n    public render(): ReactElement {\r\n        return <div className=\"Window TextWindow\">Text Window</div>;\r\n    }\r\n}\r\n","import React, { Component, ReactElement } from 'react';\r\n\r\nexport interface TabProps {\r\n    name: string;\r\n}\r\n\r\nexport class Tab extends Component<TabProps> {\r\n    public render(): ReactElement {\r\n        return <div className=\"Tab\">{this.props.children}</div>;\r\n    }\r\n}\r\n","import classNames from 'classnames';\r\nimport React, { Component, ReactElement } from 'react';\r\nimport { Callback, noop } from '../../../../common/functions';\r\nimport { TabProps } from './Tab';\r\n\r\nexport interface TabHeaderProps {\r\n    tab: ReactElement<TabProps>;\r\n    selected: boolean;\r\n    onSelect?: Callback<ReactElement<TabProps>>;\r\n}\r\n\r\nexport class TabHeader extends Component<TabHeaderProps> {\r\n    public static defaultProps: Partial<TabHeaderProps> = {\r\n        onSelect: noop,\r\n    };\r\n\r\n    public constructor(props: TabHeaderProps) {\r\n        super(props);\r\n        this.onSelect = this.onSelect.bind(this);\r\n    }\r\n\r\n    public render(): ReactElement {\r\n        const { tab, selected } = this.props;\r\n        return (\r\n            <li className={classNames('TabHeader', { selected })}>\r\n                <button onClick={this.onSelect}>{tab.props.name}</button>\r\n            </li>\r\n        );\r\n    }\r\n\r\n    private onSelect(): void {\r\n        this.props.onSelect(this.props.tab);\r\n    }\r\n}\r\n","import React, { Children, Component, ReactElement } from 'react';\r\nimport { TabProps } from './Tab';\r\nimport { TabHeader } from './TabHeader';\r\nimport './Tabs.scss';\r\n\r\nexport interface TabsProps {\r\n    children?: ReactElement<TabProps> | Array<ReactElement<TabProps>>;\r\n}\r\n\r\nexport interface TabsState {\r\n    selected: string;\r\n}\r\n\r\nexport class Tabs extends Component<TabsProps, TabsState> {\r\n    public constructor(props: TabsProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selected: null,\r\n        };\r\n\r\n        this.onSelectTab = this.onSelectTab.bind(this);\r\n    }\r\n\r\n    public render(): ReactElement {\r\n        const { selected } = this.state;\r\n        const tabs = Children.map(this.props.children, (child: ReactElement<TabProps>) => child);\r\n        const selectedTab = tabs.find((tab) => tab.props.name === selected) ?? tabs[0];\r\n\r\n        return (\r\n            <div className=\"Tabs\">\r\n                <ol className=\"tabs-header\">\r\n                    {tabs.map((tab) => (\r\n                        <TabHeader\r\n                            key={tab.props.name}\r\n                            tab={tab}\r\n                            selected={tab === selectedTab}\r\n                            onSelect={this.onSelectTab}\r\n                        />\r\n                    ))}\r\n                </ol>\r\n                <div className=\"tab-pane\">{selectedTab}</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onSelectTab(tab: ReactElement<TabProps>): void {\r\n        this.setState({ selected: tab.props.name });\r\n    }\r\n}\r\n","import React, { ChangeEvent, Component, ReactElement } from 'react';\r\nimport { noop } from '../../../../common/functions';\r\nimport { AppearanceItem } from '../../../../common/model/appearance/AppearanceItem';\r\nimport {\r\n    AppearanceSlotNames,\r\n    AppearanceSlotType,\r\n} from '../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../common/model/appearance/ItemCategory';\r\n\r\nexport interface DressingRoomSlotSelectProps {\r\n    category: ItemCategory;\r\n    slot: AppearanceSlotType;\r\n    item: AppearanceItem;\r\n    options: AppearanceItem[];\r\n    onSelect?: (category: ItemCategory, slot: AppearanceSlotType, item: AppearanceItem) => void;\r\n}\r\n\r\nexport class DressingRoomSlotSelect extends Component<DressingRoomSlotSelectProps> {\r\n    public static defaultProps: Partial<DressingRoomSlotSelectProps> = {\r\n        onSelect: noop,\r\n    };\r\n\r\n    public constructor(props: DressingRoomSlotSelectProps) {\r\n        super(props);\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    public render(): ReactElement {\r\n        const { category, slot, item, options } = this.props;\r\n        const id = `dressing-room-slot-select-${category}-${slot}`;\r\n        return (\r\n            <select\r\n                name={AppearanceSlotNames[slot]}\r\n                id={id}\r\n                className=\"DressingRoomSlotSelect\"\r\n                value={item?.id ?? ''}\r\n                onChange={this.onChange}\r\n            >\r\n                <option key=\"nothing\" value={''}>\r\n                    Nothing\r\n                </option>\r\n                {options.map((item) => (\r\n                    <option key={item.id} value={item.id}>\r\n                        {item.displayName}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        );\r\n    }\r\n\r\n    private onChange(e: ChangeEvent<HTMLSelectElement>): void {\r\n        const { category, slot, options, onSelect } = this.props;\r\n        const item = options.find((i) => i.id === e.target.value) ?? null;\r\n        onSelect(category, slot, item);\r\n    }\r\n}\r\n","import React, { Component, ReactElement } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport { noop } from '../../../../common/functions';\r\nimport { AppearanceItem } from '../../../../common/model/appearance/AppearanceItem';\r\nimport {\r\n    AppearanceSlot,\r\n    AppearanceSlotNames,\r\n    AppearanceSlotType,\r\n} from '../../../../common/model/appearance/AppearanceSlot';\r\nimport {\r\n    ItemCategory,\r\n    ItemCategoryNames,\r\n    ItemCategoryValues,\r\n} from '../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../common/model/appearance/ItemFamily';\r\nimport { CharacterAppearance } from '../../../../common/model/character/Character';\r\nimport { setPlayerAppearanceItem } from '../../../../common/redux/character/playerActions';\r\nimport { getPlayerAppearance } from '../../../../common/redux/character/playerSelectors';\r\nimport {\r\n    getItemCategoryMappings,\r\n    ItemCategoryMapping,\r\n} from '../../../../common/redux/item/itemSelectors';\r\nimport { State } from '../../../redux/store';\r\nimport { Tab, TabProps } from '../../common/Tabs/Tab';\r\nimport { Tabs } from '../../common/Tabs/Tabs';\r\nimport './DressingRoomControlsWindow.scss';\r\nimport { DressingRoomSlotSelect } from './DressingRoomSlotSelect';\r\n\r\nexport interface DressingRoomControlsWindowProps {\r\n    appearance: CharacterAppearance;\r\n    itemCategoryMapping: ItemCategoryMapping;\r\n    onItemSet?: (category: ItemCategory, slot: AppearanceSlotType, item: AppearanceItem) => void;\r\n}\r\n\r\nexport class DressingRoomControlsWindowClass extends Component<DressingRoomControlsWindowProps> {\r\n    public static defaultProps: Partial<DressingRoomControlsWindowProps> = {\r\n        onItemSet: noop,\r\n    };\r\n\r\n    public render(): ReactElement {\r\n        return (\r\n            <div className=\"Window DressingRoomControlsWindow\">\r\n                <h2>Dressing Room</h2>\r\n                <Tabs>{ItemCategoryValues.map((category) => this.renderCategory(category))}</Tabs>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private renderCategory(category: ItemCategory): ReactElement<TabProps> {\r\n        const { appearance } = this.props;\r\n        const slotMapping = appearance.categories[category];\r\n        const itemFamily = appearance.family;\r\n        return (\r\n            <Tab key={category} name={ItemCategoryNames[category]}>\r\n                <table className=\"slot-list\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Slot</th>\r\n                            <th>Item</th>\r\n                            <th>Description</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {itemFamily.slots.map((slot) => {\r\n                            const exclude =\r\n                                Array.isArray(slot.categories) &&\r\n                                !slot.categories.includes(category);\r\n                            if (exclude) {\r\n                                return null;\r\n                            }\r\n                            const item = slotMapping[slot.type];\r\n                            return (\r\n                                <tr key={slot.type}>\r\n                                    <td>{AppearanceSlotNames[slot.type]}</td>\r\n                                    <td>{this.renderSlotSelect(category, slot)}</td>\r\n                                    <td>{item?.description ?? <em>No Description</em>}</td>\r\n                                </tr>\r\n                            );\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </Tab>\r\n        );\r\n    }\r\n\r\n    private renderSlotSelect(category: ItemCategory, slot: AppearanceSlot): ReactElement {\r\n        const { appearance, itemCategoryMapping } = this.props;\r\n        const characterSlotMapping = appearance.categories[category];\r\n        const item = characterSlotMapping[slot.type] ?? null;\r\n        const availableItems = itemCategoryMapping[category][slot.type] ?? [];\r\n        return (\r\n            <DressingRoomSlotSelect\r\n                category={category}\r\n                slot={slot.type}\r\n                item={item}\r\n                options={availableItems}\r\n                onSelect={this.props.onItemSet}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: State): Partial<DressingRoomControlsWindowProps> {\r\n    return {\r\n        appearance: getPlayerAppearance(state),\r\n        itemCategoryMapping: getItemCategoryMappings(state, ItemFamilyType.HUMAN),\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch): Partial<DressingRoomControlsWindowProps> {\r\n    return {\r\n        onItemSet(category: ItemCategory, slot: AppearanceSlotType, item: AppearanceItem): void {\r\n            dispatch(setPlayerAppearanceItem(category, slot, item));\r\n        },\r\n    };\r\n}\r\n\r\nexport const DressingRoomControlsWindow = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(DressingRoomControlsWindowClass);\r\n","import { Application } from 'pixi.js';\r\n\r\nexport class PixiApp extends Application {}\r\n","import { AppView, WithAppState } from './appState';\r\n\r\nexport function getCurrentView(state: WithAppState): AppView {\r\n    return state.app.view;\r\n}\r\n","import { IPointData, ISize } from 'pixi.js';\r\nimport React, { createRef, PureComponent, ReactElement } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withResizeDetector } from 'react-resize-detector';\r\nimport { Dispatch } from 'redux';\r\nimport { DefaultView } from '../../../slimes-the-game/components/views/DefaultView/DefaultView';\r\nimport { DressingRoomView } from '../../../slimes-the-game/components/views/DressingRoomView/DressingRoomView';\r\nimport { State } from '../../../slimes-the-game/redux/store';\r\nimport { Callback } from '../../functions';\r\nimport { PixiApp } from '../../pixi/PixiApp';\r\nimport { PixiAppUpdateManager } from '../../pixi/PixiAppUpdateManager';\r\nimport { appSetPixiApp, appSetPosition } from '../../redux/app/appActions';\r\nimport { getCurrentView } from '../../redux/app/appSelectors';\r\nimport { AppView } from '../../redux/app/appState';\r\nimport { PixiAppView } from '../PixiAppView/PixiAppView';\r\nimport './PixiAppComponent.scss';\r\n\r\nexport interface PixiAppComponentProps extends ISize {\r\n    view: typeof PixiAppView;\r\n    onPixiAppSet: Callback<PixiApp>;\r\n    onAppResize: Callback<IPointData>;\r\n}\r\n\r\nexport class PixiAppComponentClass extends PureComponent<PixiAppComponentProps> {\r\n    private readonly pixiStageRef = createRef<HTMLDivElement>();\r\n    private app: PixiApp;\r\n\r\n    public componentDidMount(): void {\r\n        const element = this.pixiStageRef.current;\r\n        const width = element.clientWidth;\r\n        const height = element.clientHeight;\r\n        this.app = new PixiApp({ width, height, transparent: true });\r\n        this.app.view.id = 'pixi-app';\r\n        this.onResize();\r\n        element.appendChild(this.app.view);\r\n        this.props.onPixiAppSet(this.app);\r\n        this.app.ticker.add((delta) => PixiAppUpdateManager.updateApp(delta));\r\n    }\r\n\r\n    public componentDidUpdate(prevProps: Readonly<PixiAppComponentProps>): void {\r\n        const { width, height } = this.props;\r\n        if (\r\n            this.pixiStageRef.current &&\r\n            (width !== prevProps.width || height !== prevProps.height)\r\n        ) {\r\n            this.onResize();\r\n        }\r\n    }\r\n\r\n    public render(): ReactElement {\r\n        const View = this.props.view;\r\n        return (\r\n            <div className=\"PixiAppComponent\">\r\n                <View app={this.app} />\r\n                <div className=\"pixi-app-stage\" ref={this.pixiStageRef} />\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onResize(): void {\r\n        const element = this.pixiStageRef.current;\r\n        if (this.app.resizeTo !== element) {\r\n            this.app.resizeTo = element;\r\n        }\r\n        const { x, y } = element.getBoundingClientRect();\r\n        this.props.onAppResize({ x, y });\r\n    }\r\n}\r\n\r\nconst viewMapping: Record<AppView, typeof PixiAppView> = {\r\n    [AppView.DEFAULT]: DefaultView,\r\n    [AppView.DRESSING_ROOM]: DressingRoomView,\r\n};\r\n\r\nfunction mapStateToProps(state: State): Partial<PixiAppComponentProps> {\r\n    return {\r\n        view: viewMapping[getCurrentView(state)],\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch): Partial<PixiAppComponentProps> {\r\n    return {\r\n        onPixiAppSet(app: PixiApp): void {\r\n            dispatch(appSetPixiApp(app));\r\n        },\r\n        onAppResize(position: IPointData): void {\r\n            dispatch(appSetPosition(position));\r\n        },\r\n    };\r\n}\r\n\r\nexport const PixiAppComponent = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(withResizeDetector(PixiAppComponentClass));\r\n","import React, { ReactElement } from 'react';\r\nimport { PixiAppView } from '../../../../common/components/PixiAppView/PixiAppView';\r\nimport { Sidebar } from '../../Sidebar/Sidebar';\r\nimport { CharacterWindow } from '../../windows/CharacterWindow/CharacterWindow';\r\nimport { MapWindow } from '../../windows/MapWindow/MapWindow';\r\nimport { NPCWindow } from '../../windows/NPCWindow/NPCWindow';\r\nimport { TextWindow } from '../../windows/TextWindow/TextWindow';\r\nimport './DefaultView.scss';\r\n\r\nexport class DefaultView extends PixiAppView {\r\n    public render(): ReactElement {\r\n        return (\r\n            <div className=\"DefaultView\">\r\n                <Sidebar />\r\n                <div className=\"windows\">\r\n                    <TextWindow />\r\n                    <div className=\"context-windows\">\r\n                        <CharacterWindow />\r\n                        <div className=\"context-windows-lower\">\r\n                            <MapWindow />\r\n                            <NPCWindow />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { ReactElement } from 'react';\r\nimport { PixiAppView } from '../../../../common/components/PixiAppView/PixiAppView';\r\nimport { CharacterWindow } from '../../windows/CharacterWindow/CharacterWindow';\r\nimport { DressingRoomControlsWindow } from '../../windows/DressingRoomControlsWindow/DressingRoomControlsWindow';\r\nimport './DressingRoomView.scss';\r\n\r\nexport class DressingRoomView extends PixiAppView {\r\n    public render(): ReactElement {\r\n        return (\r\n            <div className=\"View DressingRoomView\">\r\n                <DressingRoomControlsWindow />\r\n                <CharacterWindow />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import classNames from 'classnames';\r\nimport React, { Component, ReactElement } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport { Callback, noop } from '../../../common/functions';\r\nimport { appSetView } from '../../../common/redux/app/appActions';\r\nimport { AppView } from '../../../common/redux/app/appState';\r\nimport './CheatMenu.scss';\r\n\r\nexport interface CheatMenuProps {\r\n    onViewSwitch?: Callback<AppView>;\r\n}\r\n\r\nexport interface CheatMenuState {\r\n    open: boolean;\r\n}\r\n\r\nexport class CheatMenuClass extends Component<CheatMenuProps, CheatMenuState> {\r\n    public static defaultProps: Partial<CheatMenuProps> = {\r\n        onViewSwitch: noop,\r\n    };\r\n\r\n    public constructor(props: CheatMenuProps) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n        };\r\n        this.onKeyDown = this.onKeyDown.bind(this);\r\n    }\r\n\r\n    public componentDidMount() {\r\n        window.addEventListener('keydown', this.onKeyDown);\r\n    }\r\n\r\n    public render(): ReactElement {\r\n        const { open } = this.state;\r\n        return (\r\n            <div className={classNames('CheatMenu', { open })}>{open && this.renderModal()}</div>\r\n        );\r\n    }\r\n\r\n    public renderModal(): ReactElement {\r\n        return (\r\n            <div className=\"cheat-modal-screen\">\r\n                <div className=\"cheat-modal\">\r\n                    <h3>Super Secret Cheat Menu</h3>\r\n                    <hr />\r\n                    <h4>View Switching</h4>\r\n                    <div className=\"buttons\">\r\n                        <button onClick={() => this.onViewSwitch(AppView.DEFAULT)}>\r\n                            Default View\r\n                        </button>\r\n                        <button onClick={() => this.onViewSwitch(AppView.DRESSING_ROOM)}>\r\n                            Dressing Room\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onKeyDown(e: KeyboardEvent): void {\r\n        if (e.key === 'c') {\r\n            this.setState({ open: !this.state.open });\r\n        }\r\n    }\r\n\r\n    private onViewSwitch(view: AppView): void {\r\n        const { onViewSwitch } = this.props;\r\n        this.setState({ open: false }, () => onViewSwitch(view));\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch): Partial<CheatMenuProps> {\r\n    return {\r\n        onViewSwitch(view: AppView): void {\r\n            dispatch(appSetView(view));\r\n        },\r\n    };\r\n}\r\n\r\nexport const CheatMenu = connect(null, mapDispatchToProps)(CheatMenuClass);\r\n","import { Callback } from '../../common/functions';\r\nimport { DefaultModule } from '../../common/types';\r\nimport RequireContext = __WebpackModuleApi.RequireContext;\r\n\r\nexport function loadContext<T>(\r\n    context: RequireContext,\r\n    moduleLoader: Callback<DefaultModule<T>>\r\n): void {\r\n    context.keys().forEach((key) => {\r\n        moduleLoader(context(key));\r\n    });\r\n}\r\n","import { AppearanceSlotType } from '../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../common/model/appearance/ItemFamily';\r\nimport { CharacterDefinition } from '../../../common/model/character/CharacterDefinition';\r\n\r\nconst player: CharacterDefinition = {\r\n    appearance: {\r\n        family: ItemFamilyType.HUMAN,\r\n        categories: {\r\n            [ItemCategory.BODY]: {\r\n                [AppearanceSlotType.HEAD]: 'defaultHead',\r\n                [AppearanceSlotType.TORSO]: 'defaultTorso',\r\n                [AppearanceSlotType.LEGS]: 'defaultLegs',\r\n                [AppearanceSlotType.ARM_LEFT]: 'defaultArmLeft',\r\n                [AppearanceSlotType.ARM_RIGHT]: 'defaultArmRight',\r\n                [AppearanceSlotType.HAIR_BACK]: 'defaultHairBack',\r\n                [AppearanceSlotType.EXPRESSION]: 'defaultExpression',\r\n                [AppearanceSlotType.HAIR_FRONT]: 'defaultHairFront',\r\n                [AppearanceSlotType.PUBIC_HAIR]: 'defaultPubicHair',\r\n                [AppearanceSlotType.SHADOW]: 'defaultShadow',\r\n            },\r\n        },\r\n    },\r\n};\r\n\r\nexport default player;\r\n","import { CharacterDefinition } from '../../../common/model/character/CharacterDefinition';\r\nimport { registerCharacter } from '../../../common/redux/character/characterActions';\r\nimport { registerPlayer } from '../../../common/redux/character/playerActions';\r\nimport { DefaultModule } from '../../../common/types';\r\nimport { log } from '../../../common/util/Log';\r\nimport { store } from '../../redux/store';\r\nimport { loadContext } from '../dataLoaderUtils';\r\nimport player from './player';\r\n\r\nexport function loadPlayer(): void {\r\n    log.debug('Loading Player: Starting...');\r\n    store.dispatch(registerPlayer(player));\r\n    log.debug('Loading Player: Done.');\r\n}\r\n\r\nexport function loadCharacters(): void {\r\n    log.debug('Loading Characters: Starting...');\r\n    const context = require.context('./characters', false, /\\.ts$/);\r\n    loadContext<CharacterDefinition>(context, loadCharacterModule);\r\n    log.debug('Loading Characters: Done.');\r\n}\r\n\r\nfunction loadCharacterModule(module: DefaultModule<CharacterDefinition>): void {\r\n    store.dispatch(registerCharacter(module.default));\r\n}\r\n","import { AppearanceItemDefinition } from '../../../common/model/appearance/AppearanceItem';\r\nimport { ItemFamily } from '../../../common/model/appearance/ItemFamily';\r\nimport { registerItems } from '../../../common/redux/item/itemActions';\r\nimport { registerItemFamily } from '../../../common/redux/itemFamily/itemFamilyActions';\r\nimport { DefaultModule } from '../../../common/types';\r\nimport { log } from '../../../common/util/Log';\r\nimport { store } from '../../redux/store';\r\nimport { loadContext } from '../dataLoaderUtils';\r\n\r\nexport function loadFamilies(): void {\r\n    log.debug('Loading Item Families: Starting...');\r\n    const context = require.context('./families', false, /\\.ts$/);\r\n    loadContext<ItemFamily>(context, loadFamilyModule);\r\n    log.debug('Loading Item Families: Done.');\r\n}\r\n\r\nexport function loadItems(): void {\r\n    log.debug('Loading Items: Starting...');\r\n    const context = require.context('./items/player', false, /\\.ts$/);\r\n    loadContext<AppearanceItemDefinition[]>(context, loadItemModule);\r\n    log.debug('Loading Items: Done.');\r\n}\r\n\r\nfunction loadItemModule(module: DefaultModule<AppearanceItemDefinition[]>): void {\r\n    store.dispatch(registerItems(...module.default));\r\n}\r\n\r\nfunction loadFamilyModule(module: DefaultModule<ItemFamily>): void {\r\n    store.dispatch(registerItemFamily(module.default));\r\n}\r\n","import React, { Component, ReactNode } from 'react';\r\nimport { PixiAppComponent } from '../common/components/PixiAppComponent/PixiAppComponent';\r\nimport { log } from '../common/util/Log';\r\nimport { CheatMenu } from './components/CheatMenu/CheatMenu';\r\nimport { GAME_NAME } from './config/config';\r\nimport { loadCharacters, loadPlayer } from './data/character/characterLoader';\r\nimport { loadFamilies, loadItems } from './data/items/itemLoader';\r\nimport './SlimesTheGame.scss';\r\n\r\nexport class SlimesTheGame extends Component {\r\n    public constructor(props: {}) {\r\n        super(props);\r\n        loadFamilies();\r\n        loadItems();\r\n        loadPlayer();\r\n        loadCharacters();\r\n    }\r\n\r\n    public render(): ReactNode {\r\n        return (\r\n            <div id=\"SlimesTheGame\">\r\n                <PixiAppComponent>\r\n                    <CheatMenu />\r\n                </PixiAppComponent>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlog.info(`Welcome to ${GAME_NAME}`);\r\n","import 'pixi.js';\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport './index.scss';\r\nimport { store } from './slimes-the-game/redux/store';\r\nimport './slimes-the-game/SlimesTheGame';\r\nimport { SlimesTheGame } from './slimes-the-game/SlimesTheGame';\r\n\r\nconst appRoot = document.getElementById('app-root');\r\n\r\nrender(\r\n    <Provider store={store}>\r\n        <SlimesTheGame />\r\n    </Provider>,\r\n    appRoot\r\n);\r\n","export enum ItemCategory {\r\n    BODY = 'body',\r\n    UNDERWEAR = 'underwear',\r\n    CLOTHES = 'clothes',\r\n    ARMOUR = 'armour',\r\n}\r\n\r\nexport const ItemCategoryValues: ItemCategory[] = Object.values(ItemCategory);\r\n\r\nexport const ItemCategoryNames: Record<ItemCategory, string> = {\r\n    [ItemCategory.BODY]: 'Body',\r\n    [ItemCategory.UNDERWEAR]: 'Underwear',\r\n    [ItemCategory.CLOTHES]: 'Clothes',\r\n    [ItemCategory.ARMOUR]: 'Armour',\r\n};\r\n","import { AppearanceSlot } from './AppearanceSlot';\r\n\r\nexport enum ItemFamilyType {\r\n    HUMAN = 'Human',\r\n}\r\n\r\nexport interface ItemFamily {\r\n    type: ItemFamilyType;\r\n    slots: AppearanceSlot[];\r\n}\r\n","import { MapFunction } from '../../../../common/functions';\r\nimport { AppearanceItemDefinition } from '../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../common/model/appearance/ItemFamily';\r\n\r\nexport type AppearanceItemShorthand = Omit<\r\n    AppearanceItemDefinition,\r\n    'family' | 'slot' | 'category'\r\n>;\r\n\r\nexport function itemDefinitionGenerator(\r\n    family: ItemFamilyType,\r\n    slot: AppearanceSlotType,\r\n    category: ItemCategory\r\n): MapFunction<AppearanceItemShorthand, AppearanceItemDefinition> {\r\n    return (def: AppearanceItemShorthand) => ({ ...def, family, slot, category });\r\n}\r\n","import memoizee from 'memoizee';\r\n\r\nexport type Callback<T> = (t: T) => void;\r\nexport type MapFunction<U, V> = (u: U) => V;\r\n\r\nexport function noop(...args: any[]): void {\r\n    return;\r\n}\r\n\r\nexport const memoize = memoizee;\r\n"],"sourceRoot":""}