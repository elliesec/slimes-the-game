!function(e){function t(t){for(var c,a,i=t[0],u=t[1],l=t[2],E=0,h=[];E<i.length;E++)a=i[E],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);for(s&&s(t);h.length;)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],c=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(c=!1)}c&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var c={},o={0:0},r=[];function a(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=c,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)a.d(n,c,function(t){return e[t]}.bind(null,c));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/slimes-the-game/";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=u;r.push([46,3]),n()}({40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c,o,r,a=n(0),i=n(1);function u(...e){}function l(e){return{type:r.SET_SCENE,payload:e}}!function(e){e.REGISTER="ENCOUNTER_REGISTER",e.START="ENCOUNTER_START",e.RESET="ENCOUNTER_RESET",e.SELECT_CHOICE="ENCOUNTER_SELECT_CHOICE",e.SET_STAGE_STATE="ENCOUNTER_SET_STAGE_STATE",e.END="ENCOUNTER_END"}(c||(c={})),n(40),function(e){e.ENCOUNTER_SELECT="ENCOUNTER_SELECT",e.ENCOUNTER="ENCOUNTER",e.ENCOUNTER_END="ENCOUNTER_END"}(o||(o={})),function(e){e.SET_SCENE="SET_SCENE"}(r||(r={})),n(41);class s extends a.a{constructor(e){super(e),this.state={selectedEncounter:null},this.onSelectChange=this.onSelectChange.bind(this),this.onSelectEncounter=this.onSelectEncounter.bind(this)}render({encounters:e}){var t;return Object(a.h)("div",{className:"EncounterSelection"},Object(a.h)("section",null,Object(a.h)("ul",{className:"encounter-stats-list"},Object(a.h)("li",null,Object(a.h)("span",{className:"key"},"Encounters Available: "),Object(a.h)("span",{className:"value"},e.length)))),Object(a.h)("hr",null),Object(a.h)("section",{className:"encounter-selection-form"},Object(a.h)("label",{htmlFor:"encounter-select"},Object(a.h)("span",null,"Select Encounter: "),Object(a.h)("select",{id:"encounter-select",value:null===(t=this.state.selectedEncounter)||void 0===t?void 0:t.id,onChange:this.onSelectChange},Object(a.h)("option",{value:""}),e.map(e=>Object(a.h)("option",{value:e.id},e.name)))),Object(a.h)("button",{className:"primary",disabled:!this.state.selectedEncounter,onClick:this.onSelectEncounter},"Start Encounter")))}onSelectChange(e){var t;const n=e.currentTarget.value,c=null!==(t=this.props.encounters.find(e=>e.id===n))&&void 0!==t?t:null;this.setState({selectedEncounter:c})}onSelectEncounter(){const{selectedEncounter:e}=this.state;e&&this.props.onSelectEncounter(e)}}s.defaultProps={encounters:[],onSelectEncounter:u};const E=Object(i.b)((function(e){return{encounters:Object.values(e.encounter.byId)}}),(function(e){return{onSelectEncounter(t){e(function(e){return{type:c.START,payload:e}}(t)),e(l(o.ENCOUNTER))}}}))(s),h=({text:e})=>Object(a.h)("div",{className:"EncounterStageText"},e.map(e=>Object(a.h)("p",null,e)));var b,O;function p(e){return e.type===b.CHOICE}!function(e){e.CHOICE="CHOICE"}(b||(b={})),function(e){e.INIT="INIT",e.PICKED="PICKED"}(O||(O={}));var d,C=n(20),T=n.n(C),N=n(2);function g(e){return e.type===d.END_ENCOUNTER}!function(e){e.END_ENCOUNTER="END_ENCOUNTER"}(d||(d={})),n(42);const S=({choice:e,onSelect:t,fixed:n})=>{const c=Object(N.a)(()=>t(e),[e]);return Object(a.h)("li",{className:T()(["ChoiceItem","EndEncounterChoiceItem",{fixed:!!n}]),onClick:c},e.description)},j=e=>{const{choice:t,onSelect:n}=e;"function"!=typeof n&&(e.onSelect=u);const c=function(e){return g(e)?S:null}(t);return c?Object(a.h)(c,Object.assign({},e)):null};n(43);const m=({choices:e,onSelect:t,fixed:n})=>Object(a.h)("ul",{className:"ChoiceItemList"},e.map(e=>Object(a.h)(j,{choice:e,onSelect:t,fixed:n}))),f=Object(i.b)((function(e,t){return Object.assign({activeEncounter:e.encounter.active},t)}),(function(e,t){return{onContinue(){e({type:c.END}),e(l(o.ENCOUNTER_END))}}}))(({activeEncounter:e,stage:t,onContinue:n})=>Object(a.h)("div",{className:"EndEncounterChoiceView"},Object(a.h)(m,{choices:[e.choice],fixed:!0}),e.choice.text.map(e=>Object(a.h)("p",null,e)),Object(a.h)("button",{className:"primary",onClick:n},e.choice.continueText))),y=({activeEncounter:e,stage:t})=>{const{choice:n}=e;return g(n)?Object(a.h)(f,{stage:t}):Object(a.h)("div",null,"PickedStateView")},R=({stage:e,onChoiceSelect:t})=>Object(a.h)(m,{choices:e.choices,onSelect:t}),v=Object(i.b)((function(e){return{activeEncounter:e.encounter.active}}),(function(e){return{onChoiceSelect(t){e(function(e){return{type:c.SELECT_CHOICE,payload:e}}(t))}}}))(e=>{const{activeEncounter:t}=e,n=function(e){switch(e){case O.INIT:return R;case O.PICKED:return y;default:return null}}(t.stageState);return Object(a.h)("div",{className:"ChoicesStageView"},Object(a.h)(n,Object.assign({},e)))}),_=Object(i.b)((function(e){return{activeEncounter:e.encounter.active}}))(({activeEncounter:e})=>{const t=p(e.stage)?v:null;return t?Object(a.h)(t,{stage:e.stage}):null}),w=Object(i.b)((function(e){return{activeEncounter:e.encounter.active}}))(({activeEncounter:e})=>Object(a.h)("div",{className:"EncounterStageView"},Object(a.h)(h,{text:e.stage.text}),Object(a.h)("hr",null),Object(a.h)(_,null))),I=Object(i.b)((function(e){return{}}))(e=>Object(a.h)("div",{className:"EncounterView"},Object(a.h)(w,null)));n(44);const x={[o.ENCOUNTER_SELECT]:"Encounter Selection",[o.ENCOUNTER]:"Encounter Preview",[o.ENCOUNTER_END]:"Encounter Complete"},P=Object(i.b)((function({currentScene:e}){return{currentScene:e}}),(function(e){return{onReset(){e({type:c.RESET}),e(l(o.ENCOUNTER_SELECT))}}}))(({currentScene:e,onReset:t})=>Object(a.h)("div",{className:"EncounterPanel"},Object(a.h)("h3",{className:"header-with-buttons"},Object(a.h)("span",null,x[e]),Object(a.h)("button",{onClick:t,disabled:e===o.ENCOUNTER_SELECT},"Reset")),((e,t)=>{switch(e){case o.ENCOUNTER_SELECT:return Object(a.h)(E,null);case o.ENCOUNTER:return Object(a.h)(I,null);case o.ENCOUNTER_END:return Object(a.h)("div",null,Object(a.h)("p",null,"Congratulations! You finished the encounter!"),Object(a.h)("button",{className:"primary",onClick:t},"Start again?"));default:return null}})(e,t)));var U,A;function L(e){return{type:U.SET_PLAYER,payload:e}}function D(e,t){return{type:U.SET_PLAYER_STAT,payload:{statName:e,value:t}}}!function(e){e.SET_PLAYER="SET_PLAYER",e.SET_PLAYER_DESCRIPTION="SET_PLAYER_DESCRIPTION",e.SET_PLAYER_STAT="SET_PLAYER_STAT"}(U||(U={})),function(e){e.REGISTER_ENCOUNTER="REGISTER_ENCOUNTER",e.START_ENCOUNTER="START_ENCOUNTER",e.SELECT_ENCOUNTER_OPTION="SELECT_ENCOUNTER_OPTION",e.ACTIVE_ENCOUNTER_ROLL="ACTIVE_ENCOUNTER_ROLL",e.SET_ENCOUNTER_STAGE="SET_ENCOUNTER_STAGE"}(A||(A={}));const W={[U.SET_PLAYER]:function(e,{payload:t}){return t===e?e:Object.assign({},t)},[U.SET_PLAYER_DESCRIPTION]:function(e,{payload:{key:t,value:n}}){return e[t]===n?e:Object.assign(Object.assign({},e),{[t]:n})},[U.SET_PLAYER_STAT]:function(e,{payload:{statName:t,value:n}}){return e[t]===n?e:Object.assign(Object.assign({},e),{[t]:n})},[A.ACTIVE_ENCOUNTER_ROLL]:function(e,{payload:{willpowerCost:t}}){return t?Object.assign(Object.assign({},e),{willpower:e.willpower-t}):e}};n(45);const Y=e=>Object(a.h)("label",{htmlFor:e.id},Object(a.h)("span",null,e.label,":"),Object(a.h)("input",Object.assign({},e))),k=Object(i.b)((function(e){return{player:e.player}}),(function(e){return{onPlayerReset(){e(L({name:"Heroine",maxWillpower:10,willpower:10,strength:2,dexterity:2,constitution:2,wisdom:2,intelligence:2,charisma:2}))},onNameChange(t){const n=t.currentTarget.value;e(function(e,t){return{type:U.SET_PLAYER_DESCRIPTION,payload:{key:"name",value:t}}}(0,n))},onStrengthChange(t){const n=Number(t.currentTarget.value);e(D("strength",n))},onDexterityChange(t){const n=Number(t.currentTarget.value);e(D("dexterity",n))},onConstitutionChange(t){const n=Number(t.currentTarget.value);e(D("constitution",n))},onWisdomChange(t){const n=Number(t.currentTarget.value);e(D("wisdom",n))},onIntelligenceChange(t){const n=Number(t.currentTarget.value);e(D("intelligence",n))},onCharismaChange(t){const n=Number(t.currentTarget.value);e(D("charisma",n))},onMaxWillpowerChange(t){const n=Number(t.currentTarget.value);e(D("maxWillpower",n))},onWillpowerChange(t){const n=Number(t.currentTarget.value);e(D("willpower",n))}}}))(({player:e,onPlayerReset:t,onNameChange:n,onStrengthChange:c,onDexterityChange:o,onConstitutionChange:r,onWisdomChange:i,onIntelligenceChange:u,onCharismaChange:l,onMaxWillpowerChange:s,onWillpowerChange:E})=>Object(a.h)("div",{className:"PlayerConfigPanel"},Object(a.h)("h3",{className:"header-with-buttons"},Object(a.h)("span",null,"Player"),Object(a.h)("button",{onClick:t},"Reset")),Object(a.h)(Y,{id:"name-input",label:"Name",type:"text",value:e.name,onChange:n}),Object(a.h)("h4",null,"Attributes"),Object(a.h)("div",{className:"attribute-config"},Object(a.h)(Y,{id:"strength-input",label:"Strength",type:"number",value:e.strength,min:1,onChange:c}),Object(a.h)(Y,{id:"dexterity-input",label:"Dexterity",type:"number",value:e.dexterity,min:1,onChange:o}),Object(a.h)(Y,{id:"constitution-input",label:"Constitution",type:"number",value:e.constitution,min:1,onChange:r}),Object(a.h)(Y,{id:"wisdom-input",label:"Wisdom",type:"number",value:e.wisdom,min:1,onChange:i}),Object(a.h)(Y,{id:"intelligence-input",label:"Intelligence",type:"number",value:e.intelligence,min:1,onChange:u}),Object(a.h)(Y,{id:"charisma-input",label:"Charisma",type:"number",value:e.charisma,min:1,onChange:l})),Object(a.h)("hr",null),Object(a.h)("h4",null,"Resources"),Object(a.h)(Y,{id:"max-willpower-input",label:"Max Willpower",type:"number",value:e.maxWillpower,min:1,onChange:s}),Object(a.h)(Y,{id:"willpower-input",label:"Willpower",type:"number",value:e.willpower,min:0,max:e.maxWillpower,onChange:E}))),G={id:"0d895b71-0029-4e82-9a20-ce883e891660",name:"An Old Chest",entryStage:"c0704d17-9746-489b-a3eb-a8cfc5b4bc76",stages:[{id:"c0704d17-9746-489b-a3eb-a8cfc5b4bc76",type:b.CHOICE,text:["You see an old chest. It appears to be locked.","What do you do?"],choices:[{type:d.END_ENCOUNTER,description:"Ignore the chest",text:["You ignore the chest and move on"],continueText:"Continue"}]}]};class H extends a.a{constructor(e){super(e),e.load()}render({player:e}){return Object(a.h)("div",{className:"CombatSandbox1"},Object(a.h)("div",{className:"config-panel"},Object(a.h)("div",{className:"panel-header"},Object(a.h)("h2",null,"Configuration")),Object(a.h)(k,null)),Object(a.h)("div",{className:"encounter-panel"},Object(a.h)("div",{className:"panel-header"},Object(a.h)("h2",null,"Encounter")),Object(a.h)(P,null)))}}H.defaultProps={load:u};const V=Object(i.b)((function(e){return{player:e.player}}),(function(e){return{load(){var t;e((t=G,{type:c.REGISTER,payload:t})),e(L({name:"Heroine",maxWillpower:10,willpower:10,strength:2,dexterity:2,constitution:2,wisdom:2,intelligence:2,charisma:2})),e(l(o.ENCOUNTER_SELECT))}}}))(H);var M=n(4),K=n(21);const F={[c.START]:function(e,t){const n=t.payload;if(n){const e=n.stages.find(e=>e.id===n.entryStage);if(e)return{encounter:n,stage:e,stageState:O.INIT}}return e},[c.RESET]:function(){return{encounter:null,stage:null,stageState:null}},[c.SELECT_CHOICE]:function(e,{payload:t}){return e.stageState===O.INIT&&t&&p(e.stage)&&e.stage.choices.includes(t)?Object.assign(Object.assign({},e),{stageState:O.PICKED,choice:t}):e},[c.SET_STAGE_STATE]:function(e,{payload:t}){return t!==e.stageState?Object.assign(Object.assign({},e),{stageState:t}):e}},J={[c.REGISTER]:function(e,t){const n=t.payload;return n?(e[n.id]&&console.warn("Duplicate encounter ID registered: "+n.id),Object.assign(Object.assign({},e),{[n.id]:n})):e}},B=Object(M.combineReducers)({byId:function(e={},t){const n=J[t.type];return n?n(e,t):e},active:function(e={encounter:null,stage:null,stageState:null},t){const n=F[t.type];return n?n(e,t):e}}),q={[r.SET_SCENE]:function(e,{payload:t}){return t}},z=Object(M.combineReducers)({player:function(e={name:"Heroine",maxWillpower:10,willpower:10,strength:2,dexterity:2,constitution:2,wisdom:2,intelligence:2,charisma:2},t){const n=W[t.type];return n?n(e,t):e},encounter:B,currentScene:function(e=o.ENCOUNTER_SELECT,t){const n=q[t.type];return n?n(e,t):e}}),Q=Object(M.createStore)(z,Object(K.composeWithDevTools)());n(6);const X=document.getElementById("app-root");Object(a.k)(Object(a.h)(i.a,{store:Q},Object(a.h)(V,null)),X)},6:function(e,t,n){}});
//# sourceMappingURL=combatSandbox1.a3d9ff9b3c26afa5ef81.js.map