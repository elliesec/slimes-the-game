!function(e){function t(t){for(var r,a,i=t[0],l=t[1],u=t[2],h=0,p=[];h<i.length;h++)a=i[h],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&p.push(c[a][0]),c[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==c[l]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},c={0:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/slimes-the-game";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=l;o.push([44,3]),n()}({38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){e.exports=n.p+"assets/c627a862d41d9026b5ade2a0fda5b886.jpg"},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r,c,o,a=n(0),i=n(1);function l(...e){}n(38),function(e){e.ENCOUNTER_SELECT="ENCOUNTER_SELECT",e.ENCOUNTER="ENCOUNTER",e.ENCOUNTER_END="ENCOUNTER_END"}(r||(r={})),function(e){e.OPTIONS="options",e.FLAVOUR="flavour",e.END_SCENE="endScene"}(c||(c={})),function(e){e.DIFFICULTY_CHECK="difficultyCheck",e.FLAVOUR="flavour"}(o||(o={})),n(39);const u=n(40);class s extends a.a{render({activeEncounter:e}){const{encounter:t,stage:n}=e,r=t.stages.find(e=>e.id===n);return Object(a.h)("div",{className:"EncounterScene"},Object(a.h)("div",{className:"encounter-text"},Object(a.h)("div",{className:"card"},Object(a.h)("h3",null,"Encounter!"),Object(a.h)("div",{className:"stage-text"},r.text.map(e=>Object(a.h)("p",null,e))),function(e){return e.type===c.OPTIONS}(r)&&this.renderOptionsStage(r))),Object(a.h)("div",{className:"encounter-image"},Object(a.h)("div",{className:"card"},Object(a.h)("img",{src:u,alt:"Lewd Pictures"}))))}renderOptionsStage(e){return Object(a.h)("div",{className:"options-stage"},Object(a.h)("p",null,Object(a.h)("strong",null,"What do you do?")),Object(a.h)("ul",{className:"options"},e.options.map(e=>this.renderStageOption(e))))}renderStageOption(e){return Object(a.h)("li",{className:"option"},e.text)}}const h=Object(i.b)((function(e){return{activeEncounter:e.encounter.active}}),(function(e){return{}}))(s);var p,d;function b(e){return{type:d.SET_SCENE,payload:e}}!function(e){e.REGISTER_ENCOUNTER="REGISTER_ENCOUNTER",e.START_ENCOUNTER="START_ENCOUNTER"}(p||(p={})),function(e){e.SET_SCENE="SET_SCENE"}(d||(d={})),n(41);class E extends a.a{constructor(e){super(e),this.state={selectedEncounter:null},this.onSelectChange=this.onSelectChange.bind(this),this.onSelectEncounter=this.onSelectEncounter.bind(this)}render({encounters:e}){var t;return Object(a.h)("div",{className:"EncounterSelection"},Object(a.h)("h3",null,"Encounter Selection"),Object(a.h)("div",{className:"encounter-stats"},Object(a.h)("ul",{className:"encounter-stats-list"},Object(a.h)("li",null,Object(a.h)("span",{className:"key"},"Encounters Available: "),Object(a.h)("span",{className:"value"},e.length))),Object(a.h)("hr",null),Object(a.h)("div",{className:"encounter-selection-form"},Object(a.h)("label",{htmlFor:"encounter-select"},Object(a.h)("span",null,"Select Encounter: "),Object(a.h)("select",{id:"encounter-select",value:null===(t=this.state.selectedEncounter)||void 0===t?void 0:t.id,onChange:this.onSelectChange},Object(a.h)("option",{value:""}),e.map(e=>Object(a.h)("option",{value:e.id},e.name)))),Object(a.h)("button",{disabled:!this.state.selectedEncounter,onClick:this.onSelectEncounter},"Start Encounter"))))}onSelectChange(e){var t;const n=e.currentTarget.value,r=null!==(t=this.props.encounters.find(e=>e.id===n))&&void 0!==t?t:null;this.setState({selectedEncounter:r})}onSelectEncounter(){const{selectedEncounter:e}=this.state;e&&this.props.onSelectEncounter(e)}}E.defaultProps={encounters:[],onSelectEncounter:l};const O=Object(i.b)((function(e){return{encounters:Object.values(e.encounter.all)}}),(function(e){return{onSelectEncounter(t){e(function(e){return{type:p.START_ENCOUNTER,payload:e}}(t)),e(b(r.ENCOUNTER))}}}))(E);n(42);const m=Object(i.b)((function({currentScene:e}){return{currentScene:e}}))(({currentScene:e})=>Object(a.h)("div",{className:"EncounterView"},(e=>{switch(e){case r.ENCOUNTER_SELECT:return Object(a.h)(O,null);case r.ENCOUNTER:return Object(a.h)(h,null);case r.ENCOUNTER_END:return Object(a.h)("div",null,"Encounter End");default:return null}})(e)));var g;function f(e){return{type:g.SET_PLAYER,payload:e}}function C(e,t){return{type:g.SET_PLAYER_STAT,payload:{statName:e,value:t}}}!function(e){e.SET_PLAYER="SET_PLAYER",e.SET_PLAYER_DESCRIPTION="SET_PLAYER_DESCRIPTION",e.SET_PLAYER_STAT="SET_PLAYER_STAT"}(g||(g={}));const N={[g.SET_PLAYER]:function(e,{payload:t}){return t===e?e:Object.assign({},t)},[g.SET_PLAYER_DESCRIPTION]:function(e,{payload:{key:t,value:n}}){return e[t]===n?e:Object.assign(Object.assign({},e),{[t]:n})},[g.SET_PLAYER_STAT]:function(e,{payload:{statName:t,value:n}}){return e[t]===n?e:Object.assign(Object.assign({},e),{[t]:n})}};n(43);const j=e=>Object(a.h)("label",{htmlFor:e.id},Object(a.h)("span",null,e.label,":"),Object(a.h)("input",Object.assign({},e))),y=Object(i.b)((function(e){return{player:e.player}}),(function(e){return{onPlayerReset(){e(f({name:"Heroine",maxWillpower:10,willpower:10,strength:2,dexterity:2,constitution:2,wisdom:2,intelligence:2,charisma:2}))},onNameChange(t){const n=t.currentTarget.value;e(function(e,t){return{type:g.SET_PLAYER_DESCRIPTION,payload:{key:"name",value:t}}}(0,n))},onStrengthChange(t){const n=Number(t.currentTarget.value);e(C("strength",n))},onDexterityChange(t){const n=Number(t.currentTarget.value);e(C("dexterity",n))},onConstitutionChange(t){const n=Number(t.currentTarget.value);e(C("constitution",n))},onWisdomChange(t){const n=Number(t.currentTarget.value);e(C("wisdom",n))},onIntelligenceChange(t){const n=Number(t.currentTarget.value);e(C("intelligence",n))},onCharismaChange(t){const n=Number(t.currentTarget.value);e(C("charisma",n))},onMaxWillpowerChange(t){const n=Number(t.currentTarget.value);e(C("maxWillpower",n))},onWillpowerChange(t){const n=Number(t.currentTarget.value);e(C("willpower",n))}}}))(({player:e,onPlayerReset:t,onNameChange:n,onStrengthChange:r,onDexterityChange:c,onConstitutionChange:o,onWisdomChange:i,onIntelligenceChange:l,onCharismaChange:u,onMaxWillpowerChange:s,onWillpowerChange:h})=>Object(a.h)("div",{className:"PlayerConfigPanel"},Object(a.h)("h3",{className:"header-with-buttons"},Object(a.h)("span",null,"Player"),Object(a.h)("button",{onClick:t},"Reset")),Object(a.h)(j,{id:"name-input",label:"Name",type:"text",value:e.name,onChange:n}),Object(a.h)("h4",null,"Attributes"),Object(a.h)("div",{className:"attribute-config"},Object(a.h)(j,{id:"strength-input",label:"Strength",type:"number",value:e.strength,min:1,onChange:r}),Object(a.h)(j,{id:"dexterity-input",label:"Dexterity",type:"number",value:e.dexterity,min:1,onChange:c}),Object(a.h)(j,{id:"constitution-input",label:"Constitution",type:"number",value:e.constitution,min:1,onChange:o}),Object(a.h)(j,{id:"wisdom-input",label:"Wisdom",type:"number",value:e.wisdom,min:1,onChange:i}),Object(a.h)(j,{id:"intelligence-input",label:"Intelligence",type:"number",value:e.intelligence,min:1,onChange:l}),Object(a.h)(j,{id:"charisma-input",label:"Charisma",type:"number",value:e.charisma,min:1,onChange:u})),Object(a.h)("hr",null),Object(a.h)("h4",null,"Resources"),Object(a.h)(j,{id:"max-willpower-input",label:"Max Willpower",type:"number",value:e.maxWillpower,min:1,onChange:s}),Object(a.h)(j,{id:"willpower-input",label:"Willpower",type:"number",value:e.willpower,min:1,onChange:h}))),T={id:"encounter1",name:"An Old Chest",initialStageId:0,stages:[{id:0,type:c.OPTIONS,text:["You see an old chest. It appears to be locked."],options:[{type:o.DIFFICULTY_CHECK,text:"Break the chest open",requirements:{strength:2},difficultyCheck:10,outcomes:{}},{type:o.DIFFICULTY_CHECK,text:"Pick the lock",requirements:{dexterity:3},difficultyCheck:16,outcomes:{}},{type:o.DIFFICULTY_CHECK,text:"Check the chest for traps",requirements:{wisdom:1},difficultyCheck:18,outcomes:{}},{type:o.DIFFICULTY_CHECK,text:"Open the chest using magic",requirements:{intelligence:6},difficultyCheck:18,outcomes:{}},{type:o.FLAVOUR,text:"Ignore the chest",nextStageId:30}]},{id:10,type:c.OPTIONS,text:["You attempt to fight the mimic!"],options:[]},{id:20,type:c.OPTIONS,text:["You attempt to escape."],options:[]},{id:30,type:c.END_SCENE,text:["You ignore the chest and move on."],continueText:"Move on"}]};class S extends a.a{constructor(e){super(e),e.load()}render({player:e}){return Object(a.h)("div",{className:"CombatSandbox1"},Object(a.h)("div",{className:"config-panel"},Object(a.h)("div",{className:"panel-header"},Object(a.h)("h2",null,"Configuration")),Object(a.h)(y,null)),Object(a.h)("div",{className:"encounter-panel"},Object(a.h)("div",{className:"panel-header"},Object(a.h)("h2",null,"Encounter")),Object(a.h)(m,null)))}}S.defaultProps={load:l};const v=Object(i.b)((function(e){return{player:e.player}}),(function(e){return{load(){var t;e((t=T,{type:p.REGISTER_ENCOUNTER,payload:t})),e(f({name:"Heroine",maxWillpower:10,willpower:10,strength:2,dexterity:2,constitution:2,wisdom:2,intelligence:2,charisma:2})),e(b(r.ENCOUNTER_SELECT))}}}))(S);var R=n(3),_=n(19);const w={[d.SET_SCENE]:function(e,{payload:t}){return t}};console.log(r);const x={[p.START_ENCOUNTER]:function(e,{payload:t}){return{encounter:t,stage:t.initialStageId}}},I={[p.REGISTER_ENCOUNTER]:function(e,{payload:t}){return e[t.id]&&console.warn(`Warning: duplicate encounter registration for ID "${t.id}"`),Object.assign(Object.assign({},e),{[t.id]:t})}},P=Object(R.combineReducers)({all:function(e={},t){const n=I[t.type];return n?n(e,t):e},active:function(e=null,t){const n=x[t.type];return n?n(e,t):e}}),U=Object(R.combineReducers)({player:function(e={name:"Heroine",maxWillpower:10,willpower:10,strength:2,dexterity:2,constitution:2,wisdom:2,intelligence:2,charisma:2},t){const n=N[t.type];return n?n(e,t):e},encounter:P,currentScene:function(e=r.ENCOUNTER_SELECT,t){const n=w[t.type];return n?n(e,t):e}}),A=Object(R.createStore)(U,Object(_.composeWithDevTools)());n(5);const L=document.getElementById("app-root");Object(a.k)(Object(a.h)(i.a,{store:A},Object(a.h)(v,null)),L)},5:function(e,t,n){}});
//# sourceMappingURL=combatSandbox1.7162052c64fb45f9e196.js.map