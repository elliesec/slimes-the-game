{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/common/model/appearance/AppearanceSlot.ts","webpack:///./src/slimes-the-game/assets/backgrounds/character sync nonrecursive \\.(jpe","webpack:///./src/slimes-the-game/assets/backgrounds/character/forest-1.png","webpack:///./src/slimes-the-game/assets/backgrounds/text sync nonrecursive \\.(jpe","webpack:///./src/slimes-the-game/assets/backgrounds/text/forest-1.png","webpack:///./src/slimes-the-game/components/views/MainMenuView/main-menu-bg.png","webpack:///./src/slimes-the-game/data/character/characters sync nonrecursive \\.ts$","webpack:///./src/slimes-the-game/data/character/characters/dummy.ts","webpack:///./src/slimes-the-game/data/items/families sync nonrecursive \\.ts$","webpack:///./src/slimes-the-game/data/items/families/HumanFamily.ts","webpack:///./src/slimes-the-game/data/items/items/player sync nonrecursive \\.ts$","webpack:///./src/slimes-the-game/data/items/items/player/armLeft.ts","webpack:///./src/slimes-the-game/data/items/items/player/armLeft/defaultArmLeft.png","webpack:///./src/slimes-the-game/data/items/items/player/armRight.ts","webpack:///./src/slimes-the-game/data/items/items/player/armRight/defaultArmRight.png","webpack:///./src/slimes-the-game/data/items/items/player/expression.ts","webpack:///./src/slimes-the-game/data/items/items/player/expression/defaultExpression.png","webpack:///./src/slimes-the-game/data/items/items/player/hairBack.ts","webpack:///./src/slimes-the-game/data/items/items/player/hairBack/defaultHairBack.png","webpack:///./src/slimes-the-game/data/items/items/player/hairFront.ts","webpack:///./src/slimes-the-game/data/items/items/player/hairFront/defaultHairFront.png","webpack:///./src/slimes-the-game/data/items/items/player/head.ts","webpack:///./src/slimes-the-game/data/items/items/player/head/defaultHead.png","webpack:///./src/slimes-the-game/data/items/items/player/hips.ts","webpack:///./src/slimes-the-game/data/items/items/player/hips/plainPanties.png","webpack:///./src/slimes-the-game/data/items/items/player/legs.ts","webpack:///./src/slimes-the-game/data/items/items/player/legs/defaultLegs.png","webpack:///./src/slimes-the-game/data/items/items/player/pubicHair.ts","webpack:///./src/slimes-the-game/data/items/items/player/pubicHair/defaultPubicHair.png","webpack:///./src/slimes-the-game/data/items/items/player/shadow.ts","webpack:///./src/slimes-the-game/data/items/items/player/shadow/defaultShadow.png","webpack:///./src/slimes-the-game/data/items/items/player/torso.ts","webpack:///./src/slimes-the-game/data/items/items/player/torso/defaultTorso.png","webpack:///./src/slimes-the-game/data/items/items/player/torso/plainBra.png","webpack:///./src/common/model/appearance/ItemCategory.ts","webpack:///./src/slimes-the-game/styles/styles.ts","webpack:///./src/slimes-the-game/styles/_constants.module.scss","webpack:///./src/common/redux/app/appActions.ts","webpack:///./src/common/redux/app/appFadeOutReducer.ts","webpack:///./src/common/redux/app/appPixiAppReducer.ts","webpack:///./src/common/redux/app/appPositionReducer.ts","webpack:///./src/common/redux/app/appState.ts","webpack:///./src/common/redux/app/appViewReducer.ts","webpack:///./src/common/redux/app/appReducer.ts","webpack:///./src/common/util/Log.ts","webpack:///./src/common/redux/item/itemActions.ts","webpack:///./src/common/redux/item/itemByIdReducer.ts","webpack:///./src/common/redux/character/characterActions.ts","webpack:///./src/common/redux/item/itemSelectors.ts","webpack:///./src/common/redux/commonSelectors.ts","webpack:///./src/common/redux/itemFamily/itemFamilySelectors.ts","webpack:///./src/common/redux/character/playerSelectors.ts","webpack:///./src/common/redux/character/characterSelectors.ts","webpack:///./src/common/redux/character/playerActions.ts","webpack:///./src/common/redux/character/characterPlayerReducer.ts","webpack:///./src/common/redux/character/characterByIdReducer.ts","webpack:///./src/common/redux/character/characterReducer.ts","webpack:///./src/common/redux/config/configActions.ts","webpack:///./src/common/redux/config/configState.ts","webpack:///./src/common/redux/config/configHotkeysReducer.ts","webpack:///./src/common/redux/config/configReducer.ts","webpack:///./src/common/redux/item/itemByFamilyReducer.ts","webpack:///./src/common/redux/item/itemReducer.ts","webpack:///./src/common/redux/itemFamily/itemFamilyActions.ts","webpack:///./src/common/redux/itemFamily/itemFamilyByTypeReducer.ts","webpack:///./src/common/redux/itemFamily/itemFamilyReducer.ts","webpack:///./src/common/model/location/Background.ts","webpack:///./src/common/redux/location/locationActions.ts","webpack:///./src/common/redux/location/locationBackgroundReducer.ts","webpack:///./src/common/redux/location/locationReducer.ts","webpack:///./src/slimes-the-game/redux/rootReducer.ts","webpack:///./src/slimes-the-game/redux/store.ts","webpack:///./src/common/redux/app/appSelectors.ts","webpack:///./src/slimes-the-game/styles/transitions/LoadingScreenFade.module.scss","webpack:///./src/slimes-the-game/components/FadeOut/FadeOut.tsx","webpack:///./src/slimes-the-game/components/FadeOut/FadeOut.module.scss","webpack:///./src/common/components/PixiAppView/PixiAppView.tsx","webpack:///./src/common/components/ProgressBar/ProgressBar.tsx","webpack:///./src/common/components/ProgressBar/ProgressBar.module.scss","webpack:///./src/slimes-the-game/components/LoadingScreen/LoadingScreen.module.scss","webpack:///./src/slimes-the-game/enums.ts","webpack:///./src/slimes-the-game/components/LoadingScreen/LoadingScreen.tsx","webpack:///./src/slimes-the-game/components/Sidebar/Sidebar.tsx","webpack:///./src/slimes-the-game/assets/backgrounds/backgrounds.ts","webpack:///./src/common/components/BackgroundComponent/WindowBackground.tsx","webpack:///./src/common/redux/location/locationSelectors.ts","webpack:///./src/common/components/ContainerLinkedComponent/ContainerLinkedComponent.tsx","webpack:///./src/common/hocs/withAppPosition.ts","webpack:///./src/common/hocs/withPixiApp.tsx","webpack:///./src/common/pixi/PixiAppUpdateManager.ts","webpack:///./src/common/pixi/containers/LayoutContainer.ts","webpack:///./src/common/pixi/containers/DomTrackingContainer.ts","webpack:///./src/slimes-the-game/config/config.ts","webpack:///./src/slimes-the-game/containers/CharacterContainer.ts","webpack:///./src/slimes-the-game/components/windows/CharacterWindow/CharacterWindowContainer.ts","webpack:///./src/slimes-the-game/components/windows/CharacterWindow/CharacterWindow.tsx","webpack:///./src/slimes-the-game/components/windows/MapWindow/MapWindow.tsx","webpack:///./src/slimes-the-game/components/windows/NPCWindow/NPCWindow.tsx","webpack:///./src/slimes-the-game/components/windows/TextWindow/TextWindow.tsx","webpack:///./src/slimes-the-game/components/common/Tabs/Tab.tsx","webpack:///./src/slimes-the-game/components/common/Tabs/TabHeader.tsx","webpack:///./src/slimes-the-game/components/common/Tabs/Tabs.tsx","webpack:///./src/slimes-the-game/components/windows/DressingRoomControlsWindow/DressingRoomSlotSelect.tsx","webpack:///./src/slimes-the-game/components/windows/DressingRoomControlsWindow/DressingRoomControlsWindow.tsx","webpack:///./src/common/util/keyboardUtils.ts","webpack:///./src/common/util/imageUtils.ts","webpack:///./src/common/redux/config/configSelectors.ts","webpack:///./src/common/components/ButtonGrid/ButtonGrid.tsx","webpack:///./src/slimes-the-game/components/views/MainMenuView/MainMenuButton.tsx","webpack:///./src/slimes-the-game/components/views/MainMenuView/MainMenuButtons.tsx","webpack:///./src/slimes-the-game/components/views/MainMenuView/MainMenuView.tsx","webpack:///./src/common/pixi/PixiApp.ts","webpack:///./src/common/components/PixiAppComponent/PixiAppComponent.tsx","webpack:///./src/slimes-the-game/components/views/DefaultView/DefaultView.tsx","webpack:///./src/slimes-the-game/components/views/DressingRoomView/DressingRoomView.tsx","webpack:///./src/slimes-the-game/components/CheatMenu/CheatMenu.tsx","webpack:///./src/slimes-the-game/data/dataLoaderUtils.ts","webpack:///./src/slimes-the-game/data/character/player.ts","webpack:///./src/slimes-the-game/data/character/characterLoader.ts","webpack:///./src/slimes-the-game/data/items/itemLoader.ts","webpack:///./src/slimes-the-game/SlimesTheGame.tsx","webpack:///./src/index.tsx","webpack:///./src/common/model/appearance/ItemFamily.ts","webpack:///./src/common/functions.ts","webpack:///./src/slimes-the-game/data/items/items/itemDefUtils.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","3","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","AppearanceSlotType","AppearanceSlotTypeValues","values","AppearanceSlotNames","HEAD","TORSO","HIPS","LEGS","FEET","ARM_LEFT","ARM_RIGHT","HAIR_BACK","EXPRESSION","HAIR_FRONT","PUBIC_HAIR","SHADOW","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","dummyCharacter","appearance","family","HUMAN","categories","humanFamily","type","slots","canEquip","UNDERWEAR","CLOTHES","ARMOUR","BODY","bodyItems","createBodyItem","displayName","priority","assets","url","underwearItems","createUnderwearItem","description","ItemCategory","ItemCategoryValues","ItemCategoryNames","loadingScreenStyles","fadeInMs","Number","fadeOutMs","backgroundColor","AppAction","setFadeOut","fadeOut","SET_FADE_OUT","payload","setFadeOutReducer","state","reducers","appFadeOutReducer","action","reducer","SET_PIXI_APP","view","SET_POSITION","position","x","y","AppView","SET_VIEW","appReducer","MAIN_MENU","pixiApp","app","LogLevel","log","logColors","ERROR","WARNING","INFO","DEBUG","TRACE","message","this","console","error","warn","logFunction","level","style","format","Date","serialiseData","String","ItemAction","registerItemReducer","Array","isArray","forEach","itemDef","itemIdFromItem","REGISTER_ITEMS","itemByIdReducer","item","itemId","slot","CharacterAction","getItemByIdState","byId","getItemById","max","getItemCategoryMappings","byFamily","props","itemsById","itemIdsByFamily","familyIds","categoryMapping","category","slotMapping","getItemFamilyByTypeState","itemFamily","byType","getPlayerId","character","player","getNormalizedPlayer","playerId","charactersById","getNormalizedPlayerAppearance","normalizedPlayer","getPlayerAppearance","normalizedAppearance","itemFamiliesByType","mapAppearance","getPlayerAppearanceItems","appearanceItems","sort","i1","i2","mapCategories","ncm","reduce","ccm","nsm","AppearanceSlot","csm","mapSlots","PlayerAction","registerPlayerReducer","REGISTER","characterPlayerReducer","normalizeCharacter","registerCharacterReducer","setCharacterAppearanceItemReducer","characterId","REGISTER_CHARACTER","SET_APPEARANCE_ITEM","characterByIdReducer","def","scm","ssm","characterReducer","ConfigAction","Hotkey","setHotkeyReducer","hotkey","includes","defaultConfigHotkeysState","removeHotkeyReducer","index","indexOf","SET_HOTKEY","REMOVE_HOTKEY","configHotkeysReducer","LEFT","RIGHT","UP","DOWN","SELECT","CANCEL","configReducer","hotkeys","itemByFamilyReducer","itemReducer","ItemFamilyAction","registerItemFamilyReducer","REGISTER_FAMILY","itemFamilyByTypeReducer","itemFamilyReducer","Background","BackgroundValues","instanceOfBackground","val","find","bg","LocationAction","setBackgroundReducer","FOREST_1","SET_BACKGROUND","locationBackgroundReducer","locationReducer","background","rootReducer","location","config","store","getCurrentView","getAppFadeOut","super","active","visible","forceUpdate","appRoot","document","getElementById","ROOT_ID","CSSTransition","classNames","in","timeout","enter","exit","mountOnEnter","unmountOnExit","className","FadeOut","min","progress","percentage","width","WindowType","loadingComplete","subscribe","observable","prevProps","LoadingScreen","children","screen","screenContent","screenContentOut","loadingText","debug","setState","err","complete","FILE_NAME_REGEX","WindowBackgrounds","CHARACTER","record","loadBackgroundContext","loadCharacterBackgrounds","TEXT","loadTextBackgrounds","context","filename","match","getStyles","backgroundImage","WindowBackground","ownProps","getLocationBackground","backgrounds","windowType","ref","getInitialState","containerAdded","container","createContainer","addContainerToApp","appPosition","height","setProps","getContainerProps","destroy","currentRef","current","getBoundingClientRect","stage","addChild","withAppPosition","withPixiApp","PixiAppUpdateManager","listener","updateListeners","delta","dirty","assignProps","tick","addUpdateListener","layout","shouldContainerUpdate","removeChildren","clear","newProps","highlight","set","border","lineStyle","beginFill","drawRect","endFill","GAME_NAME","setPropsFromState","asset","sprite","from","getState","addCharacterContainer","scaleX","scaleY","scale","Math","characterContainer","CharacterWindow","withResizeDetector","parentState","MapWindow","NPCWindow","TextWindow","onSelect","tab","selected","onClick","defaultProps","onSelectTab","tabs","child","selectedTab","onChange","options","target","renderCategory","renderSlotSelect","itemCategoryMapping","availableItems","onItemSet","DressingRoomControlsWindow","ItemFamily","dispatch","setCharacterAppearanceItem","setPlayerAppearanceItem","ArrowKey","preloadImages","urls","combineLatest","preloadImage","pipe","sum","retryCount","subject","BehaviorSubject","img","Image","src","onload","trace","next","onerror","getConfigHotkeysState","row","column","onKeyDown","onFocus","addEventListener","removeEventListener","getStyle","gridRowStart","gridColumnStart","rows","columns","gridTemplateRows","fill","join","gridTemplateColumns","arrowKey","isArrowKey","onArrowKey","toArray","preventDefault","ButtonGrid","buttonRef","focus","onNewGame","onLoadGame","onSettings","MainMenuButtons","mainMenuBackground","pixiStageRef","element","clientWidth","clientHeight","transparent","onResize","appendChild","onPixiAppSet","ticker","add","updateApp","View","resizeTo","onAppResize","viewMapping","getBackgroundStyle","DEFAULT","Observable","subscriber","interval","setInterval","clearInterval","DRESSING_ROOM","PixiAppComponent","appSetPixiApp","open","renderModal","onViewSwitch","CheatMenu","setTimeout","changeAppView","appSetView","loadContext","moduleLoader","loadCharacterModule","default","loadItemModule","items","registerItems","loadFamilyModule","info","ItemFamilyType","noop","args","memoize","itemDefinitionGenerator"],"mappings":"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","file":"index.1b24da5ffd4008c76cbb.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t3: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/slimes-the-game/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([200,0,1,5]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { ItemCategory } from './ItemCategory';\r\n\r\nexport enum AppearanceSlotType {\r\n    HEAD = 'head',\r\n    TORSO = 'torso',\r\n    HIPS = 'hips',\r\n    LEGS = 'legs',\r\n    FEET = 'feet',\r\n    ARM_LEFT = 'armLeft',\r\n    ARM_RIGHT = 'armRight',\r\n    HAIR_BACK = 'hairBack',\r\n    EXPRESSION = 'expression',\r\n    HAIR_FRONT = 'hairFront',\r\n    PUBIC_HAIR = 'pubicHair',\r\n    SHADOW = 'shadow',\r\n}\r\n\r\nexport const AppearanceSlotTypeValues: AppearanceSlotType[] = Object.values(AppearanceSlotType);\r\n\r\nexport const AppearanceSlotNames: Record<AppearanceSlotType, string> = {\r\n    [AppearanceSlotType.HEAD]: 'Head',\r\n    [AppearanceSlotType.TORSO]: 'Torso',\r\n    [AppearanceSlotType.HIPS]: 'Hips',\r\n    [AppearanceSlotType.LEGS]: 'Legs',\r\n    [AppearanceSlotType.FEET]: 'Feet',\r\n    [AppearanceSlotType.ARM_LEFT]: 'Left Arm',\r\n    [AppearanceSlotType.ARM_RIGHT]: 'Right Arm',\r\n    [AppearanceSlotType.HAIR_BACK]: 'Back Hair',\r\n    [AppearanceSlotType.EXPRESSION]: 'Expression',\r\n    [AppearanceSlotType.HAIR_FRONT]: 'Front Hair',\r\n    [AppearanceSlotType.PUBIC_HAIR]: 'Pubic Hair',\r\n    [AppearanceSlotType.SHADOW]: 'Shadow',\r\n};\r\n\r\nexport interface AppearanceSlot {\r\n    type: AppearanceSlotType;\r\n    canEquip: boolean;\r\n    categories?: ItemCategory[];\r\n}\r\n","var map = {\n\t\"./forest-1.png\": 159\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 158;","module.exports = __webpack_public_path__ + \"assets/93b7f81a4f060726e14f255914928b6d.png\";","var map = {\n\t\"./forest-1.png\": 161\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 160;","module.exports = __webpack_public_path__ + \"assets/93b7f81a4f060726e14f255914928b6d.png\";","module.exports = __webpack_public_path__ + \"assets/cfa86c32b445f1902f2c69d6de20b7c1.png\";","var map = {\n\t\"./dummy.ts\": 172\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 171;","import { ItemFamilyType } from '../../../../common/model/appearance/ItemFamily';\r\nimport { CharacterDefinition } from '../../../../common/model/character/CharacterDefinition';\r\n\r\nconst dummyCharacter: CharacterDefinition = {\r\n    appearance: {\r\n        family: ItemFamilyType.HUMAN,\r\n        categories: {},\r\n    },\r\n};\r\n\r\nexport default dummyCharacter;\r\n","var map = {\n\t\"./HumanFamily.ts\": 174\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 173;","import { AppearanceSlotType } from '../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamily, ItemFamilyType } from '../../../../common/model/appearance/ItemFamily';\r\n\r\nconst humanFamily: ItemFamily = {\r\n    type: ItemFamilyType.HUMAN,\r\n    slots: [\r\n        {\r\n            type: AppearanceSlotType.HEAD,\r\n            canEquip: true,\r\n        },\r\n        {\r\n            type: AppearanceSlotType.TORSO,\r\n            canEquip: true,\r\n        },\r\n        {\r\n            type: AppearanceSlotType.HIPS,\r\n            canEquip: true,\r\n            categories: [ItemCategory.UNDERWEAR, ItemCategory.CLOTHES, ItemCategory.ARMOUR],\r\n        },\r\n        {\r\n            type: AppearanceSlotType.LEGS,\r\n            canEquip: true,\r\n        },\r\n        {\r\n            type: AppearanceSlotType.FEET,\r\n            canEquip: true,\r\n            categories: [ItemCategory.UNDERWEAR, ItemCategory.CLOTHES, ItemCategory.ARMOUR],\r\n        },\r\n        {\r\n            type: AppearanceSlotType.ARM_LEFT,\r\n            canEquip: true,\r\n        },\r\n        {\r\n            type: AppearanceSlotType.ARM_RIGHT,\r\n            canEquip: true,\r\n        },\r\n        {\r\n            type: AppearanceSlotType.HAIR_BACK,\r\n            canEquip: false,\r\n            categories: [ItemCategory.BODY],\r\n        },\r\n        {\r\n            type: AppearanceSlotType.EXPRESSION,\r\n            canEquip: false,\r\n            categories: [ItemCategory.BODY],\r\n        },\r\n        {\r\n            type: AppearanceSlotType.HAIR_FRONT,\r\n            canEquip: false,\r\n            categories: [ItemCategory.BODY],\r\n        },\r\n        {\r\n            type: AppearanceSlotType.PUBIC_HAIR,\r\n            canEquip: false,\r\n            categories: [ItemCategory.BODY],\r\n        },\r\n        {\r\n            type: AppearanceSlotType.SHADOW,\r\n            canEquip: false,\r\n            categories: [ItemCategory.BODY],\r\n        },\r\n    ],\r\n};\r\n\r\nexport default humanFamily;\r\n","var map = {\n\t\"./armLeft.ts\": 176,\n\t\"./armRight.ts\": 178,\n\t\"./expression.ts\": 180,\n\t\"./hairBack.ts\": 182,\n\t\"./hairFront.ts\": 184,\n\t\"./head.ts\": 186,\n\t\"./hips.ts\": 188,\n\t\"./legs.ts\": 190,\n\t\"./pubicHair.ts\": 192,\n\t\"./shadow.ts\": 194,\n\t\"./torso.ts\": 196\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 175;","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.ARM_LEFT,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultArmLeft',\r\n        displayName: 'Default Left Arm',\r\n        priority: 30,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./armLeft/defaultArmLeft.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/ec443cce74498751a3cbb43a21719299.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.ARM_RIGHT,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultArmRight',\r\n        displayName: 'Default Right Arm',\r\n        priority: 50,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./armRight/defaultArmRight.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/331d46c72ab2add55af911a9db9c1e81.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.EXPRESSION,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultExpression',\r\n        displayName: 'Default Expression',\r\n        priority: 90,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./expression/defaultExpression.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/9db05836bd766008fe77a7666e4685be.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.HAIR_BACK,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultHairBack',\r\n        displayName: 'Default Back Hair',\r\n        priority: 70,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./hairBack/defaultHairBack.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/293931d54da437ea0371afdc57e1eea9.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.HAIR_FRONT,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultHairFront',\r\n        displayName: 'Default Front Hair',\r\n        priority: 100,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./hairFront/defaultHairFront.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/5117f2851efb243bafc25294758918fc.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.HEAD,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultHead',\r\n        displayName: 'Default Head',\r\n        priority: 80,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./head/defaultHead.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/7b680c824703557d11fd4f5200c1fb5a.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createUnderwearItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.HIPS,\r\n    ItemCategory.UNDERWEAR\r\n);\r\n\r\nconst underwearItems: AppearanceItemDefinition[] = [\r\n    createUnderwearItem({\r\n        name: 'plainPanties',\r\n        displayName: 'Plain Panties',\r\n        description: 'A simple pair of panties',\r\n        priority: 200,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./hips/plainPanties.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...underwearItems];\r\n","module.exports = __webpack_public_path__ + \"assets/101dfe13680d7c31475e158a48d578a0.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.LEGS,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultLegs',\r\n        displayName: 'Default Legs',\r\n        priority: 20,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./legs/defaultLegs.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/3876cac8706370c1374ac0c785a1e53c.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.PUBIC_HAIR,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultPubicHair',\r\n        displayName: 'Default Pubic Hair',\r\n        priority: 60,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./pubicHair/defaultPubicHair.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/341f0b6e59168b0379f95878ab6b12b6.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.SHADOW,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultShadow',\r\n        displayName: 'Default Shadow',\r\n        priority: 10,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./shadow/defaultShadow.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems];\r\n","module.exports = __webpack_public_path__ + \"assets/96b9ed2f34d8e302b7a206c17f7b2399.png\";","import { AppearanceItemDefinition } from '../../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../../common/model/appearance/ItemFamily';\r\nimport { itemDefinitionGenerator } from '../itemDefUtils';\r\n\r\nconst createBodyItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.TORSO,\r\n    ItemCategory.BODY\r\n);\r\n\r\nconst createUnderwearItem = itemDefinitionGenerator(\r\n    ItemFamilyType.HUMAN,\r\n    AppearanceSlotType.TORSO,\r\n    ItemCategory.UNDERWEAR\r\n);\r\n\r\nconst bodyItems: AppearanceItemDefinition[] = [\r\n    createBodyItem({\r\n        name: 'defaultTorso',\r\n        displayName: 'Default Torso',\r\n        priority: 40,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./torso/defaultTorso.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nconst underwearItems: AppearanceItemDefinition[] = [\r\n    createUnderwearItem({\r\n        name: 'plainBra',\r\n        displayName: 'Plain Bra',\r\n        description: 'A simple bra',\r\n        priority: 210,\r\n        assets: [\r\n            {\r\n                name: 'Default',\r\n                url: require('./torso/plainBra.png'),\r\n            },\r\n        ],\r\n    }),\r\n];\r\n\r\nexport default [...bodyItems, ...underwearItems];\r\n","module.exports = __webpack_public_path__ + \"assets/e81994b2f5ffff2d0916d7d545941483.png\";","module.exports = __webpack_public_path__ + \"assets/21449c696b86185ae6eb652db5ce0634.png\";","export enum ItemCategory {\r\n    BODY = 'body',\r\n    UNDERWEAR = 'underwear',\r\n    CLOTHES = 'clothes',\r\n    ARMOUR = 'armour',\r\n}\r\n\r\nexport const ItemCategoryValues: ItemCategory[] = Object.values(ItemCategory);\r\n\r\nexport const ItemCategoryNames: Record<ItemCategory, string> = {\r\n    [ItemCategory.BODY]: 'Body',\r\n    [ItemCategory.UNDERWEAR]: 'Underwear',\r\n    [ItemCategory.CLOTHES]: 'Clothes',\r\n    [ItemCategory.ARMOUR]: 'Armour',\r\n};\r\n","import styles from './_constants.module.scss';\r\n\r\nexport interface WindowStyles {\r\n    padding: string;\r\n}\r\n\r\nexport interface LoadingScreenStyles {\r\n    fadeInMs: number;\r\n    fadeOutMs: number;\r\n    backgroundColor: string;\r\n}\r\n\r\nexport const windowStyles: WindowStyles = {\r\n    padding: styles.windowPadding,\r\n};\r\n\r\nexport const loadingScreenStyles: LoadingScreenStyles = {\r\n    fadeInMs: Number(styles.loadingScreenFadeInMs),\r\n    fadeOutMs: Number(styles.loadingScreenFadeOutMs),\r\n    backgroundColor: styles.loadingScreenBackgroundColor,\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"windowPadding\":\".5rem\",\"loadingScreenFadeInMs\":\"1000\",\"loadingScreenFadeOutMs\":\"1000\",\"loadingScreenBackgroundColor\":\"#000\"};","import { IPointData } from 'pixi.js';\r\nimport { AnyAction } from 'redux';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { State } from '../../../slimes-the-game/redux/store';\r\nimport { loadingScreenStyles } from '../../../slimes-the-game/styles/styles';\r\nimport { PixiApp } from '../../pixi/PixiApp';\r\nimport { AppView } from './appState';\r\n\r\nexport enum AppAction {\r\n    SET_VIEW = 'app/set-view',\r\n    SET_PIXI_APP = 'app/set-pixi-app',\r\n    SET_POSITION = 'app/set-position',\r\n    SET_FADE_OUT = 'app/set-fade-out',\r\n}\r\n\r\nfunction setFadeOut(fadeOut: boolean): PayloadAction<boolean> {\r\n    return { type: AppAction.SET_FADE_OUT, payload: fadeOut };\r\n}\r\n\r\nfunction changeAppView(view: AppView): PayloadAction<AppView> {\r\n    return { type: AppAction.SET_VIEW, payload: view };\r\n}\r\n\r\nexport function appSetView(view: AppView): ThunkAction<void, State, void, AnyAction> {\r\n    return (dispatch) => {\r\n        dispatch(setFadeOut(true));\r\n        setTimeout(() => {\r\n            dispatch(changeAppView(view));\r\n            dispatch(setFadeOut(false));\r\n        }, loadingScreenStyles.fadeInMs);\r\n    };\r\n}\r\n\r\nexport function appSetPixiApp(app: PixiApp): PayloadAction<PixiApp> {\r\n    return { type: AppAction.SET_PIXI_APP, payload: app };\r\n}\r\n\r\nexport function appSetPosition(p: IPointData): PayloadAction<IPointData> {\r\n    return { type: AppAction.SET_POSITION, payload: p };\r\n}\r\n","import produce from 'immer';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { AppAction } from './appActions';\r\n\r\nconst setFadeOutReducer = produce((state: boolean, { payload }: PayloadAction<boolean>) => {\r\n    if (typeof payload === 'boolean') {\r\n        return payload;\r\n    }\r\n    return state;\r\n}, false);\r\n\r\nconst reducers: Record<string, Reducer<boolean>> = {\r\n    [AppAction.SET_FADE_OUT]: setFadeOutReducer,\r\n};\r\n\r\nexport const appFadeOutReducer = produce((state: boolean, action: Action) => {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(state, action) : state;\r\n}, false);\r\n","import { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { PixiApp } from '../../pixi/PixiApp';\r\nimport { AppAction } from './appActions';\r\n\r\nconst reducers: Record<string, Reducer<PixiApp>> = {\r\n    [AppAction.SET_PIXI_APP]: setPixiAppReducer,\r\n};\r\n\r\nexport function appPixiAppReducer(app: PixiApp = null, action: Action): PixiApp {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(app, action) : app;\r\n}\r\n\r\nfunction setPixiAppReducer(view: PixiApp, action: PayloadAction<PixiApp>): PixiApp {\r\n    return action.payload;\r\n}\r\n","import { IPointData } from 'pixi.js';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { AppAction } from './appActions';\r\n\r\nconst reducers: Record<string, Reducer<IPointData>> = {\r\n    [AppAction.SET_POSITION]: setPositionReducer,\r\n};\r\n\r\nexport function appPositionReducer(\r\n    position: IPointData = { x: 0, y: 0 },\r\n    action: Action\r\n): IPointData {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(position, action) : position;\r\n}\r\n\r\nfunction setPositionReducer(\r\n    position: IPointData,\r\n    { payload }: PayloadAction<IPointData>\r\n): IPointData {\r\n    const { x, y } = position;\r\n    if (x !== payload.x || y !== payload.y) {\r\n        return { ...payload };\r\n    }\r\n    return position;\r\n}\r\n","import { IPointData } from 'pixi.js';\r\nimport { PixiApp } from '../../pixi/PixiApp';\r\n\r\nexport enum AppView {\r\n    MAIN_MENU = 'mainMenu',\r\n    DEFAULT = 'default',\r\n    DRESSING_ROOM = 'dressingRoom',\r\n}\r\n\r\nexport interface AppState {\r\n    view: AppView;\r\n    pixiApp: PixiApp;\r\n    position: IPointData;\r\n    fadeOut: boolean;\r\n}\r\n\r\nexport interface WithAppState {\r\n    app: AppState;\r\n}\r\n","import { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { AppAction } from './appActions';\r\nimport { AppView } from './appState';\r\n\r\nconst reducers: Record<string, Reducer<AppView>> = {\r\n    [AppAction.SET_VIEW]: setViewReducer,\r\n};\r\n\r\nexport function appViewReducer(view = AppView.MAIN_MENU, action: Action): AppView {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(view, action) : view;\r\n}\r\n\r\nfunction setViewReducer(view: AppView, action: PayloadAction<AppView>): AppView {\r\n    return action.payload;\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { appFadeOutReducer } from './appFadeOutReducer';\r\nimport { appPixiAppReducer } from './appPixiAppReducer';\r\nimport { appPositionReducer } from './appPositionReducer';\r\nimport { AppState } from './appState';\r\nimport { appViewReducer } from './appViewReducer';\r\n\r\nexport const appReducer = combineReducers<AppState>({\r\n    view: appViewReducer,\r\n    pixiApp: appPixiAppReducer,\r\n    position: appPositionReducer,\r\n    fadeOut: appFadeOutReducer,\r\n});\r\n","import { format } from 'date-fns';\r\n\r\nexport enum LogLevel {\r\n    ERROR = 0,\r\n    WARNING = 1,\r\n    INFO = 2,\r\n    DEBUG = 3,\r\n    TRACE = 4,\r\n}\r\n\r\nexport type ConsoleLogFunction = (message?: any, ...args: any[]) => void;\r\n\r\nexport class Log {\r\n    private logColors: Record<LogLevel, string> = {\r\n        [LogLevel.ERROR]: '#f44336',\r\n        [LogLevel.WARNING]: '#ffa000',\r\n        [LogLevel.INFO]: '#039be5',\r\n        [LogLevel.DEBUG]: '#689f38',\r\n        [LogLevel.TRACE]: '#90a4ae',\r\n    };\r\n\r\n    public error(message: string, data?: any): void {\r\n        this.log(console.error, LogLevel.ERROR, `[ERROR] ${message}`, data);\r\n    }\r\n\r\n    public warn(message: string, data?: any): void {\r\n        this.log(console.warn, LogLevel.WARNING, `[WARN]  ${message}`, data);\r\n    }\r\n\r\n    public info(message: string, data?: any): void {\r\n        this.log(console.log, LogLevel.INFO, `[INFO]  ${message}`, data);\r\n    }\r\n\r\n    public debug(message: string, data?: any): void {\r\n        this.log(console.log, LogLevel.DEBUG, `[DEBUG] ${message}`, data);\r\n    }\r\n\r\n    public trace(message: string, data?: any): void {\r\n        this.log(console.log, LogLevel.TRACE, `[TRACE] ${message}`, data);\r\n    }\r\n\r\n    public log(\r\n        logFunction: ConsoleLogFunction,\r\n        level: LogLevel,\r\n        message: string,\r\n        data?: any\r\n    ): void {\r\n        const color = this.logColors[level];\r\n        const style = `color: ${color};`;\r\n        logFunction(\r\n            `%c${format(new Date(), 'HH:mm:ss.SSS')} ${message}${this.serialiseData(data)}`,\r\n            style\r\n        );\r\n    }\r\n\r\n    private serialiseData(data?: any): string {\r\n        if (data == null) {\r\n            return '';\r\n        }\r\n        return String(data);\r\n    }\r\n}\r\n\r\nexport const log = new Log();\r\n","import { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { AppearanceItemDefinition } from '../../model/appearance/AppearanceItem';\r\n\r\nexport enum ItemAction {\r\n    REGISTER_ITEMS = 'item/register-items',\r\n}\r\n\r\nexport function registerItems(\r\n    ...items: AppearanceItemDefinition[]\r\n): PayloadAction<AppearanceItemDefinition[]> {\r\n    return { type: ItemAction.REGISTER_ITEMS, payload: items };\r\n}\r\n","import produce from 'immer';\r\nimport objectHash from 'object-hash';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { ItemFamilyType } from '../../model/appearance/ItemFamily';\r\nimport { AppearanceItemDefinition } from '../../model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../model/appearance/AppearanceSlot';\r\nimport { ItemAction } from './itemActions';\r\nimport { ItemByIdState } from './itemState';\r\n\r\nconst registerItemReducer = produce(\r\n    (state: ItemByIdState, { payload }: PayloadAction<AppearanceItemDefinition[]>) => {\r\n        if (!Array.isArray(payload)) {\r\n            return state;\r\n        }\r\n        payload.forEach((itemDef) => {\r\n            const id = itemIdFromItem(itemDef);\r\n            state[id] = { ...itemDef, id };\r\n        });\r\n        return state;\r\n    },\r\n    {}\r\n);\r\n\r\nconst reducers: Record<string, Reducer<ItemByIdState>> = {\r\n    [ItemAction.REGISTER_ITEMS]: registerItemReducer,\r\n};\r\n\r\nexport const itemByIdReducer = produce((state: ItemByIdState, action: Action) => {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(state, action) : state;\r\n}, {});\r\n\r\nexport function itemIdFromItem(item: AppearanceItemDefinition): string {\r\n    return itemId(item.family, item.slot, item.name);\r\n}\r\n\r\nexport function itemId(family: ItemFamilyType, slot: AppearanceSlotType, name: string): string {\r\n    return objectHash([family, slot, name]);\r\n}\r\n","import cuid from 'cuid';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { AppearanceItem } from '../../model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../model/appearance/ItemCategory';\r\nimport { CharacterDefinition } from '../../model/character/CharacterDefinition';\r\nimport { WithId } from '../../types';\r\n\r\nexport enum CharacterAction {\r\n    REGISTER_CHARACTER = 'character/register-character',\r\n    SET_APPEARANCE_ITEM = 'character/set-appearance-item',\r\n}\r\n\r\nexport interface SetCharacterAppearanceItemPayload {\r\n    characterId: string;\r\n    category: ItemCategory;\r\n    slot: AppearanceSlotType;\r\n    item: AppearanceItem;\r\n}\r\n\r\nexport function registerCharacter(\r\n    def: CharacterDefinition\r\n): PayloadAction<WithId<CharacterDefinition>> {\r\n    return { type: CharacterAction.REGISTER_CHARACTER, payload: { ...def, id: cuid() } };\r\n}\r\n\r\nexport function setCharacterAppearanceItem(\r\n    characterId: string,\r\n    category: ItemCategory,\r\n    slot: AppearanceSlotType,\r\n    item: AppearanceItem\r\n): PayloadAction<SetCharacterAppearanceItemPayload> {\r\n    return {\r\n        type: CharacterAction.SET_APPEARANCE_ITEM,\r\n        payload: { characterId, category, slot, item },\r\n    };\r\n}\r\n","import { createSelector } from 'reselect';\r\nimport { State } from '../../../slimes-the-game/redux/store';\r\nimport { memoize } from '../../functions';\r\nimport { AppearanceItem } from '../../model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../model/appearance/AppearanceSlot';\r\nimport { ItemCategory, ItemCategoryValues } from '../../model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../model/appearance/ItemFamily';\r\nimport { PartialRecord } from '../../types';\r\nimport { getProps } from '../commonSelectors';\r\nimport { itemId } from './itemByIdReducer';\r\nimport { ItemByFamilyState, ItemByIdState, WithItemState } from './itemState';\r\n\r\nexport type ItemSlotMapping = PartialRecord<AppearanceSlotType, AppearanceItem[]>;\r\nexport type ItemCategoryMapping = PartialRecord<ItemCategory, ItemSlotMapping>;\r\n\r\nexport function getItemByIdState(state: WithItemState): ItemByIdState {\r\n    return state.item.byId;\r\n}\r\n\r\nexport function getItemByFamilyState(state: WithItemState): ItemByFamilyState {\r\n    return state.item.byFamily;\r\n}\r\n\r\nexport function getItemById(state: WithItemState, id: string): AppearanceItem {\r\n    return state.item.byId[id] ?? null;\r\n}\r\n\r\nexport const getItemByFamilySlotName = memoize(\r\n    (\r\n        state: WithItemState,\r\n        family: ItemFamilyType,\r\n        slot: AppearanceSlotType,\r\n        name: string\r\n    ): AppearanceItem => {\r\n        const id = itemId(family, slot, name);\r\n        return getItemById(state, id);\r\n    },\r\n    { max: 50 }\r\n);\r\n\r\nexport const getItemCategoryMappings = createSelector<\r\n    State,\r\n    ItemFamilyType,\r\n    ItemByIdState,\r\n    ItemByFamilyState,\r\n    ItemFamilyType,\r\n    ItemCategoryMapping\r\n>(\r\n    [getItemByIdState, getItemByFamilyState, getProps],\r\n    (\r\n        itemsById: ItemByIdState,\r\n        itemIdsByFamily: ItemByFamilyState,\r\n        family: ItemFamilyType\r\n    ): ItemCategoryMapping => {\r\n        const familyIds = itemIdsByFamily[family] ?? [];\r\n        const categoryMapping: ItemCategoryMapping = {};\r\n        ItemCategoryValues.forEach((category) => (categoryMapping[category] = {}));\r\n        familyIds.forEach((id) => {\r\n            const item = itemsById[id];\r\n            if (item) {\r\n                const slotMapping = (categoryMapping[item.category] ??= {});\r\n                (slotMapping[item.slot] ??= []).push(item);\r\n            }\r\n        });\r\n        return categoryMapping;\r\n    }\r\n);\r\n","export function getProps<P>(state: any, props: P): P {\r\n    return props;\r\n}\r\n","import { memoize } from '../../functions';\r\nimport { ItemFamily, ItemFamilyType } from '../../model/appearance/ItemFamily';\r\nimport { ItemFamilyByTypeState, WithItemFamilyState } from './itemFamilyState';\r\n\r\nexport function getItemFamilyByTypeState(state: WithItemFamilyState): ItemFamilyByTypeState {\r\n    return state.itemFamily.byType;\r\n}\r\n\r\nexport const getItemFamilyByType = memoize(\r\n    (state: ItemFamilyByTypeState, family: ItemFamilyType): ItemFamily => {\r\n        return state[family] ?? null;\r\n    }\r\n);\r\n","import { createSelector } from 'reselect';\r\nimport { AppearanceItem } from '../../model/appearance/AppearanceItem';\r\nimport { AppearanceSlotTypeValues } from '../../model/appearance/AppearanceSlot';\r\nimport { ItemCategoryValues } from '../../model/appearance/ItemCategory';\r\nimport {\r\n    CharacterAppearance,\r\n    CharacterCategoryMapping,\r\n    CharacterSlotMapping,\r\n} from '../../model/character/Character';\r\nimport {\r\n    NormalizedCategoryMapping,\r\n    NormalizedCharacterAppearance,\r\n    NormalizedSlotMapping,\r\n} from '../../model/character/NormalizedCharacter';\r\nimport { NormalizedPlayer, Player } from '../../model/character/Player';\r\nimport { log } from '../../util/Log';\r\nimport { getItemByIdState } from '../item/itemSelectors';\r\nimport { ItemByIdState } from '../item/itemState';\r\nimport { getItemFamilyByTypeState } from '../itemFamily/itemFamilySelectors';\r\nimport { ItemFamilyByTypeState } from '../itemFamily/itemFamilyState';\r\nimport { getCharacterByIdState } from './characterSelectors';\r\nimport { CharacterByIdState, WithCharacterState } from './characterState';\r\n\r\nexport function getPlayerId(state: WithCharacterState): string {\r\n    return state.character.player;\r\n}\r\n\r\nexport const getNormalizedPlayer = createSelector(\r\n    [getPlayerId, getCharacterByIdState],\r\n    (playerId: string, charactersById: CharacterByIdState): NormalizedPlayer => {\r\n        return charactersById[playerId];\r\n    }\r\n);\r\n\r\nexport const getNormalizedPlayerAppearance = createSelector(\r\n    [getNormalizedPlayer],\r\n    (normalizedPlayer): NormalizedCharacterAppearance => {\r\n        return normalizedPlayer?.appearance ?? null;\r\n    }\r\n);\r\n\r\nexport const getPlayerAppearance = createSelector(\r\n    [getNormalizedPlayerAppearance, getItemFamilyByTypeState, getItemByIdState],\r\n    (\r\n        normalizedAppearance: NormalizedCharacterAppearance,\r\n        itemFamiliesByType: ItemFamilyByTypeState,\r\n        itemsById: ItemByIdState\r\n    ): CharacterAppearance => {\r\n        if (!normalizedAppearance || !itemsById) {\r\n            log.warn(`Player appearance is not defined. This is probably an error`);\r\n            return null;\r\n        }\r\n        return mapAppearance(normalizedAppearance, itemFamiliesByType, itemsById);\r\n    }\r\n);\r\n\r\nexport const getPlayerAppearanceItems = createSelector(\r\n    [getNormalizedPlayerAppearance, getItemByIdState],\r\n    (appearance: NormalizedCharacterAppearance, itemsById: ItemByIdState): AppearanceItem[] => {\r\n        if (!appearance || !itemsById) {\r\n            return [];\r\n        }\r\n        const appearanceItems: AppearanceItem[] = [];\r\n        Object.values(appearance.categories).forEach((slotMapping: NormalizedSlotMapping) => {\r\n            Object.values(slotMapping).forEach((itemId) => {\r\n                const item = itemsById[itemId];\r\n                if (item) {\r\n                    appearanceItems.push(item);\r\n                }\r\n            });\r\n        });\r\n        return appearanceItems.sort((i1, i2) => i1.priority - i2.priority);\r\n    }\r\n);\r\n\r\nexport const getPlayer = createSelector(\r\n    [getNormalizedPlayer, getItemFamilyByTypeState, getItemByIdState],\r\n    (normalizedPlayer, itemFamiliesByType: ItemFamilyByTypeState, itemsById): Player => {\r\n        if (!normalizedPlayer) {\r\n            return null;\r\n        }\r\n        const { appearance } = normalizedPlayer;\r\n        return {\r\n            ...normalizedPlayer,\r\n            appearance: mapAppearance(appearance, itemFamiliesByType, itemsById),\r\n        };\r\n    }\r\n);\r\n\r\nfunction mapAppearance(\r\n    normalizedAppearance: NormalizedCharacterAppearance,\r\n    itemFamiliesByType: ItemFamilyByTypeState,\r\n    itemsById: ItemByIdState\r\n): CharacterAppearance {\r\n    return {\r\n        family: itemFamiliesByType[normalizedAppearance.family],\r\n        categories: mapCategories(normalizedAppearance.categories, itemsById),\r\n    };\r\n}\r\n\r\nfunction mapCategories(\r\n    ncm: NormalizedCategoryMapping,\r\n    itemsById: ItemByIdState\r\n): CharacterCategoryMapping {\r\n    return ItemCategoryValues.reduce((ccm, category) => {\r\n        ccm[category] = ncm[category] ? mapSlots(ncm[category], itemsById) : {};\r\n        return ccm;\r\n    }, {} as CharacterCategoryMapping);\r\n}\r\n\r\nfunction mapSlots(nsm: NormalizedSlotMapping, itemsById: ItemByIdState): CharacterSlotMapping {\r\n    return AppearanceSlotTypeValues.reduce((csm, slot) => {\r\n        if (nsm[slot]) {\r\n            csm[slot] = itemsById[nsm[slot]];\r\n        }\r\n        return csm;\r\n    }, {} as CharacterSlotMapping);\r\n}\r\n","import { CharacterByIdState, WithCharacterState } from './characterState';\r\n\r\nexport function getCharacterByIdState(state: WithCharacterState): CharacterByIdState {\r\n    return state.character.byId;\r\n}\r\n","import cuid from 'cuid';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { store } from '../../../slimes-the-game/redux/store';\r\nimport { AppearanceItem } from '../../model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../model/appearance/ItemCategory';\r\nimport { CharacterDefinition } from '../../model/character/CharacterDefinition';\r\nimport { NormalizedPlayer } from '../../model/character/Player';\r\nimport { setCharacterAppearanceItem, SetCharacterAppearanceItemPayload } from './characterActions';\r\nimport { getPlayerId } from './playerSelectors';\r\n\r\nexport enum PlayerAction {\r\n    REGISTER = 'player/register',\r\n}\r\n\r\nexport function registerPlayer(def: CharacterDefinition): PayloadAction<NormalizedPlayer> {\r\n    return { type: PlayerAction.REGISTER, payload: { ...def, id: cuid() } };\r\n}\r\n\r\nexport function setPlayerAppearanceItem(\r\n    category: ItemCategory,\r\n    slot: AppearanceSlotType,\r\n    item: AppearanceItem\r\n): PayloadAction<SetCharacterAppearanceItemPayload> {\r\n    const playerId = getPlayerId(store.getState());\r\n    return setCharacterAppearanceItem(playerId, category, slot, item);\r\n}\r\n","import produce from 'immer';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { NormalizedPlayer, PlayerDefinition } from '../../model/character/Player';\r\nimport { WithId } from '../../types';\r\nimport { log } from '../../util/Log';\r\nimport { normalizeCharacter } from './characterByIdReducer';\r\nimport { PlayerAction } from './playerActions';\r\n\r\nconst registerPlayerReducer = produce(\r\n    (state: string, { payload }: PayloadAction<WithId<PlayerDefinition>>) => {\r\n        if (state) {\r\n            log.warn('Attempted to register the player twice. This is probably an error.');\r\n        }\r\n        return payload.id;\r\n    },\r\n    null\r\n);\r\n\r\nconst reducers: Record<string, Reducer<string>> = {\r\n    [PlayerAction.REGISTER]: registerPlayerReducer,\r\n};\r\n\r\nexport const characterPlayerReducer = produce((state: string, action: Action) => {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(state, action) : state;\r\n}, null);\r\n\r\nexport function normalizePlayer(def: WithId<PlayerDefinition>): NormalizedPlayer {\r\n    return normalizeCharacter(def);\r\n}\r\n","import produce from 'immer';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { AppearanceSlotTypeValues } from '../../model/appearance/AppearanceSlot';\r\nimport { ItemCategoryValues } from '../../model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../model/appearance/ItemFamily';\r\nimport {\r\n    CharacterDefinition,\r\n    SerialisedCategoryMapping,\r\n    SerialisedSlotMapping,\r\n} from '../../model/character/CharacterDefinition';\r\nimport {\r\n    NormalizedCategoryMapping,\r\n    NormalizedCharacter,\r\n    NormalizedSlotMapping,\r\n} from '../../model/character/NormalizedCharacter';\r\nimport { PlayerDefinition } from '../../model/character/Player';\r\nimport { WithId } from '../../types';\r\nimport { log } from '../../util/Log';\r\nimport { itemId } from '../item/itemByIdReducer';\r\nimport { CharacterAction, SetCharacterAppearanceItemPayload } from './characterActions';\r\nimport { normalizePlayer } from './characterPlayerReducer';\r\nimport { CharacterByIdState } from './characterState';\r\nimport { PlayerAction } from './playerActions';\r\n\r\nconst registerPlayerReducer = produce(\r\n    (state: CharacterByIdState, { payload }: PayloadAction<WithId<PlayerDefinition>>) => {\r\n        if (state[payload.id]) {\r\n            log.warn(`Attempted to register player character with duplicate id \"${payload.id}\"`);\r\n        }\r\n        state[payload.id] = normalizePlayer(payload);\r\n    },\r\n    {}\r\n);\r\n\r\nconst registerCharacterReducer = produce(\r\n    (state: CharacterByIdState, { payload }: PayloadAction<WithId<CharacterDefinition>>) => {\r\n        if (state[payload.id]) {\r\n            log.warn(`Attempted to register a character with duplicate id \"${payload.id}\"`);\r\n        }\r\n        state[payload.id] = normalizeCharacter(payload);\r\n    },\r\n    {}\r\n);\r\n\r\nconst setCharacterAppearanceItemReducer = produce(\r\n    (\r\n        state: CharacterByIdState,\r\n        {\r\n            payload: { characterId, category, slot, item },\r\n        }: PayloadAction<SetCharacterAppearanceItemPayload>\r\n    ) => {\r\n        const character = state[characterId];\r\n        if (character) {\r\n            const categoryMapping = (character.appearance.categories ??= {});\r\n            const slotMapping = (categoryMapping[category] ??= {});\r\n            slotMapping[slot] = item?.id ?? null;\r\n        }\r\n        return state;\r\n    }\r\n);\r\n\r\nconst reducers: Record<string, Reducer<CharacterByIdState>> = {\r\n    [PlayerAction.REGISTER]: registerPlayerReducer,\r\n    [CharacterAction.REGISTER_CHARACTER]: registerCharacterReducer,\r\n    [CharacterAction.SET_APPEARANCE_ITEM]: setCharacterAppearanceItemReducer,\r\n};\r\n\r\nexport const characterByIdReducer = produce((state: CharacterByIdState, action: Action) => {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(state, action) : state;\r\n}, {});\r\n\r\nexport function normalizeCharacter(def: WithId<CharacterDefinition>): NormalizedCharacter {\r\n    return {\r\n        ...def,\r\n        appearance: {\r\n            ...def.appearance,\r\n            categories: mapCategories(def.appearance.categories, def.appearance.family),\r\n        },\r\n    };\r\n}\r\n\r\nfunction mapCategories(\r\n    scm: SerialisedCategoryMapping,\r\n    family: ItemFamilyType\r\n): NormalizedCategoryMapping {\r\n    return ItemCategoryValues.reduce((ncm, category) => {\r\n        if (scm[category]) {\r\n            ncm[category] = mapSlots(scm[category], family);\r\n        }\r\n        return ncm;\r\n    }, {} as NormalizedCategoryMapping);\r\n}\r\n\r\nfunction mapSlots(ssm: SerialisedSlotMapping, family: ItemFamilyType): NormalizedSlotMapping {\r\n    return AppearanceSlotTypeValues.reduce((nsm, slot) => {\r\n        if (ssm[slot]) {\r\n            nsm[slot] = itemId(family, slot, ssm[slot]);\r\n        }\r\n        return nsm;\r\n    }, {} as NormalizedSlotMapping);\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { characterByIdReducer } from './characterByIdReducer';\r\nimport { characterPlayerReducer } from './characterPlayerReducer';\r\nimport { CharacterState } from './characterState';\r\n\r\nexport const characterReducer = combineReducers<CharacterState>({\r\n    player: characterPlayerReducer,\r\n    byId: characterByIdReducer,\r\n});\r\n","import { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { Hotkey } from './configState';\r\n\r\nexport enum ConfigAction {\r\n    SET_HOTKEY = 'config/add-hotkey',\r\n    REMOVE_HOTKEY = 'config/remove-hotkey',\r\n}\r\n\r\nexport interface HotkeyPayload {\r\n    hotkey: Hotkey;\r\n    key: string;\r\n}\r\n\r\nexport function configAddHotkey(hotkey: Hotkey, key: string): PayloadAction<HotkeyPayload> {\r\n    return { type: ConfigAction.SET_HOTKEY, payload: { hotkey, key } };\r\n}\r\n\r\nexport function configRemoveHotkey(hotkey: Hotkey, key: string): PayloadAction<HotkeyPayload> {\r\n    return { type: ConfigAction.REMOVE_HOTKEY, payload: { hotkey, key } };\r\n}\r\n","export enum Hotkey {\r\n    LEFT = 'left',\r\n    RIGHT = 'right',\r\n    UP = 'up',\r\n    DOWN = 'down',\r\n    SELECT = 'select',\r\n    CANCEL = 'cancel',\r\n}\r\n\r\nexport type ConfigHotkeysState = Record<Hotkey, string[]>;\r\n\r\nexport interface ConfigState {\r\n    hotkeys: ConfigHotkeysState;\r\n}\r\n\r\nexport interface WithConfigState {\r\n    config: ConfigState;\r\n}\r\n","import produce from 'immer';\r\nimport { Action, Reducer } from 'redux';\r\nimport { Key } from 'ts-key-enum';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { StringRecord } from '../../types';\r\nimport { ConfigAction, HotkeyPayload } from './configActions';\r\nimport { ConfigHotkeysState, Hotkey } from './configState';\r\n\r\nconst setHotkeyReducer = produce(\r\n    (state: ConfigHotkeysState, { payload }: PayloadAction<HotkeyPayload>) => {\r\n        const { hotkey, key } = payload;\r\n        if (!state[hotkey].includes(key)) {\r\n            state[hotkey].push(key);\r\n        }\r\n    },\r\n    defaultConfigHotkeysState()\r\n);\r\n\r\nconst removeHotkeyReducer = produce(\r\n    (state: ConfigHotkeysState, { payload }: PayloadAction<HotkeyPayload>) => {\r\n        const { hotkey, key } = payload;\r\n        const index = state[hotkey].indexOf(key);\r\n        if (index !== -1) {\r\n            state[hotkey].splice(index, 1);\r\n        }\r\n    }\r\n);\r\n\r\nconst reducers: StringRecord<Reducer<ConfigHotkeysState>> = {\r\n    [ConfigAction.SET_HOTKEY]: setHotkeyReducer,\r\n    [ConfigAction.REMOVE_HOTKEY]: removeHotkeyReducer,\r\n};\r\n\r\nexport const configHotkeysReducer = produce((state: ConfigHotkeysState, action: Action) => {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(state, action) : state;\r\n}, defaultConfigHotkeysState());\r\n\r\nexport function defaultConfigHotkeysState(): ConfigHotkeysState {\r\n    return {\r\n        [Hotkey.LEFT]: [Key.ArrowLeft],\r\n        [Hotkey.RIGHT]: [Key.ArrowRight],\r\n        [Hotkey.UP]: [Key.ArrowUp],\r\n        [Hotkey.DOWN]: [Key.ArrowDown],\r\n        [Hotkey.SELECT]: [Key.Enter, 'z'],\r\n        [Hotkey.CANCEL]: [Key.Backspace, 'x'],\r\n    };\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { configHotkeysReducer } from './configHotkeysReducer';\r\nimport { ConfigState } from './configState';\r\n\r\nexport const configReducer = combineReducers<ConfigState>({\r\n    hotkeys: configHotkeysReducer,\r\n});\r\n","import produce from 'immer';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { AppearanceItemDefinition } from '../../model/appearance/AppearanceItem';\r\nimport { ItemAction } from './itemActions';\r\nimport { itemIdFromItem } from './itemByIdReducer';\r\nimport { ItemByFamilyState } from './itemState';\r\n\r\nconst registerItemReducer = produce(\r\n    (state: ItemByFamilyState, { payload }: PayloadAction<AppearanceItemDefinition[]>) => {\r\n        if (!Array.isArray(payload)) {\r\n            return state;\r\n        }\r\n        payload.forEach((itemDef) => {\r\n            const { family } = itemDef;\r\n            const id = itemIdFromItem(itemDef);\r\n            (state[family] ??= []).push(id);\r\n        });\r\n        return state;\r\n    },\r\n    {}\r\n);\r\n\r\nconst reducers: Record<string, Reducer<ItemByFamilyState>> = {\r\n    [ItemAction.REGISTER_ITEMS]: registerItemReducer,\r\n};\r\n\r\nexport const itemByFamilyReducer = produce((state: ItemByFamilyState, action: Action) => {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(state, action) : state;\r\n}, {});\r\n","import { combineReducers } from 'redux';\r\nimport { itemByFamilyReducer } from './itemByFamilyReducer';\r\nimport { itemByIdReducer } from './itemByIdReducer';\r\nimport { ItemState } from './itemState';\r\n\r\nexport const itemReducer = combineReducers<ItemState>({\r\n    byId: itemByIdReducer,\r\n    byFamily: itemByFamilyReducer,\r\n});\r\n","import { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { ItemFamily } from '../../model/appearance/ItemFamily';\r\n\r\nexport enum ItemFamilyAction {\r\n    REGISTER_FAMILY = 'itemFamily/register-family',\r\n}\r\n\r\nexport function registerItemFamily(family: ItemFamily): PayloadAction<ItemFamily> {\r\n    return { type: ItemFamilyAction.REGISTER_FAMILY, payload: family };\r\n}\r\n","import produce from 'immer';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { ItemFamily } from '../../model/appearance/ItemFamily';\r\nimport { ItemFamilyAction } from './itemFamilyActions';\r\nimport { ItemFamilyByTypeState } from './itemFamilyState';\r\n\r\nconst registerItemFamilyReducer = produce(\r\n    (state: ItemFamilyByTypeState, { payload }: PayloadAction<ItemFamily>) => {\r\n        state[payload.type] = payload;\r\n        return state;\r\n    }\r\n);\r\n\r\nconst reducers: Record<string, Reducer<ItemFamilyByTypeState>> = {\r\n    [ItemFamilyAction.REGISTER_FAMILY]: registerItemFamilyReducer,\r\n};\r\n\r\nexport const itemFamilyByTypeReducer = produce((state: ItemFamilyByTypeState, action: Action) => {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(state, action) : state;\r\n}, {});\r\n","import { combineReducers } from 'redux';\r\nimport { itemFamilyByTypeReducer } from './itemFamilyByTypeReducer';\r\nimport { ItemFamilyState } from './itemFamilyState';\r\n\r\nexport const itemFamilyReducer = combineReducers<ItemFamilyState>({\r\n    byType: itemFamilyByTypeReducer,\r\n});\r\n","export enum Background {\r\n    FOREST_1 = 'forest-1',\r\n}\r\n\r\nexport const BackgroundValues: Background[] = Object.values(Background);\r\n\r\nexport function instanceOfBackground(val: string): val is Background {\r\n    return !!BackgroundValues.find((bg) => val === bg);\r\n}\r\n","import { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { Background } from '../../model/location/Background';\r\n\r\nexport enum LocationAction {\r\n    SET_BACKGROUND = 'location/set-background',\r\n}\r\n\r\nexport function setBackground(background: Background): PayloadAction<Background> {\r\n    return { type: LocationAction.SET_BACKGROUND, payload: background };\r\n}\r\n","import produce from 'immer';\r\nimport { Action, Reducer } from 'redux';\r\nimport { PayloadAction } from '../../../combat-sandbox-1/redux/redux-utils';\r\nimport { Background, instanceOfBackground } from '../../model/location/Background';\r\nimport { LocationAction } from './locationActions';\r\n\r\nconst setBackgroundReducer = produce(\r\n    (state: Background, { payload }: PayloadAction<Background>) => {\r\n        if (payload && instanceOfBackground(payload)) {\r\n            return payload;\r\n        }\r\n        return state;\r\n    },\r\n    Background.FOREST_1\r\n);\r\n\r\nconst reducers: Record<string, Reducer<Background>> = {\r\n    [LocationAction.SET_BACKGROUND]: setBackgroundReducer,\r\n};\r\n\r\nexport const locationBackgroundReducer = produce((state: Background, action: Action) => {\r\n    const reducer = reducers[action.type];\r\n    return reducer ? reducer(state, action) : state;\r\n}, Background.FOREST_1);\r\n","import { combineReducers } from 'redux';\r\nimport { locationBackgroundReducer } from './locationBackgroundReducer';\r\nimport { LocationState } from './locationState';\r\n\r\nexport const locationReducer = combineReducers<LocationState>({\r\n    background: locationBackgroundReducer,\r\n});\r\n","import { combineReducers } from 'redux';\r\nimport { appReducer } from '../../common/redux/app/appReducer';\r\nimport { characterReducer } from '../../common/redux/character/characterReducer';\r\nimport { configReducer } from '../../common/redux/config/configReducer';\r\nimport { itemReducer } from '../../common/redux/item/itemReducer';\r\nimport { itemFamilyReducer } from '../../common/redux/itemFamily/itemFamilyReducer';\r\nimport { locationReducer } from '../../common/redux/location/locationReducer';\r\nimport { State } from './store';\r\n\r\nexport const rootReducer = combineReducers<State>({\r\n    app: appReducer,\r\n    itemFamily: itemFamilyReducer,\r\n    item: itemReducer,\r\n    character: characterReducer,\r\n    location: locationReducer,\r\n    config: configReducer,\r\n});\r\n","import { applyMiddleware, createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport { WithAppState } from '../../common/redux/app/appState';\r\nimport { WithCharacterState } from '../../common/redux/character/characterState';\r\nimport { WithConfigState } from '../../common/redux/config/configState';\r\nimport { WithItemState } from '../../common/redux/item/itemState';\r\nimport { WithItemFamilyState } from '../../common/redux/itemFamily/itemFamilyState';\r\nimport { WithLocationState } from '../../common/redux/location/locationState';\r\nimport { rootReducer } from './rootReducer';\r\n\r\nexport interface State\r\n    extends WithAppState,\r\n        WithItemFamilyState,\r\n        WithItemState,\r\n        WithCharacterState,\r\n        WithLocationState,\r\n        WithConfigState {}\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n","import { AppView, WithAppState } from './appState';\r\n\r\nexport function getCurrentView(state: WithAppState): AppView {\r\n    return state.app.view;\r\n}\r\n\r\nexport function getAppFadeOut(state: WithAppState): boolean {\r\n    return state.app.fadeOut;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"windowPadding\":\".5rem\",\"loadingScreenFadeInMs\":\"1000\",\"loadingScreenFadeOutMs\":\"1000\",\"loadingScreenBackgroundColor\":\"#000\",\"enter\":\"zKptoqb186eFGPwddHQ6b\",\"enterActive\":\"_1TkJ0DLFvcjSE4TXunGFme\",\"exit\":\"_3ByF60KbRN8DbD0onT63ic\",\"exitActive\":\"_25lmt3SGe8rpNbGDOmc7bO\"};","import React, { Component, ReactElement } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { connect } from 'react-redux';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { PixiAppComponentClass } from '../../../common/components/PixiAppComponent/PixiAppComponent';\r\nimport { getAppFadeOut } from '../../../common/redux/app/appSelectors';\r\nimport { WithAppState } from '../../../common/redux/app/appState';\r\nimport { loadingScreenStyles } from '../../styles/styles';\r\nimport fadeStyles from '../../styles/transitions/LoadingScreenFade.module.scss';\r\nimport styles from './FadeOut.module.scss';\r\n\r\nexport interface FadeOutProps {\r\n    visible: boolean;\r\n}\r\n\r\nexport interface FadeOutState {\r\n    active: boolean;\r\n    visible: boolean;\r\n}\r\n\r\nexport class FadeOutClass extends Component<FadeOutProps, FadeOutState> {\r\n    public constructor(props: FadeOutProps) {\r\n        super(props);\r\n        this.state = {\r\n            active: false,\r\n            visible: false,\r\n        };\r\n    }\r\n\r\n    public componentDidMount() {\r\n        this.forceUpdate();\r\n    }\r\n\r\n    public render(): ReactElement {\r\n        const appRoot = document.getElementById(PixiAppComponentClass.ROOT_ID);\r\n        if (!appRoot) {\r\n            return null;\r\n        }\r\n\r\n        const { visible } = this.props;\r\n        return createPortal(\r\n            <CSSTransition\r\n                classNames={fadeStyles}\r\n                in={visible}\r\n                timeout={{\r\n                    enter: loadingScreenStyles.fadeInMs,\r\n                    exit: loadingScreenStyles.fadeOutMs,\r\n                }}\r\n                mountOnEnter\r\n                unmountOnExit\r\n            >\r\n                <div className={styles.FadeOut}>FadeOut!</div>\r\n            </CSSTransition>,\r\n            appRoot\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: WithAppState): FadeOutProps {\r\n    return {\r\n        visible: getAppFadeOut(state),\r\n    };\r\n}\r\n\r\nexport const FadeOut = connect(mapStateToProps)(FadeOutClass);\r\n","// extracted by mini-css-extract-plugin\nexport default {\"windowPadding\":\".5rem\",\"loadingScreenFadeInMs\":\"1000\",\"loadingScreenFadeOutMs\":\"1000\",\"loadingScreenBackgroundColor\":\"#000\",\"FadeOut\":\"_1yWWTQWqcXFiHLTnoahqdr\"};","import { Component } from 'react';\r\nimport { PixiApp } from '../../pixi/PixiApp';\r\n\r\nexport interface PixiAppViewProps {\r\n    app: PixiApp;\r\n}\r\n\r\nexport abstract class PixiAppView<\r\n    P extends PixiAppViewProps = PixiAppViewProps,\r\n    S = {}\r\n> extends Component<P, S> {}\r\n","import React, { Component, ReactElement } from 'react';\r\nimport styles from './ProgressBar.module.scss';\r\n\r\nexport interface ProgressStats {\r\n    min: number;\r\n    max: number;\r\n    progress: number;\r\n}\r\n\r\nexport interface ProgressBarProps extends ProgressStats {}\r\n\r\nexport class ProgressBar extends Component<ProgressBarProps> {\r\n    public render(): ReactElement {\r\n        const { min, max, progress } = this.props;\r\n        let percentage: number;\r\n        if (typeof min !== 'number' || typeof max !== 'number' || typeof progress !== 'number') {\r\n            percentage = 0;\r\n        } else {\r\n            percentage = (progress - min) / (max - min);\r\n        }\r\n\r\n        return (\r\n            <div className={styles.ProgressBar}>\r\n                <div className={styles.fill} style={{ width: `${percentage * 100}%` }} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"ProgressBar\":\"_2C8OSkOHlLtqMDvnFAyJip\",\"fill\":\"_3fNKP-qf5BOB7v0Ys1mm-Q\",\"text\":\"hj2nyBVTIPV422zz_es7x\"};","// extracted by mini-css-extract-plugin\nexport default {\"windowPadding\":\".5rem\",\"loadingScreenFadeInMs\":\"1000\",\"loadingScreenFadeOutMs\":\"1000\",\"loadingScreenBackgroundColor\":\"#000\",\"screen\":\"_3-zbA5_T6HYaGsS2ZtMKCh\",\"screenContent\":\"_2zwB3CyJs66kfyITRrlmY1\",\"loadingText\":\"_3PMXahtZ3XzO-YQKhwZn1Y\",\"screenContentOut\":\"_1oqn8Q8l1ZYHqsJKHARX1S\"};","export enum WindowType {\r\n    CHARACTER = 'character',\r\n    DRESSING_ROOM = 'dressingRoom',\r\n    MAP = 'map',\r\n    NPC = 'npc',\r\n    TEXT = 'text',\r\n}\r\n","import classNames from 'classnames';\r\nimport React, { Component, ReactNode } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { Observable } from 'rxjs';\r\nimport { PixiAppComponentClass } from '../../../common/components/PixiAppComponent/PixiAppComponent';\r\nimport { ProgressBar, ProgressStats } from '../../../common/components/ProgressBar/ProgressBar';\r\nimport { log } from '../../../common/util/Log';\r\nimport { loadingScreenStyles } from '../../styles/styles';\r\nimport fadeStyles from '../../styles/transitions/LoadingScreenFade.module.scss';\r\nimport styles from './LoadingScreen.module.scss';\r\n\r\nexport interface LoadingScreenProps {\r\n    observable: Observable<ProgressStats>;\r\n}\r\n\r\nexport interface LoadingScreenState extends ProgressStats {\r\n    loadingComplete: boolean;\r\n}\r\n\r\nexport class LoadingScreen extends Component<LoadingScreenProps, LoadingScreenState> {\r\n    public constructor(props: LoadingScreenProps) {\r\n        super(props);\r\n        this.state = {\r\n            min: 0,\r\n            max: 0,\r\n            progress: 0,\r\n            loadingComplete: false,\r\n        };\r\n    }\r\n\r\n    public componentDidMount() {\r\n        this.subscribe(this.props?.observable);\r\n    }\r\n\r\n    public componentDidUpdate(prevProps: Readonly<LoadingScreenProps>) {\r\n        const { observable } = this.props;\r\n        if (observable && observable !== prevProps.observable) {\r\n            this.subscribe(observable);\r\n        }\r\n    }\r\n\r\n    public render(): ReactNode {\r\n        const { loadingComplete } = this.state;\r\n        const appRoot = document.getElementById(PixiAppComponentClass.ROOT_ID);\r\n        if (!appRoot) {\r\n            return null;\r\n        }\r\n\r\n        const { min, max, progress } = this.state;\r\n        return (\r\n            <div className={classNames('AppView', styles.LoadingScreen)}>\r\n                {loadingComplete && this.props.children}\r\n                {createPortal(\r\n                    <CSSTransition\r\n                        classNames={fadeStyles}\r\n                        in={!loadingComplete}\r\n                        timeout={{ enter: 0, exit: loadingScreenStyles.fadeOutMs }}\r\n                        unmountOnExit\r\n                    >\r\n                        <div className={styles.screen}>\r\n                            <div\r\n                                className={classNames(styles.screenContent, {\r\n                                    [styles.screenContentOut]: loadingComplete,\r\n                                })}\r\n                            >\r\n                                <span className={styles.loadingText}>Loading...</span>\r\n                                <ProgressBar min={min} max={max} progress={progress} />\r\n                            </div>\r\n                        </div>\r\n                    </CSSTransition>,\r\n                    appRoot\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private subscribe(observable: Observable<ProgressStats>): void {\r\n        if (observable) {\r\n            log.debug('Subscribing to observable');\r\n            observable.subscribe(\r\n                (progress) => this.setState(progress),\r\n                (err) => log.error(err),\r\n                () => this.complete()\r\n            );\r\n        }\r\n    }\r\n\r\n    private complete(): void {\r\n        this.setState({ loadingComplete: true });\r\n    }\r\n}\r\n","import React, { Component, ReactElement } from 'react';\r\nimport './Sidebar.scss';\r\n\r\nexport class Sidebar extends Component {\r\n    public render(): ReactElement {\r\n        return <div className=\"Sidebar\">Sidebar</div>;\r\n    }\r\n}\r\n","import { Background, instanceOfBackground } from '../../../common/model/location/Background';\r\nimport { PartialRecord } from '../../../common/types';\r\nimport { log } from '../../../common/util/Log';\r\nimport { WindowType } from '../../enums';\r\nimport RequireContext = __WebpackModuleApi.RequireContext;\r\n\r\nconst FILE_NAME_REGEX = /\\.\\/(.+)\\.(jpe?g|png)$/;\r\n\r\nexport const WindowBackgrounds: PartialRecord<WindowType, PartialRecord<Background, string>> = {\r\n    [WindowType.CHARACTER]: loadCharacterBackgrounds(),\r\n    [WindowType.TEXT]: loadTextBackgrounds(),\r\n};\r\n\r\nfunction loadBackgroundContext(context: RequireContext): PartialRecord<Background, string> {\r\n    return context.keys().reduce((record, key) => {\r\n        const filename = key.match(FILE_NAME_REGEX)[1];\r\n        if (instanceOfBackground(filename)) {\r\n            record[filename] = context(key);\r\n        }\r\n        return record;\r\n    }, {} as PartialRecord<Background, string>);\r\n}\r\n\r\nfunction loadCharacterBackgrounds(): PartialRecord<Background, string> {\r\n    log.debug(`Loading character backgrounds: Starting...`);\r\n    const context = require.context('./character', false, /\\.(jpe?g|png)$/);\r\n    const record = loadBackgroundContext(context);\r\n    log.debug(`Loading character backgrounds: Done.`);\r\n    return record;\r\n}\r\n\r\nfunction loadTextBackgrounds(): PartialRecord<Background, string> {\r\n    log.debug(`Loading text window backgrounds: Starting...`);\r\n    const context = require.context('./text', false, /\\.(jpe?g|png)$/);\r\n    const record = loadBackgroundContext(context);\r\n    log.debug(`Loading text window backgrounds: Done.`);\r\n    return record;\r\n}\r\n","import React, { Component, CSSProperties, ReactElement, ReactNode } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { WindowBackgrounds } from '../../../slimes-the-game/assets/backgrounds/backgrounds';\r\nimport { WindowType } from '../../../slimes-the-game/enums';\r\nimport { State } from '../../../slimes-the-game/redux/store';\r\nimport { getLocationBackground } from '../../redux/location/locationSelectors';\r\nimport './WindowBackground.scss';\r\n\r\nexport interface WindowBackgroundProps {\r\n    children?: ReactNode;\r\n    windowType: WindowType;\r\n    background: string;\r\n}\r\n\r\nexport class WindowBackgroundClass extends Component<WindowBackgroundProps> {\r\n    public render(): ReactElement {\r\n        return (\r\n            <div className=\"WindowBackground\" style={this.getStyles()}>\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private getStyles(): CSSProperties {\r\n        const { background } = this.props;\r\n        if (!background) {\r\n            return null;\r\n        }\r\n        return {\r\n            backgroundImage: `url(${background})`,\r\n        };\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(\r\n    state: State,\r\n    ownProps: Omit<WindowBackgroundProps, 'background'>\r\n): Pick<WindowBackgroundProps, 'background'> {\r\n    const background = getLocationBackground(state);\r\n    const backgrounds = WindowBackgrounds[ownProps.windowType];\r\n    return {\r\n        background: backgrounds ? backgrounds[background] : null,\r\n    };\r\n}\r\n\r\nexport const WindowBackground = connect(mapStateToProps)(WindowBackgroundClass);\r\n","import { Background } from '../../model/location/Background';\r\nimport { WithLocationState } from './locationState';\r\n\r\nexport function getLocationBackground(state: WithLocationState): Background {\r\n    return state.location.background;\r\n}\r\n","import { IPointData, ISize } from 'pixi.js';\r\nimport { createRef, PureComponent } from 'react';\r\nimport { WithAppPositionProps } from '../../hocs/withAppPosition';\r\nimport {\r\n    DomTrackingContainer,\r\n    DomTrackingContainerProps,\r\n} from '../../pixi/containers/DomTrackingContainer';\r\nimport { PixiApp } from '../../pixi/PixiApp';\r\n\r\nexport interface ContainerLinkedComponentProps extends WithAppPositionProps, ISize {\r\n    app: PixiApp;\r\n}\r\n\r\nexport interface ContainerLinkedComponentState {\r\n    containerAdded: boolean;\r\n}\r\n\r\nexport abstract class ContainerLinkedComponent<\r\n    C extends DomTrackingContainerProps = DomTrackingContainerProps,\r\n    R extends HTMLElement = HTMLDivElement,\r\n    P extends ContainerLinkedComponentProps = ContainerLinkedComponentProps,\r\n    S extends ContainerLinkedComponentState = ContainerLinkedComponentState\r\n> extends PureComponent<P, S> {\r\n    protected container: DomTrackingContainer<C>;\r\n    protected ref = createRef<R>();\r\n\r\n    public constructor(props: P) {\r\n        super(props);\r\n        this.state = this.getInitialState({ containerAdded: false });\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        this.container = this.createContainer(this.props);\r\n        this.addContainerToApp();\r\n    }\r\n\r\n    public componentDidUpdate(prevProps: Readonly<P>): void {\r\n        const { appPosition, width, height } = this.props;\r\n        if (\r\n            width !== prevProps.width ||\r\n            height !== prevProps.height ||\r\n            appPosition !== prevProps.appPosition\r\n        ) {\r\n            this.container.setProps(this.getContainerProps());\r\n        }\r\n        this.addContainerToApp();\r\n    }\r\n\r\n    public componentWillUnmount() {\r\n        this.container.destroy();\r\n    }\r\n\r\n    protected getContainerProps(): IPointData & ISize {\r\n        const currentRef = this.ref.current;\r\n        if (!currentRef) {\r\n            return { x: 0, y: 0, width: this.props.width, height: this.props.height };\r\n        }\r\n        const appPosition = this.props.appPosition;\r\n        const { x, y, width, height } = currentRef.getBoundingClientRect();\r\n        return { x: x - appPosition.x, y: y - appPosition.y, width, height };\r\n    }\r\n\r\n    protected addContainerToApp(): void {\r\n        if (!this.state.containerAdded && this.props.app) {\r\n            this.props.app.stage.addChild(this.container);\r\n            this.setState({ containerAdded: true });\r\n        }\r\n    }\r\n\r\n    protected abstract createContainer(props: P): DomTrackingContainer<C>;\r\n\r\n    protected abstract getInitialState(parentState: ContainerLinkedComponentState): S;\r\n}\r\n","import { IPointData } from 'pixi.js';\r\nimport { connect } from 'react-redux';\r\nimport { State } from '../../slimes-the-game/redux/store';\r\n\r\nexport interface WithAppPositionProps {\r\n    appPosition: IPointData;\r\n}\r\n\r\nfunction mapStateToProps<P extends WithAppPositionProps>(\r\n    state: State\r\n): Pick<P, keyof WithAppPositionProps> {\r\n    return { appPosition: state.app.position };\r\n}\r\n\r\nexport const withAppPosition = connect(mapStateToProps);\r\n","import { connect } from 'react-redux';\r\nimport { State } from '../../slimes-the-game/redux/store';\r\nimport { PixiApp } from '../pixi/PixiApp';\r\n\r\nexport interface WithPixiAppProps {\r\n    app: PixiApp;\r\n}\r\n\r\nfunction mapStateToProps<P extends WithPixiAppProps>(\r\n    state: State\r\n): Pick<P, keyof WithPixiAppProps> {\r\n    return { app: state.app.pixiApp };\r\n}\r\n\r\nexport const withPixiApp = connect(mapStateToProps);\r\n","import { Callback } from '../functions';\r\n\r\nexport class PixiAppUpdateManager {\r\n    private static readonly updateListeners: Array<Callback<number>> = [];\r\n\r\n    public static addUpdateListener(listener: Callback<number>): void {\r\n        this.updateListeners.push(listener);\r\n    }\r\n\r\n    public static removeUpdateListener(listener: Callback<number>): void {\r\n        const index = this.updateListeners.indexOf(listener);\r\n        if (index !== -1) {\r\n            this.updateListeners.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    public static updateApp(delta: number): void {\r\n        this.updateListeners.forEach((listener) => listener(delta));\r\n    }\r\n}\r\n","import { Container } from 'pixi.js';\r\nimport { memoize } from '../../functions';\r\nimport { PixiAppUpdateManager } from '../PixiAppUpdateManager';\r\n\r\nexport abstract class LayoutContainer<P = {}> extends Container {\r\n    protected dirty = false;\r\n\r\n    public constructor(protected props?: P) {\r\n        super();\r\n        this.assignProps = memoize(this.assignProps);\r\n        this.tick = this.tick.bind(this);\r\n        PixiAppUpdateManager.addUpdateListener(this.tick);\r\n        this.setProps(props);\r\n        this.layout();\r\n    }\r\n\r\n    public setProps<K extends keyof P>(props: Pick<P, K>): void {\r\n        const prevProps = this.props;\r\n        this.props = this.assignProps(prevProps, props);\r\n        if (this.shouldContainerUpdate(prevProps)) {\r\n            this.dirty = true;\r\n        }\r\n    }\r\n\r\n    public clear(): void {\r\n        this.removeChildren();\r\n    }\r\n\r\n    public abstract layout(): void;\r\n\r\n    protected tick(delta: number): void {\r\n        if (this.dirty) {\r\n            this.clear();\r\n            this.layout();\r\n            this.dirty = false;\r\n        }\r\n    }\r\n\r\n    protected shouldContainerUpdate(prevProps: Readonly<P>): boolean {\r\n        return this.props !== prevProps;\r\n    }\r\n\r\n    protected assignProps<K extends keyof P>(props: P, newProps: Pick<P, K>): P {\r\n        return { ...props, ...newProps };\r\n    }\r\n}\r\n","import { Graphics } from 'pixi.js';\r\nimport { LayoutContainer } from './LayoutContainer';\r\n\r\nexport interface DomTrackingContainerProps {\r\n    highlight?: boolean;\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nexport class DomTrackingContainer<P extends DomTrackingContainerProps> extends LayoutContainer<P> {\r\n    public layout(): void {\r\n        const { highlight = false, x, y, width, height } = this.props;\r\n        this.position.set(x, y);\r\n        if (highlight) {\r\n            const border = new Graphics();\r\n            border.lineStyle(3, 0x8bc34a);\r\n            border.beginFill(0x8bc34a, 0.25);\r\n            border.drawRect(1.5, 1.5, width - 3, height - 3);\r\n            border.endFill();\r\n            this.addChild(border);\r\n        }\r\n    }\r\n}\r\n","// Game Config\r\nexport const GAME_NAME = process.env.GAME_NAME;\r\n\r\n// Asset Config\r\nexport const CHARACTER_ASSET_WIDTH = 1800;\r\nexport const CHARACTER_ASSET_HEIGHT = 1500;\r\n","import { Sprite } from 'pixi.js';\r\nimport { AppearanceItem } from '../../common/model/appearance/AppearanceItem';\r\nimport { LayoutContainer } from '../../common/pixi/containers/LayoutContainer';\r\nimport { getPlayerAppearanceItems } from '../../common/redux/character/playerSelectors';\r\nimport { store } from '../redux/store';\r\n\r\nexport interface CharacterContainerProps {\r\n    appearance: AppearanceItem[];\r\n}\r\n\r\nexport class CharacterContainer extends LayoutContainer<CharacterContainerProps> {\r\n    public constructor(props?: CharacterContainerProps) {\r\n        super(props);\r\n        this.setPropsFromState = this.setPropsFromState.bind(this);\r\n        this.setPropsFromState();\r\n        store.subscribe(this.setPropsFromState);\r\n    }\r\n\r\n    public layout(): void {\r\n        const { appearance } = this.props;\r\n        if (!Array.isArray(appearance)) {\r\n            return;\r\n        }\r\n\r\n        appearance.forEach((item) => {\r\n            if (item) {\r\n                item.assets.forEach((asset) => {\r\n                    if (asset) {\r\n                        const sprite = Sprite.from(asset.url);\r\n                        this.addChild(sprite);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private setPropsFromState(): void {\r\n        const state = store.getState();\r\n        const appearance = getPlayerAppearanceItems(state);\r\n        const props = { appearance };\r\n        this.setProps(props);\r\n    }\r\n}\r\n","import {\r\n    DomTrackingContainer,\r\n    DomTrackingContainerProps,\r\n} from '../../../../common/pixi/containers/DomTrackingContainer';\r\nimport { CHARACTER_ASSET_HEIGHT, CHARACTER_ASSET_WIDTH } from '../../../config/config';\r\nimport { CharacterContainer } from '../../../containers/CharacterContainer';\r\n\r\nexport interface CharacterWindowContainerProps extends DomTrackingContainerProps {}\r\n\r\nexport class CharacterWindowContainer extends DomTrackingContainer<CharacterWindowContainerProps> {\r\n    public layout(): void {\r\n        super.layout();\r\n        this.addCharacterContainer();\r\n    }\r\n\r\n    private addCharacterContainer(): void {\r\n        const { width, height } = this.props;\r\n        const scaleX = width / CHARACTER_ASSET_WIDTH;\r\n        const scaleY = height / CHARACTER_ASSET_HEIGHT;\r\n        const scale = Math.min(scaleX, scaleY);\r\n        const x = (width - CHARACTER_ASSET_WIDTH * scale) / 2;\r\n        const y = (height - CHARACTER_ASSET_HEIGHT * scale) / 2;\r\n        const characterContainer = new CharacterContainer();\r\n        characterContainer.position.set(x, y);\r\n        characterContainer.scale.set(scale);\r\n        this.addChild(characterContainer);\r\n    }\r\n}\r\n","import React, { ReactElement } from 'react';\r\nimport { withResizeDetector } from 'react-resize-detector';\r\nimport { WindowBackground } from '../../../../common/components/BackgroundComponent/WindowBackground';\r\nimport {\r\n    ContainerLinkedComponent,\r\n    ContainerLinkedComponentProps,\r\n    ContainerLinkedComponentState,\r\n} from '../../../../common/components/ContainerLinkedComponent/ContainerLinkedComponent';\r\nimport { withAppPosition } from '../../../../common/hocs/withAppPosition';\r\nimport { withPixiApp } from '../../../../common/hocs/withPixiApp';\r\nimport {\r\n    DomTrackingContainer,\r\n    DomTrackingContainerProps,\r\n} from '../../../../common/pixi/containers/DomTrackingContainer';\r\nimport { WindowType } from '../../../enums';\r\nimport { CharacterWindowContainer } from './CharacterWindowContainer';\r\n\r\nexport interface CharacterWindowProps extends ContainerLinkedComponentProps {}\r\n\r\nexport class CharacterWindowClass extends ContainerLinkedComponent {\r\n    public render(): ReactElement {\r\n        return (\r\n            <div ref={this.ref} className=\"Window CharacterWindow\">\r\n                <WindowBackground windowType={WindowType.CHARACTER} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    protected getInitialState(\r\n        parentState: ContainerLinkedComponentState\r\n    ): ContainerLinkedComponentState {\r\n        return parentState;\r\n    }\r\n\r\n    protected createContainer(\r\n        props: ContainerLinkedComponentProps\r\n    ): DomTrackingContainer<DomTrackingContainerProps> {\r\n        const { x, y, width, height } = this.ref.current.getBoundingClientRect();\r\n        return new CharacterWindowContainer({\r\n            highlight: false,\r\n            x,\r\n            y,\r\n            width,\r\n            height,\r\n        });\r\n    }\r\n}\r\n\r\nexport const CharacterWindow = withResizeDetector(\r\n    withAppPosition(withPixiApp(CharacterWindowClass))\r\n);\r\n","import React, { ReactElement } from 'react';\r\nimport { withResizeDetector } from 'react-resize-detector';\r\nimport {\r\n    ContainerLinkedComponent,\r\n    ContainerLinkedComponentProps,\r\n    ContainerLinkedComponentState,\r\n} from '../../../../common/components/ContainerLinkedComponent/ContainerLinkedComponent';\r\nimport { withAppPosition } from '../../../../common/hocs/withAppPosition';\r\nimport { withPixiApp } from '../../../../common/hocs/withPixiApp';\r\nimport {\r\n    DomTrackingContainer,\r\n    DomTrackingContainerProps,\r\n} from '../../../../common/pixi/containers/DomTrackingContainer';\r\n\r\nexport class MapWindowClass extends ContainerLinkedComponent {\r\n    public render(): ReactElement {\r\n        return (\r\n            <div ref={this.ref} className=\"Window MapWindow\">\r\n                Map Window\r\n            </div>\r\n        );\r\n    }\r\n\r\n    protected getInitialState(\r\n        parentState: ContainerLinkedComponentState\r\n    ): ContainerLinkedComponentState {\r\n        return parentState;\r\n    }\r\n\r\n    protected createContainer(\r\n        props: ContainerLinkedComponentProps\r\n    ): DomTrackingContainer<DomTrackingContainerProps> {\r\n        const { x, y, width, height } = this.ref.current.getBoundingClientRect();\r\n        return new DomTrackingContainer<DomTrackingContainerProps>({\r\n            highlight: true,\r\n            x,\r\n            y,\r\n            width,\r\n            height,\r\n        });\r\n    }\r\n}\r\n\r\nexport const MapWindow = withResizeDetector(withAppPosition(withPixiApp(MapWindowClass)));\r\n","import React, { ReactElement } from 'react';\r\nimport { withResizeDetector } from 'react-resize-detector';\r\nimport {\r\n    ContainerLinkedComponent,\r\n    ContainerLinkedComponentProps,\r\n    ContainerLinkedComponentState,\r\n} from '../../../../common/components/ContainerLinkedComponent/ContainerLinkedComponent';\r\nimport { withAppPosition } from '../../../../common/hocs/withAppPosition';\r\nimport { withPixiApp } from '../../../../common/hocs/withPixiApp';\r\nimport {\r\n    DomTrackingContainer,\r\n    DomTrackingContainerProps,\r\n} from '../../../../common/pixi/containers/DomTrackingContainer';\r\n\r\nexport class NPCWindowClass extends ContainerLinkedComponent {\r\n    public render(): ReactElement {\r\n        return (\r\n            <div ref={this.ref} className=\"Window NPCWindow\">\r\n                NPC Window\r\n            </div>\r\n        );\r\n    }\r\n\r\n    protected getInitialState(\r\n        parentState: ContainerLinkedComponentState\r\n    ): ContainerLinkedComponentState {\r\n        return parentState;\r\n    }\r\n\r\n    protected createContainer(\r\n        props: ContainerLinkedComponentProps\r\n    ): DomTrackingContainer<DomTrackingContainerProps> {\r\n        const { x, y, width, height } = this.ref.current.getBoundingClientRect();\r\n        return new DomTrackingContainer<DomTrackingContainerProps>({\r\n            highlight: true,\r\n            x,\r\n            y,\r\n            width,\r\n            height,\r\n        });\r\n    }\r\n}\r\n\r\nexport const NPCWindow = withResizeDetector(withAppPosition(withPixiApp(NPCWindowClass)));\r\n","import React, { ReactElement } from 'react';\r\nimport { withResizeDetector } from 'react-resize-detector';\r\nimport { WindowBackground } from '../../../../common/components/BackgroundComponent/WindowBackground';\r\nimport {\r\n    ContainerLinkedComponent,\r\n    ContainerLinkedComponentProps,\r\n    ContainerLinkedComponentState,\r\n} from '../../../../common/components/ContainerLinkedComponent/ContainerLinkedComponent';\r\nimport { withAppPosition } from '../../../../common/hocs/withAppPosition';\r\nimport { withPixiApp } from '../../../../common/hocs/withPixiApp';\r\nimport {\r\n    DomTrackingContainer,\r\n    DomTrackingContainerProps,\r\n} from '../../../../common/pixi/containers/DomTrackingContainer';\r\nimport { WindowType } from '../../../enums';\r\nimport './TextWindow.scss';\r\n\r\nexport interface TextWindowProps extends ContainerLinkedComponentProps {}\r\n\r\nexport class TextWindowClass extends ContainerLinkedComponent {\r\n    public render(): ReactElement {\r\n        return (\r\n            <div ref={this.ref} className=\"Window TextWindow\">\r\n                <WindowBackground windowType={WindowType.TEXT}>\r\n                    <div className=\"screen\">\r\n                        <div className=\"content\">\r\n                            <h2>Text Window</h2>\r\n                            <p>\r\n                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras turpis\r\n                                neque, egestas ornare nulla non, cursus sollicitudin nisi. Proin\r\n                                vitae ex bibendum, vestibulum libero et, pretium lectus. Nulla\r\n                                euismod leo blandit, commodo magna commodo, molestie felis. Cras\r\n                                libero dolor, tempor at ipsum id, aliquet interdum sapien. Etiam non\r\n                                purus ornare, efficitur dolor non, mollis arcu. Ut et finibus nisl,\r\n                                et cursus orci. Vestibulum in velit id ligula elementum vulputate in\r\n                                quis quam. Donec tincidunt et nunc ut accumsan. Vivamus laoreet\r\n                                tellus sagittis massa mollis, quis placerat mauris varius. Donec\r\n                                maximus sodales velit aliquet varius.\r\n                            </p>\r\n                            <p>\r\n                                Mauris euismod ultrices lacus, ut consectetur massa congue quis. In\r\n                                consequat sem ac finibus condimentum. Vestibulum ante ipsum primis\r\n                                in faucibus orci luctus et ultrices posuere cubilia curae; Donec sed\r\n                                nibh scelerisque, placerat lacus at, dignissim justo. Cras et lacus\r\n                                non velit congue aliquet non nec elit. Mauris semper auctor feugiat.\r\n                                Duis at tincidunt nulla. Duis eget ligula vehicula, tempus mauris\r\n                                pellentesque, mollis libero. Fusce efficitur venenatis magna eu\r\n                                finibus.\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </WindowBackground>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    protected getInitialState(\r\n        parentState: ContainerLinkedComponentState\r\n    ): ContainerLinkedComponentState {\r\n        return parentState;\r\n    }\r\n\r\n    protected createContainer(\r\n        props: ContainerLinkedComponentProps\r\n    ): DomTrackingContainer<DomTrackingContainerProps> {\r\n        const { x, y, width, height } = this.ref.current.getBoundingClientRect();\r\n        return new DomTrackingContainer({\r\n            highlight: false,\r\n            x,\r\n            y,\r\n            width,\r\n            height,\r\n        });\r\n    }\r\n}\r\n\r\nexport const TextWindow = withResizeDetector(withAppPosition(withPixiApp(TextWindowClass)));\r\n","import React, { Component, ReactElement } from 'react';\r\n\r\nexport interface TabProps {\r\n    name: string;\r\n}\r\n\r\nexport class Tab extends Component<TabProps> {\r\n    public render(): ReactElement {\r\n        return <div className=\"Tab\">{this.props.children}</div>;\r\n    }\r\n}\r\n","import classNames from 'classnames';\r\nimport React, { Component, ReactElement } from 'react';\r\nimport { Callback, noop } from '../../../../common/functions';\r\nimport { TabProps } from './Tab';\r\n\r\nexport interface TabHeaderProps {\r\n    tab: ReactElement<TabProps>;\r\n    selected: boolean;\r\n    onSelect?: Callback<ReactElement<TabProps>>;\r\n}\r\n\r\nexport class TabHeader extends Component<TabHeaderProps> {\r\n    public static defaultProps: Partial<TabHeaderProps> = {\r\n        onSelect: noop,\r\n    };\r\n\r\n    public constructor(props: TabHeaderProps) {\r\n        super(props);\r\n        this.onSelect = this.onSelect.bind(this);\r\n    }\r\n\r\n    public render(): ReactElement {\r\n        const { tab, selected } = this.props;\r\n        return (\r\n            <li className={classNames('TabHeader', { selected })}>\r\n                <button onClick={this.onSelect}>{tab.props.name}</button>\r\n            </li>\r\n        );\r\n    }\r\n\r\n    private onSelect(): void {\r\n        this.props.onSelect(this.props.tab);\r\n    }\r\n}\r\n","import React, { Children, Component, ReactElement } from 'react';\r\nimport { TabProps } from './Tab';\r\nimport { TabHeader } from './TabHeader';\r\nimport './Tabs.scss';\r\n\r\nexport interface TabsProps {\r\n    children?: ReactElement<TabProps> | Array<ReactElement<TabProps>>;\r\n}\r\n\r\nexport interface TabsState {\r\n    selected: string;\r\n}\r\n\r\nexport class Tabs extends Component<TabsProps, TabsState> {\r\n    public constructor(props: TabsProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selected: null,\r\n        };\r\n\r\n        this.onSelectTab = this.onSelectTab.bind(this);\r\n    }\r\n\r\n    public render(): ReactElement {\r\n        const { selected } = this.state;\r\n        const tabs = Children.map(this.props.children, (child: ReactElement<TabProps>) => child);\r\n        const selectedTab = tabs.find((tab) => tab.props.name === selected) ?? tabs[0];\r\n\r\n        return (\r\n            <div className=\"Tabs\">\r\n                <ol className=\"tabs-header\">\r\n                    {tabs.map((tab) => (\r\n                        <TabHeader\r\n                            key={tab.props.name}\r\n                            tab={tab}\r\n                            selected={tab === selectedTab}\r\n                            onSelect={this.onSelectTab}\r\n                        />\r\n                    ))}\r\n                </ol>\r\n                <div className=\"tab-pane\">{selectedTab}</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onSelectTab(tab: ReactElement<TabProps>): void {\r\n        this.setState({ selected: tab.props.name });\r\n    }\r\n}\r\n","import React, { ChangeEvent, Component, ReactElement } from 'react';\r\nimport { noop } from '../../../../common/functions';\r\nimport { AppearanceItem } from '../../../../common/model/appearance/AppearanceItem';\r\nimport {\r\n    AppearanceSlotNames,\r\n    AppearanceSlotType,\r\n} from '../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../common/model/appearance/ItemCategory';\r\n\r\nexport interface DressingRoomSlotSelectProps {\r\n    category: ItemCategory;\r\n    slot: AppearanceSlotType;\r\n    item: AppearanceItem;\r\n    options: AppearanceItem[];\r\n    onSelect?: (category: ItemCategory, slot: AppearanceSlotType, item: AppearanceItem) => void;\r\n}\r\n\r\nexport class DressingRoomSlotSelect extends Component<DressingRoomSlotSelectProps> {\r\n    public static defaultProps: Partial<DressingRoomSlotSelectProps> = {\r\n        onSelect: noop,\r\n    };\r\n\r\n    public constructor(props: DressingRoomSlotSelectProps) {\r\n        super(props);\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    public render(): ReactElement {\r\n        const { category, slot, item, options } = this.props;\r\n        const id = `dressing-room-slot-select-${category}-${slot}`;\r\n        return (\r\n            <select\r\n                name={AppearanceSlotNames[slot]}\r\n                id={id}\r\n                className=\"DressingRoomSlotSelect\"\r\n                value={item?.id ?? ''}\r\n                onChange={this.onChange}\r\n            >\r\n                <option key=\"nothing\" value={''}>\r\n                    Nothing\r\n                </option>\r\n                {options.map((item) => (\r\n                    <option key={item.id} value={item.id}>\r\n                        {item.displayName}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        );\r\n    }\r\n\r\n    private onChange(e: ChangeEvent<HTMLSelectElement>): void {\r\n        const { category, slot, options, onSelect } = this.props;\r\n        const item = options.find((i) => i.id === e.target.value) ?? null;\r\n        onSelect(category, slot, item);\r\n    }\r\n}\r\n","import React, { Component, ReactElement } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport { noop } from '../../../../common/functions';\r\nimport { AppearanceItem } from '../../../../common/model/appearance/AppearanceItem';\r\nimport {\r\n    AppearanceSlot,\r\n    AppearanceSlotNames,\r\n    AppearanceSlotType,\r\n} from '../../../../common/model/appearance/AppearanceSlot';\r\nimport {\r\n    ItemCategory,\r\n    ItemCategoryNames,\r\n    ItemCategoryValues,\r\n} from '../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../common/model/appearance/ItemFamily';\r\nimport { CharacterAppearance } from '../../../../common/model/character/Character';\r\nimport { setPlayerAppearanceItem } from '../../../../common/redux/character/playerActions';\r\nimport { getPlayerAppearance } from '../../../../common/redux/character/playerSelectors';\r\nimport {\r\n    getItemCategoryMappings,\r\n    ItemCategoryMapping,\r\n} from '../../../../common/redux/item/itemSelectors';\r\nimport { State } from '../../../redux/store';\r\nimport { Tab, TabProps } from '../../common/Tabs/Tab';\r\nimport { Tabs } from '../../common/Tabs/Tabs';\r\nimport './DressingRoomControlsWindow.scss';\r\nimport { DressingRoomSlotSelect } from './DressingRoomSlotSelect';\r\n\r\nexport interface DressingRoomControlsWindowProps {\r\n    appearance: CharacterAppearance;\r\n    itemCategoryMapping: ItemCategoryMapping;\r\n    onItemSet?: (category: ItemCategory, slot: AppearanceSlotType, item: AppearanceItem) => void;\r\n}\r\n\r\nexport class DressingRoomControlsWindowClass extends Component<DressingRoomControlsWindowProps> {\r\n    public static defaultProps: Partial<DressingRoomControlsWindowProps> = {\r\n        onItemSet: noop,\r\n    };\r\n\r\n    public render(): ReactElement {\r\n        return (\r\n            <div className=\"Window DressingRoomControlsWindow\">\r\n                <h2>Dressing Room</h2>\r\n                <Tabs>{ItemCategoryValues.map((category) => this.renderCategory(category))}</Tabs>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private renderCategory(category: ItemCategory): ReactElement<TabProps> {\r\n        const { appearance } = this.props;\r\n        const slotMapping = appearance.categories[category];\r\n        const itemFamily = appearance.family;\r\n        return (\r\n            <Tab key={category} name={ItemCategoryNames[category]}>\r\n                <table className=\"slot-list\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Slot</th>\r\n                            <th>Item</th>\r\n                            <th>Description</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {itemFamily.slots.map((slot) => {\r\n                            const exclude =\r\n                                Array.isArray(slot.categories) &&\r\n                                !slot.categories.includes(category);\r\n                            if (exclude) {\r\n                                return null;\r\n                            }\r\n                            const item = slotMapping[slot.type];\r\n                            return (\r\n                                <tr key={slot.type}>\r\n                                    <td>{AppearanceSlotNames[slot.type]}</td>\r\n                                    <td>{this.renderSlotSelect(category, slot)}</td>\r\n                                    <td>{item?.description ?? <em>No Description</em>}</td>\r\n                                </tr>\r\n                            );\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </Tab>\r\n        );\r\n    }\r\n\r\n    private renderSlotSelect(category: ItemCategory, slot: AppearanceSlot): ReactElement {\r\n        const { appearance, itemCategoryMapping } = this.props;\r\n        const characterSlotMapping = appearance.categories[category];\r\n        const item = characterSlotMapping[slot.type] ?? null;\r\n        const availableItems = itemCategoryMapping[category][slot.type] ?? [];\r\n        return (\r\n            <DressingRoomSlotSelect\r\n                category={category}\r\n                slot={slot.type}\r\n                item={item}\r\n                options={availableItems}\r\n                onSelect={this.props.onItemSet}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: State): Partial<DressingRoomControlsWindowProps> {\r\n    return {\r\n        appearance: getPlayerAppearance(state),\r\n        itemCategoryMapping: getItemCategoryMappings(state, ItemFamilyType.HUMAN),\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch): Partial<DressingRoomControlsWindowProps> {\r\n    return {\r\n        onItemSet(category: ItemCategory, slot: AppearanceSlotType, item: AppearanceItem): void {\r\n            dispatch(setPlayerAppearanceItem(category, slot, item));\r\n        },\r\n    };\r\n}\r\n\r\nexport const DressingRoomControlsWindow = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(DressingRoomControlsWindowClass);\r\n","import { ConfigHotkeysState, Hotkey } from '../redux/config/configState';\r\n\r\nexport enum ArrowKey {\r\n    LEFT = 'left',\r\n    RIGHT = 'right',\r\n    UP = 'up',\r\n    DOWN = 'down',\r\n}\r\n\r\nexport function isArrowKey(e: KeyboardEvent, hotkeys: ConfigHotkeysState): ArrowKey {\r\n    if (hotkeys[Hotkey.LEFT].includes(e.key)) {\r\n        return ArrowKey.LEFT;\r\n    } else if (hotkeys[Hotkey.RIGHT].includes(e.key)) {\r\n        return ArrowKey.RIGHT;\r\n    } else if (hotkeys[Hotkey.UP].includes(e.key)) {\r\n        return ArrowKey.UP;\r\n    } else if (hotkeys[Hotkey.DOWN].includes(e.key)) {\r\n        return ArrowKey.DOWN;\r\n    }\r\n    return null;\r\n}\r\n","import { BehaviorSubject, combineLatest, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { ProgressStats } from '../components/ProgressBar/ProgressBar';\r\nimport { log } from './Log';\r\n\r\nexport function preloadImages(...urls: string[]): Observable<ProgressStats> {\r\n    const min = 0;\r\n    const max = urls.length;\r\n\r\n    return combineLatest(urls.map((url) => preloadImage(url))).pipe(\r\n        map((values: boolean[]) => {\r\n            const progress = values.reduce((sum, value) => {\r\n                return typeof value === 'boolean' ? sum + 1 : sum;\r\n            }, 0);\r\n            return { min, max, progress };\r\n        })\r\n    );\r\n}\r\n\r\nfunction preloadImage(url: string, retryCount = 0): Observable<boolean> {\r\n    const subject = new BehaviorSubject(null);\r\n    const img = new Image();\r\n    img.src = url;\r\n    img.onload = () => {\r\n        log.trace(`Image URL \"${url}\" successfully preloaded`);\r\n        subject.next(true);\r\n        subject.complete();\r\n    };\r\n    img.onerror = (e: ErrorEvent) => {\r\n        log.warn(`Preload of image URL \"${url}\" failed. Retrying...`);\r\n        if (retryCount < 5) {\r\n            preloadImage(url, retryCount + 1).subscribe(subject);\r\n        } else {\r\n            subject.next(false);\r\n            subject.complete();\r\n        }\r\n    };\r\n    return subject;\r\n}\r\n","import { ConfigHotkeysState, WithConfigState } from './configState';\r\n\r\nexport function getConfigHotkeysState(state: WithConfigState): ConfigHotkeysState {\r\n    return state.config.hotkeys;\r\n}\r\n","import classNames from 'classnames';\r\nimport React, { Children, cloneElement, Component, CSSProperties, ReactElement } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Callback } from '../../functions';\r\nimport { getConfigHotkeysState } from '../../redux/config/configSelectors';\r\nimport { ConfigHotkeysState, Hotkey, WithConfigState } from '../../redux/config/configState';\r\nimport { ArrowKey, isArrowKey } from '../../util/keyboardUtils';\r\nimport { log } from '../../util/Log';\r\nimport './ButtonGrid.scss';\r\n\r\nexport interface NavigableButtonProps {\r\n    row: number;\r\n    column: number;\r\n    selected?: boolean;\r\n    onFocus?: Callback<NavigableButtonProps>;\r\n    onSelect?: Callback<NavigableButtonProps>;\r\n}\r\n\r\nexport interface ButtonGridProps<P extends NavigableButtonProps = NavigableButtonProps> {\r\n    children: ReactElement<P> | Array<ReactElement<P>>;\r\n    rows: number;\r\n    columns: number;\r\n    hotkeys: ConfigHotkeysState;\r\n    onSelect?: Callback<NavigableButtonProps>;\r\n    className?: string;\r\n}\r\n\r\nexport interface ButtonGridState {\r\n    row: number;\r\n    column: number;\r\n}\r\n\r\nexport class ButtonGridClass extends Component<ButtonGridProps, ButtonGridState> {\r\n    public constructor(props: ButtonGridProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            row: 0,\r\n            column: 0,\r\n        };\r\n\r\n        this.onKeyDown = this.onKeyDown.bind(this);\r\n        this.onFocus = this.onFocus.bind(this);\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        window.addEventListener('keydown', this.onKeyDown);\r\n    }\r\n\r\n    public componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.onKeyDown);\r\n    }\r\n\r\n    public render<P extends NavigableButtonProps = NavigableButtonProps>(): ReactElement {\r\n        const { children, className } = this.props;\r\n        return (\r\n            <ul className={classNames('ButtonGrid', className)} style={this.getStyle()}>\r\n                {Children.map(children, (child: ReactElement<P>) => {\r\n                    const { row, column } = child.props;\r\n                    const selected = row === this.state.row && column === this.state.column;\r\n                    return (\r\n                        <li style={{ gridRowStart: row + 1, gridColumnStart: column + 1 }}>\r\n                            {cloneElement<P>(child, {\r\n                                ...child.props,\r\n                                selected,\r\n                                onFocus: this.onFocus,\r\n                            })}\r\n                        </li>\r\n                    );\r\n                })}\r\n            </ul>\r\n        );\r\n    }\r\n\r\n    protected getStyle(): CSSProperties {\r\n        const { rows, columns } = this.props;\r\n        return {\r\n            gridTemplateRows: new Array(rows).fill('1fr').join(' '),\r\n            gridTemplateColumns: new Array(columns).fill('1fr').join(' '),\r\n        };\r\n    }\r\n\r\n    protected onKeyDown(e: KeyboardEvent): void {\r\n        const { children, hotkeys } = this.props;\r\n        if (!hotkeys) {\r\n            return;\r\n        }\r\n        const arrowKey = isArrowKey(e, hotkeys);\r\n        if (arrowKey) {\r\n            this.onArrowKey(arrowKey);\r\n        } else if (hotkeys[Hotkey.SELECT].includes(e.key)) {\r\n            const { row, column } = this.state;\r\n            const selected = Children.toArray(children).find(\r\n                (child: ReactElement<NavigableButtonProps>) =>\r\n                    child.props.row === row && child.props.column === column\r\n            ) as ReactElement<NavigableButtonProps>;\r\n            if (selected) {\r\n                const { onSelect } = selected.props;\r\n                typeof onSelect === 'function' && onSelect(selected.props);\r\n            }\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n    }\r\n\r\n    protected onArrowKey(arrowKey: ArrowKey): void {\r\n        let { row, column } = this.state;\r\n        const { rows, columns } = this.props;\r\n        switch (arrowKey) {\r\n            case ArrowKey.LEFT:\r\n                column--;\r\n                break;\r\n            case ArrowKey.RIGHT:\r\n                column++;\r\n                break;\r\n            case ArrowKey.UP:\r\n                row--;\r\n                break;\r\n            case ArrowKey.DOWN:\r\n                row++;\r\n                break;\r\n            default:\r\n                log.warn(`Invalid arrow key: ${arrowKey}`);\r\n                break;\r\n        }\r\n        if (column < 0) {\r\n            column = columns - 1;\r\n        } else if (column >= columns) {\r\n            column = 0;\r\n        }\r\n        if (row < 0) {\r\n            row = rows - 1;\r\n        } else if (row >= rows) {\r\n            row = 0;\r\n        }\r\n        this.setState({ row, column });\r\n    }\r\n\r\n    protected onFocus({ row, column }: NavigableButtonProps): void {\r\n        this.setState({ row, column });\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state: WithConfigState): Pick<ButtonGridProps, 'hotkeys'> {\r\n    return {\r\n        hotkeys: getConfigHotkeysState(state),\r\n    };\r\n}\r\n\r\nexport const ButtonGrid = connect(mapStateToProps)(ButtonGridClass);\r\n","import classNames from 'classnames';\r\nimport React, { Component, createRef, ReactElement } from 'react';\r\nimport { NavigableButtonProps } from '../../../../common/components/ButtonGrid/ButtonGrid';\r\nimport { noop } from '../../../../common/functions';\r\nimport './MainMenuButton.scss';\r\n\r\nexport interface MainMenuButtonProps extends NavigableButtonProps {}\r\n\r\nexport class MainMenuButton extends Component<MainMenuButtonProps> {\r\n    public static readonly defaultProps: Partial<MainMenuButtonProps> = {\r\n        onFocus: noop,\r\n        onSelect: noop,\r\n    };\r\n\r\n    private readonly buttonRef = createRef<HTMLButtonElement>();\r\n\r\n    public constructor(props: MainMenuButtonProps) {\r\n        super(props);\r\n        this.onFocus = this.onFocus.bind(this);\r\n        this.onSelect = this.onSelect.bind(this);\r\n    }\r\n\r\n    public componentDidUpdate(prevProps: Readonly<MainMenuButtonProps>) {\r\n        if (this.props.selected && !prevProps.selected) {\r\n            this.buttonRef.current.focus();\r\n        }\r\n    }\r\n\r\n    public render(): ReactElement {\r\n        const { selected } = this.props;\r\n        return (\r\n            <button\r\n                ref={this.buttonRef}\r\n                className={classNames('MainMenuButton', { selected })}\r\n                onFocus={this.onFocus}\r\n                onClick={this.onSelect}\r\n            >\r\n                {this.props.children}\r\n            </button>\r\n        );\r\n    }\r\n\r\n    private onFocus(): void {\r\n        this.props.onFocus(this.props);\r\n    }\r\n\r\n    private onSelect(): void {\r\n        this.props.onSelect(this.props);\r\n    }\r\n}\r\n","import React, { Component, ReactElement } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ButtonGrid } from '../../../../common/components/ButtonGrid/ButtonGrid';\r\nimport { noop } from '../../../../common/functions';\r\nimport { MainMenuButton } from './MainMenuButton';\r\n\r\nexport interface MainMenuButtonsProps {\r\n    onNewGame(): void;\r\n    onLoadGame(): void;\r\n    onSettings(): void;\r\n}\r\n\r\nexport class MainMenuButtonsClass extends Component<MainMenuButtonsProps> {\r\n    public static defaultProps: MainMenuButtonsProps = {\r\n        onNewGame: noop,\r\n        onLoadGame: noop,\r\n        onSettings: noop,\r\n    };\r\n\r\n    public constructor(props: MainMenuButtonsProps) {\r\n        super(props);\r\n        this.onNewGame = this.onNewGame.bind(this);\r\n        this.onLoadGame = this.onLoadGame.bind(this);\r\n        this.onSettings = this.onSettings.bind(this);\r\n    }\r\n\r\n    public render(): ReactElement {\r\n        return (\r\n            <ButtonGrid rows={3} columns={1}>\r\n                <MainMenuButton row={0} column={0} onSelect={this.onNewGame}>\r\n                    New Game\r\n                </MainMenuButton>\r\n                <MainMenuButton row={1} column={0} onSelect={this.onLoadGame}>\r\n                    Load Game\r\n                </MainMenuButton>\r\n                <MainMenuButton row={2} column={0} onSelect={this.onSettings}>\r\n                    Settings\r\n                </MainMenuButton>\r\n            </ButtonGrid>\r\n        );\r\n    }\r\n\r\n    private onNewGame(): void {\r\n        this.props.onNewGame();\r\n    }\r\n\r\n    private onLoadGame(): void {\r\n        this.props.onLoadGame();\r\n    }\r\n\r\n    private onSettings(): void {\r\n        this.props.onSettings();\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(): Pick<\r\n    MainMenuButtonsProps,\r\n    'onNewGame' | 'onLoadGame' | 'onSettings'\r\n> {\r\n    return {\r\n        onNewGame(): void {\r\n            console.log('dispatch new game');\r\n        },\r\n        onLoadGame(): void {\r\n            console.log('dispatch load game');\r\n        },\r\n        onSettings(): void {\r\n            console.log('dispatch settings');\r\n        },\r\n    };\r\n}\r\n\r\nexport const MainMenuButtons = connect(null, mapDispatchToProps)(MainMenuButtonsClass);\r\n","import React, { CSSProperties, ReactElement } from 'react';\r\nimport {\r\n    PixiAppView,\r\n    PixiAppViewProps,\r\n} from '../../../../common/components/PixiAppView/PixiAppView';\r\nimport { preloadImages } from '../../../../common/util/imageUtils';\r\nimport { GAME_NAME } from '../../../config/config';\r\nimport { LoadingScreen } from '../../LoadingScreen/LoadingScreen';\r\nimport { MainMenuButtons } from './MainMenuButtons';\r\nimport './MainMenuView.scss';\r\n\r\nconst mainMenuBackground = require('./main-menu-bg.png');\r\n\r\nexport interface MainMenuViewProps extends PixiAppViewProps {\r\n    onNewGame(): void;\r\n\r\n    onLoadGame(): void;\r\n\r\n    onSettings(): void;\r\n}\r\n\r\nexport class MainMenuView extends PixiAppView<MainMenuViewProps> {\r\n    private observable = preloadImages(mainMenuBackground);\r\n\r\n    public render(): ReactElement {\r\n        return (\r\n            <LoadingScreen observable={this.observable}>\r\n                <div className=\"AppView MainMenuView\" style={this.getBackgroundStyle()}>\r\n                    <div className=\"menu-backdrop\">\r\n                        <h1>{GAME_NAME}</h1>\r\n                        <MainMenuButtons />\r\n                    </div>\r\n                </div>\r\n            </LoadingScreen>\r\n        );\r\n    }\r\n\r\n    private getBackgroundStyle(): CSSProperties {\r\n        return {\r\n            backgroundImage: `url(${mainMenuBackground})`,\r\n        };\r\n    }\r\n}\r\n","import { Application } from 'pixi.js';\r\n\r\nexport class PixiApp extends Application {}\r\n","import { IPointData, ISize } from 'pixi.js';\r\nimport React, { createRef, PureComponent, ReactElement } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withResizeDetector } from 'react-resize-detector';\r\nimport { Dispatch } from 'redux';\r\nimport { FadeOut } from '../../../slimes-the-game/components/FadeOut/FadeOut';\r\nimport { DefaultView } from '../../../slimes-the-game/components/views/DefaultView/DefaultView';\r\nimport { DressingRoomView } from '../../../slimes-the-game/components/views/DressingRoomView/DressingRoomView';\r\nimport { MainMenuView } from '../../../slimes-the-game/components/views/MainMenuView/MainMenuView';\r\nimport { State } from '../../../slimes-the-game/redux/store';\r\nimport { Callback } from '../../functions';\r\nimport { PixiApp } from '../../pixi/PixiApp';\r\nimport { PixiAppUpdateManager } from '../../pixi/PixiAppUpdateManager';\r\nimport { appSetPixiApp, appSetPosition } from '../../redux/app/appActions';\r\nimport { getCurrentView } from '../../redux/app/appSelectors';\r\nimport { AppView } from '../../redux/app/appState';\r\nimport { PixiAppView } from '../PixiAppView/PixiAppView';\r\nimport './PixiAppComponent.scss';\r\n\r\nexport interface PixiAppComponentProps extends ISize {\r\n    view: typeof PixiAppView;\r\n    onPixiAppSet: Callback<PixiApp>;\r\n    onAppResize: Callback<IPointData>;\r\n}\r\n\r\nexport class PixiAppComponentClass extends PureComponent<PixiAppComponentProps> {\r\n    public static ROOT_ID = 'pixi-app-root';\r\n\r\n    private readonly pixiStageRef = createRef<HTMLDivElement>();\r\n    private app: PixiApp;\r\n\r\n    public componentDidMount(): void {\r\n        const element = this.pixiStageRef.current;\r\n        const width = element.clientWidth;\r\n        const height = element.clientHeight;\r\n        this.app = new PixiApp({ width, height, transparent: true });\r\n        this.app.view.id = 'pixi-app';\r\n        this.onResize();\r\n        element.appendChild(this.app.view);\r\n        this.props.onPixiAppSet(this.app);\r\n        this.app.ticker.add((delta) => PixiAppUpdateManager.updateApp(delta));\r\n    }\r\n\r\n    public componentDidUpdate(prevProps: Readonly<PixiAppComponentProps>): void {\r\n        const { width, height } = this.props;\r\n        if (\r\n            this.pixiStageRef.current &&\r\n            (width !== prevProps.width || height !== prevProps.height)\r\n        ) {\r\n            this.onResize();\r\n        }\r\n    }\r\n\r\n    public render(): ReactElement {\r\n        const View = this.props.view;\r\n        return (\r\n            <div id={PixiAppComponentClass.ROOT_ID} className=\"PixiAppComponent\">\r\n                <View app={this.app} />\r\n                <div className=\"pixi-app-stage\" ref={this.pixiStageRef} />\r\n                {this.props.children}\r\n                <FadeOut />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onResize(): void {\r\n        const element = this.pixiStageRef.current;\r\n        if (this.app.resizeTo !== element) {\r\n            this.app.resizeTo = element;\r\n        }\r\n        const { x, y } = element.getBoundingClientRect();\r\n        this.props.onAppResize({ x, y });\r\n    }\r\n}\r\n\r\nconst viewMapping: Record<AppView, typeof PixiAppView> = {\r\n    [AppView.MAIN_MENU]: MainMenuView,\r\n    [AppView.DEFAULT]: DefaultView,\r\n    [AppView.DRESSING_ROOM]: DressingRoomView,\r\n};\r\n\r\nfunction mapStateToProps(state: State): Partial<PixiAppComponentProps> {\r\n    return {\r\n        view: viewMapping[getCurrentView(state)],\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch): Partial<PixiAppComponentProps> {\r\n    return {\r\n        onPixiAppSet(app: PixiApp): void {\r\n            dispatch(appSetPixiApp(app));\r\n        },\r\n        onAppResize(position: IPointData): void {\r\n            dispatch(appSetPosition(position));\r\n        },\r\n    };\r\n}\r\n\r\nexport const PixiAppComponent = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(withResizeDetector(PixiAppComponentClass));\r\n","import React, { ReactElement } from 'react';\r\nimport { Observable } from 'rxjs';\r\nimport { PixiAppView } from '../../../../common/components/PixiAppView/PixiAppView';\r\nimport { ProgressStats } from '../../../../common/components/ProgressBar/ProgressBar';\r\nimport { LoadingScreen } from '../../LoadingScreen/LoadingScreen';\r\nimport { Sidebar } from '../../Sidebar/Sidebar';\r\nimport { CharacterWindow } from '../../windows/CharacterWindow/CharacterWindow';\r\nimport { MapWindow } from '../../windows/MapWindow/MapWindow';\r\nimport { NPCWindow } from '../../windows/NPCWindow/NPCWindow';\r\nimport { TextWindow } from '../../windows/TextWindow/TextWindow';\r\nimport './DefaultView.scss';\r\n\r\nexport class DefaultView extends PixiAppView {\r\n    private observable = new Observable<ProgressStats>((subscriber) => {\r\n        let progress = 0;\r\n        const interval = window.setInterval(() => {\r\n            if (progress >= 100) {\r\n                subscriber.complete();\r\n                clearInterval(interval);\r\n            } else {\r\n                progress += 25;\r\n                subscriber.next({ min: 0, max: 100, progress });\r\n            }\r\n        }, 1200);\r\n    });\r\n\r\n    public render(): ReactElement {\r\n        return (\r\n            <LoadingScreen observable={this.observable}>\r\n                <div className=\"AppView DefaultView\">\r\n                    <Sidebar />\r\n                    <div className=\"windows\">\r\n                        <TextWindow />\r\n                        <div className=\"context-windows\">\r\n                            <CharacterWindow />\r\n                            <div className=\"context-windows-lower\">\r\n                                <MapWindow />\r\n                                <NPCWindow />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </LoadingScreen>\r\n        );\r\n    }\r\n}\r\n","import React, { ReactElement } from 'react';\r\nimport { PixiAppView } from '../../../../common/components/PixiAppView/PixiAppView';\r\nimport { CharacterWindow } from '../../windows/CharacterWindow/CharacterWindow';\r\nimport { DressingRoomControlsWindow } from '../../windows/DressingRoomControlsWindow/DressingRoomControlsWindow';\r\nimport './DressingRoomView.scss';\r\n\r\nexport class DressingRoomView extends PixiAppView {\r\n    public render(): ReactElement {\r\n        return (\r\n            <div className=\"AppView DressingRoomView\">\r\n                <DressingRoomControlsWindow />\r\n                <CharacterWindow />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import classNames from 'classnames';\r\nimport React, { Component, ReactElement } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Action } from 'redux';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\nimport { Key } from 'ts-key-enum';\r\nimport { Callback, noop } from '../../../common/functions';\r\nimport { appSetView } from '../../../common/redux/app/appActions';\r\nimport { AppView } from '../../../common/redux/app/appState';\r\nimport { State } from '../../redux/store';\r\nimport './CheatMenu.scss';\r\n\r\nexport interface CheatMenuProps {\r\n    onViewSwitch?: Callback<AppView>;\r\n}\r\n\r\nexport interface CheatMenuState {\r\n    open: boolean;\r\n}\r\n\r\nexport class CheatMenuClass extends Component<CheatMenuProps, CheatMenuState> {\r\n    public static defaultProps: Partial<CheatMenuProps> = {\r\n        onViewSwitch: noop,\r\n    };\r\n\r\n    public constructor(props: CheatMenuProps) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n        };\r\n        this.onKeyDown = this.onKeyDown.bind(this);\r\n    }\r\n\r\n    public componentDidMount() {\r\n        window.addEventListener('keydown', this.onKeyDown);\r\n    }\r\n\r\n    public render(): ReactElement {\r\n        const { open } = this.state;\r\n        return (\r\n            <div className={classNames('CheatMenu', { open })}>{open && this.renderModal()}</div>\r\n        );\r\n    }\r\n\r\n    public renderModal(): ReactElement {\r\n        return (\r\n            <div className=\"cheat-modal-screen\">\r\n                <div className=\"cheat-modal\">\r\n                    <h3>Super Secret Cheat Menu</h3>\r\n                    <hr />\r\n                    <h4>View Switching</h4>\r\n                    <div className=\"buttons\">\r\n                        <button onClick={() => this.onViewSwitch(AppView.MAIN_MENU)}>\r\n                            Main Menu\r\n                        </button>\r\n                        <button onClick={() => this.onViewSwitch(AppView.DEFAULT)}>\r\n                            Default View\r\n                        </button>\r\n                        <button onClick={() => this.onViewSwitch(AppView.DRESSING_ROOM)}>\r\n                            Dressing Room\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private onKeyDown(e: KeyboardEvent): void {\r\n        if (e.key === 'c') {\r\n            this.setState({ open: !this.state.open });\r\n        }\r\n        if (e.key === Key.Escape && this.state.open) {\r\n            this.setState({ open: false });\r\n        }\r\n    }\r\n\r\n    private onViewSwitch(view: AppView): void {\r\n        const { onViewSwitch } = this.props;\r\n        this.setState({ open: false }, () => onViewSwitch(view));\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: ThunkDispatch<State, void, Action>): Partial<CheatMenuProps> {\r\n    return {\r\n        onViewSwitch(view: AppView): void {\r\n            dispatch(appSetView(view));\r\n        },\r\n    };\r\n}\r\n\r\nexport const CheatMenu = connect(null, mapDispatchToProps)(CheatMenuClass);\r\n","import { Callback } from '../../common/functions';\r\nimport { DefaultModule } from '../../common/types';\r\nimport RequireContext = __WebpackModuleApi.RequireContext;\r\n\r\nexport function loadContext<T>(\r\n    context: RequireContext,\r\n    moduleLoader: Callback<DefaultModule<T>>\r\n): void {\r\n    context.keys().forEach((key) => {\r\n        moduleLoader(context(key));\r\n    });\r\n}\r\n","import { AppearanceSlotType } from '../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../common/model/appearance/ItemFamily';\r\nimport { CharacterDefinition } from '../../../common/model/character/CharacterDefinition';\r\n\r\nconst player: CharacterDefinition = {\r\n    appearance: {\r\n        family: ItemFamilyType.HUMAN,\r\n        categories: {\r\n            [ItemCategory.BODY]: {\r\n                [AppearanceSlotType.HEAD]: 'defaultHead',\r\n                [AppearanceSlotType.TORSO]: 'defaultTorso',\r\n                [AppearanceSlotType.LEGS]: 'defaultLegs',\r\n                [AppearanceSlotType.ARM_LEFT]: 'defaultArmLeft',\r\n                [AppearanceSlotType.ARM_RIGHT]: 'defaultArmRight',\r\n                [AppearanceSlotType.HAIR_BACK]: 'defaultHairBack',\r\n                [AppearanceSlotType.EXPRESSION]: 'defaultExpression',\r\n                [AppearanceSlotType.HAIR_FRONT]: 'defaultHairFront',\r\n                [AppearanceSlotType.PUBIC_HAIR]: 'defaultPubicHair',\r\n                [AppearanceSlotType.SHADOW]: 'defaultShadow',\r\n            },\r\n            [ItemCategory.UNDERWEAR]: {\r\n                [AppearanceSlotType.HIPS]: 'plainPanties',\r\n                [AppearanceSlotType.TORSO]: 'plainBra',\r\n            },\r\n        },\r\n    },\r\n};\r\n\r\nexport default player;\r\n","import { CharacterDefinition } from '../../../common/model/character/CharacterDefinition';\r\nimport { registerCharacter } from '../../../common/redux/character/characterActions';\r\nimport { registerPlayer } from '../../../common/redux/character/playerActions';\r\nimport { DefaultModule } from '../../../common/types';\r\nimport { log } from '../../../common/util/Log';\r\nimport { store } from '../../redux/store';\r\nimport { loadContext } from '../dataLoaderUtils';\r\nimport player from './player';\r\n\r\nexport function loadPlayer(): void {\r\n    log.debug('Loading Player: Starting...');\r\n    store.dispatch(registerPlayer(player));\r\n    log.debug('Loading Player: Done.');\r\n}\r\n\r\nexport function loadCharacters(): void {\r\n    log.debug('Loading Characters: Starting...');\r\n    const context = require.context('./characters', false, /\\.ts$/);\r\n    loadContext<CharacterDefinition>(context, loadCharacterModule);\r\n    log.debug('Loading Characters: Done.');\r\n}\r\n\r\nfunction loadCharacterModule(module: DefaultModule<CharacterDefinition>): void {\r\n    store.dispatch(registerCharacter(module.default));\r\n}\r\n","import { AppearanceItemDefinition } from '../../../common/model/appearance/AppearanceItem';\r\nimport { ItemFamily } from '../../../common/model/appearance/ItemFamily';\r\nimport { registerItems } from '../../../common/redux/item/itemActions';\r\nimport { registerItemFamily } from '../../../common/redux/itemFamily/itemFamilyActions';\r\nimport { DefaultModule } from '../../../common/types';\r\nimport { log } from '../../../common/util/Log';\r\nimport { store } from '../../redux/store';\r\nimport { loadContext } from '../dataLoaderUtils';\r\n\r\nexport function loadFamilies(): void {\r\n    log.debug('Loading Item Families: Starting...');\r\n    const context = require.context('./families', false, /\\.ts$/);\r\n    loadContext<ItemFamily>(context, loadFamilyModule);\r\n    log.debug('Loading Item Families: Done.');\r\n}\r\n\r\nexport function loadItems(): void {\r\n    log.debug('Loading Items: Starting...');\r\n    const context = require.context('./items/player', false, /\\.ts$/);\r\n    loadContext<AppearanceItemDefinition[]>(context, loadItemModule);\r\n    log.debug('Loading Items: Done.');\r\n}\r\n\r\nfunction loadItemModule(module: DefaultModule<AppearanceItemDefinition[]>): void {\r\n    store.dispatch(registerItems(...module.default));\r\n}\r\n\r\nfunction loadFamilyModule(module: DefaultModule<ItemFamily>): void {\r\n    store.dispatch(registerItemFamily(module.default));\r\n}\r\n","import React, { Component, ReactNode } from 'react';\r\nimport { PixiAppComponent } from '../common/components/PixiAppComponent/PixiAppComponent';\r\nimport { log } from '../common/util/Log';\r\nimport { CheatMenu } from './components/CheatMenu/CheatMenu';\r\nimport { GAME_NAME } from './config/config';\r\nimport { loadCharacters, loadPlayer } from './data/character/characterLoader';\r\nimport { loadFamilies, loadItems } from './data/items/itemLoader';\r\nimport './SlimesTheGame.scss';\r\n\r\nexport class SlimesTheGame extends Component {\r\n    public constructor(props: {}) {\r\n        super(props);\r\n        loadFamilies();\r\n        loadItems();\r\n        loadPlayer();\r\n        loadCharacters();\r\n    }\r\n\r\n    public render(): ReactNode {\r\n        return (\r\n            <div id=\"SlimesTheGame\">\r\n                <PixiAppComponent>\r\n                    <CheatMenu />\r\n                </PixiAppComponent>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlog.info(`Welcome to ${GAME_NAME}`);\r\n","import 'pixi.js';\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport './index.scss';\r\nimport { store } from './slimes-the-game/redux/store';\r\nimport './slimes-the-game/SlimesTheGame';\r\nimport { SlimesTheGame } from './slimes-the-game/SlimesTheGame';\r\n\r\nconst appRoot = document.getElementById('app-root');\r\n\r\nrender(\r\n    <Provider store={store}>\r\n        <SlimesTheGame />\r\n    </Provider>,\r\n    appRoot\r\n);\r\n","import { AppearanceSlot } from './AppearanceSlot';\r\n\r\nexport enum ItemFamilyType {\r\n    HUMAN = 'Human',\r\n}\r\n\r\nexport interface ItemFamily {\r\n    type: ItemFamilyType;\r\n    slots: AppearanceSlot[];\r\n}\r\n","import memoizee from 'memoizee';\r\n\r\nexport type Callback<T> = (t: T) => void;\r\nexport type MapFunction<U, V> = (u: U) => V;\r\n\r\nexport function noop(...args: any[]): void {\r\n    return;\r\n}\r\n\r\nexport const memoize = memoizee;\r\n","import { MapFunction } from '../../../../common/functions';\r\nimport { AppearanceItemDefinition } from '../../../../common/model/appearance/AppearanceItem';\r\nimport { AppearanceSlotType } from '../../../../common/model/appearance/AppearanceSlot';\r\nimport { ItemCategory } from '../../../../common/model/appearance/ItemCategory';\r\nimport { ItemFamilyType } from '../../../../common/model/appearance/ItemFamily';\r\n\r\nexport type AppearanceItemShorthand = Omit<\r\n    AppearanceItemDefinition,\r\n    'family' | 'slot' | 'category'\r\n>;\r\n\r\nexport function itemDefinitionGenerator(\r\n    family: ItemFamilyType,\r\n    slot: AppearanceSlotType,\r\n    category: ItemCategory\r\n): MapFunction<AppearanceItemShorthand, AppearanceItemDefinition> {\r\n    return (def: AppearanceItemShorthand) => ({ ...def, family, slot, category });\r\n}\r\n"],"sourceRoot":""}